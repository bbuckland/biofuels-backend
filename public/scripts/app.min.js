'use strict';

angular.module('biofuels.sections.createVials', [
  'biofuels.sections.createVials.controller'
]);


'use strict';

angular.module('biofuels.sections.createVials.controller', [])
  .controller('createVialsCtrl',
    function ($log,
              vialService,
              $state,
              ROUTES,
              _
    ) {
      (function (vm) {
        $log.debug('This is from the home page');
        vm.vialData = {
          preparationDate: new Date()
        };
        vm.vials = [];
        vm.idCounter = 0;

        vm.vialTypes = [{
          code: 'RXN',
          description: 'REACTION'
        }, {
          code: 'GC',
          description: 'GC'
        }, {
          code: 'SPK',
          description: 'SPIKED'
        }];

        // vialService.getVials(vm.selectedVialType).then(function(data) {
        //   $log.debug(_.last(data));
        //   //vm.lastVial = _.last(data);
        // });

        vm.addToQueue = function () {
          $log.debug('Added to Queue');
          if (vm.selectedVialType === 'RXN') {
            vm.vial = {
              vialId: vm.vialData.vialId.toString(),
              preparationDate: vm.vialData.preparationDate,
              vialStatus: 0,
              fattyAcidmass: vm.vialData.fattyAcidmass,
              c15Istdcon: vm.vialData.c15Istdcon
            };
          } else if (vm.selectedVialType === 'GC') {
            vm.vial = {
              vialId: vm.vialData.vialId.toString(),
              preparationDate: vm.vialData.preparationDate,
              vialStatus: 0,
              c13Mass: vm.vialData.c13Mass,
              c13Istdcon: vm.vialData.c13Istdcon,
              c19Istdcon: vm.vialData.c19Istdcon
          };
          } else if (vm.selectedVialType === 'SPK') {
            vm.vial = {
              vialId: vm.vialData.vialId.toString(),
              preparationDate: vm.vialData.preparationDate,
              vialStatus: 0,
              c15Mass: vm.vialData.c15Mass,
              Mass450mlsample: vm.vialData.Mass450mlsample
            };
          }
          vm.vials.push(vm.vial);

          vm.vialData.vialId++;
        };

        vm.removeFromQueue = function (vial) {
          $log.debug(vial);
          var index = vm.vials.indexOf(vial);
          if (index > -1) {
            vm.vials.splice(index, 1);
          }
        };

        vm.saveVials = function () {
          $log.debug('Saved vials');

          vm.formError = '';
          vm.formResponse = '';
          vialService.createVial(vm.selectedVialType, vm.vials).then(function (data) {
            vm.formResponse = 'Successfully made vials!';
            $state.go(ROUTES.VIALS);
          }).catch(function (err) {
            vm.formError = err.error;
          });
        };

        vm.determineAddButtonStatus = function () {
          // Returning true disables the ADD button
          if (vm.selectedVialType === 'RXN') {
            return !(vm.vialData.vialId && vm.vialData.preparationDate && vm.vialData.fattyAcidmass && vm.vialData.c15Istdcon);
          } else if (vm.selectedVialType === 'GC') {
            return !(vm.vialData.vialId && vm.vialData.preparationDate && vm.vialData.c13Mass && vm.vialData.c13Istdcon && vm.vialData.c19Istdcon);
          } else if (vm.selectedVialType === 'SPK') {
            return !(vm.vialData.vialId && vm.vialData.preparationDate && vm.vialData.c15Mass && vm.vialData.Mass450mlsample && vm.vialData.gcVialID);
          }
          return true;
        };

      })(this);
    });

'use strict';

angular.module('biofuels.sections.editVials', [
  'biofuels.sections.editVials.controller'
]);


'use strict';

angular.module('biofuels.sections.editVials.controller', [])
  .controller('editVialsCtrl',
    function ($log,
              vialService,
              $state,
              ROUTES) {
      (function (vm) {
        vm.vialData = {};
        vm.vials = [];
        vm.idCounter = 0;

        vm.vialTypes = [{
          code: 'RXN',
          description: 'REACTION'
        }, {
          code: 'GC',
          description: 'GC'
        }, {
          code: 'SPK',
          description: 'SPIKED'
        }];

        vm.addToQueue = function () {
          $log.debug('Added to Queue');
          if (vm.selectedVialType === 'RXN') {
            vm.vial = {
              vialId: vm.vialData.vialId.toString(),
              preparationDate: vm.vialData.preparationDate,
              vialStatus: 0,
              fattyAcidmass: Number(vm.vialData.fattyAcidmass),
              c15Istdcon: Number(vm.vialData.c15Istdcon)
            };
          } else if (vm.selectedVialType === 'GC') {
            vm.vial = {
              vialId: vm.vialData.vialId.toString(),
              preparationDate: vm.vialData.preparationDate,
              vialStatus: 0,
              c13Mass: Number(vm.vialData.c13Mass),
              c13Istdcon: Number(vm.vialData.c13Istdcon),
              c19Istdcon: Number(vm.vialData.c19Istdcon)
            };
          } else if (vm.selectedVialType === 'SPK') {
            vm.vial = {
              vialId: vm.vialData.vialId.toString(),
              preparationDate: vm.vialData.preparationDate,
              vialStatus: 0,
              c15Mass: Number(vm.vialData.c15Mass),
              Mass450mlsample: Number(vm.vialData.Mass450mlsample)
            };
          }
          vm.vials.push(vm.vial);

          vm.vialData.vialId++;
        };

        vm.saveVials = function () {
          $log.debug('Saved vials');

          vm.formError = '';
          vm.formResponse = '';
          vialService.createVial(vm.selectedVialType, vm.vials).then(function (data) {
            vm.formResponse = 'Successfully made vials!';
            $state.go(ROUTES.VIALS);
          }).catch(function (err) {
            vm.formError = err.error;
          });
        };

        vm.determineAddButtonStatus = function () {
          // Returning true disables the ADD button
          if (vm.selectedVialType === 'RXN') {
            return !(vm.vialData.vialId && vm.vialData.preparationDate && vm.vialData.fattyAcidmass && vm.vialData.c15Istdcon);
          } else if (vm.selectedVialType === 'GC') {
            return !(vm.vialData.vialId && vm.vialData.preparationDate && vm.vialData.c13Mass && vm.vialData.c13Istdcon && vm.vialData.c19Istdcon);
          } else if (vm.selectedVialType === 'SPK') {
            return !(vm.vialData.vialId && vm.vialData.preparationDate && vm.vialData.c15Mass && vm.vialData.Mass450mlsample && vm.vialData.gcVialID);
          }
          return true;
        };

      })(this);
    });

'use strict';

angular.module('biofuels.sections.vortex', [
  'biofuels.sections.vortex.controller'
]);


'use strict';

angular.module('biofuels.sections.vortex.controller', [])
  .controller('vortexCtrl',
    function ($log,
              $state,
              ROUTES,
              $stateParams,
              sampleService
    ) {
      (function (vm) {
        vm.vortexMixers = [
          {id:1},
          {id:2},
          {id:3}
        ];

        vm.vortexMixerData = {};
        vm.submitData = [];
        vm.selectedSamples = $stateParams.samples;

        vm.saveData = function () {
          $log.debug(vm.submitData);

          var i;
          for (i = 0; i < vm.submitData.length; i++) {
            vm.submitData[i].vortexMxId = Number(vm.submitData[i].vortexMxId);
            vm.submitData[i].vortexMxTime = vm.vortexMixerData[i].timeMixed * 60;
          }

          sampleService.vortexMixer(vm.submitData)
            .then(function () {
              $state.go(ROUTES.SAMPLES)
            })
            .catch(function (err) {
              $log.error(err.error);
              vm.error = true;
            });

        };
      })(this);
    });

'use strict';

angular.module('biofuels.sections.thermoMixer', [
  'biofuels.sections.thermoMixer.controller'
]);


'use strict';

angular.module('biofuels.sections.thermoMixer.controller', [])
  .controller('thermoMixerCtrl',
    function ($log,
              $state,
              ROUTES,
              $stateParams,
              sampleService
    ) {
      (function (vm) {
        vm.thermoMixers = [
          {id:1},
          {id:2},
          {id:3}
        ];

        vm.thermoMixerData = {
          locations: [1,2,3,4,5,6,7,8],
          startTemp:99,
          rpm:600,
          endTemp:99,
          runDate: new Date()
        };

        vm.thmxLocs = [
          {thmxLoc:1},
          {thmxLoc:2},
          {thmxLoc:3},
          {thmxLoc:4},
          {thmxLoc:5},
          {thmxLoc:6},
          {thmxLoc:7},
          {thmxLoc:8},
        ];

        vm.submitData = [];
        vm.selectedSamples = $stateParams.samples;

        vm.saveData = function () {
          var i;
          for (i = 0; i < vm.submitData.length; i++) {
            vm.submitData[i].thmxLoc = Number(vm.thmxLocs[i].thmxLoc);

            var date = new Date(vm.thermoMixerData.runDate.getTime());
            var startTime = vm.thermoMixerData.startTime;
            $log.debug(startTime);
            date.setHours(startTime.getHours());
            date.setMinutes(startTime.getSeconds());
            vm.submitData[i].thmxDateRun = date;

            var endDate = new Date(vm.thermoMixerData.runDate.getTime());
            var endTime = vm.thermoMixerData.endTime;
            endDate.setHours(endTime.getHours());
            endDate.setMinutes(endTime.getSeconds());
            vm.submitData[i].thmxEndTime = endDate;

            vm.submitData[i].thmxId = Number(vm.thermoMixerData.thermoMixerID);
            vm.submitData[i].thmxStartTemp = vm.thermoMixerData.startTemp;
            vm.submitData[i].thmxEndTemp = vm.thermoMixerData.endTemp;
            vm.submitData[i].thmxRpm = vm.thermoMixerData.rpm;
            vm.submitData[i].thmxCoolTime = vm.thermoMixerData.coolTime * 60;
          }

          $log.debug(vm.submitData);
          sampleService.thermoMixer(vm.submitData)
            .then(function () {
              $state.go(ROUTES.SAMPLES)
            })
            .catch(function (err) {
              $log.error(err.error);
              vm.error = true;
            });

        };
      })(this);
    });

'use strict';

angular.module('biofuels.sections.rxnSelection', [
  'biofuels.sections.rxnSelection.controller'
]);


'use strict';

angular.module('biofuels.sections.rxnSelection.controller', [])
  .controller('rxnSelectionCtrl',
    function (
      $log,
      vialService,
      sampleService,
      $stateParams,
      $state,
      ROUTES,
      _
    ) {
      (function (vm) {
        vm.selectedSamples = $stateParams.samples;
        $log.debug(vm.selectedSamples);
        vm.submitData = [];
        vm.selectedVials = [];


        vialService.getVials('RXN').then(function (rxnVials) {
          vm.rxnVials = _.filter(rxnVials.data, function (vial) {
           return vial.assigned_sample_id === null;
          });
        });

        vm.saveRxnSelection = function () {
          sampleService.rxnSelection(vm.submitData).then(function (data) {
            $state.go(ROUTES.SAMPLES);
          });
        };

        vm.goToThermo = function () {
          sampleService.rxnSelection(vm.submitData).then(function (data) {
            $state.go(ROUTES.THERMO_MIXER, $stateParams);
          });
        };

        vm.selectedVial = function (index) {
          $log.debug(index);
          vm.selectedVials = _.pluck(vm.submitData, 'rxnVialId');
        }
      })(this);
    });

'use strict';

angular.module('biofuels.sections.newBatch', [
  'biofuels.sections.newBatch.controller'
]);


'use strict';

angular.module('biofuels.sections.newBatch.controller', [
  'biofuels.core.customer',
  'biofuels.core.sample'
])
  .controller('newBatchCtrl',
    function ($log,
              $mdDialog,
              customerService,
              sampleService,
              ROUTES,
              $state
    ) {
      (function (vm) {
        function getCustomerNames () {
          customerService.getCustomers().then(function (data) {
            vm.customers = data.data;
          });
        }

        getCustomerNames();

        vm.batchData = {};
        vm.samples = [];
        vm.workingSample = {};
        vm.workingIndex = 1;

        vm.addNewSample = function () {
          vm.samples.push(angular.copy(vm.workingSample));
          vm.workingIndex++;
          vm.workingSample.name = '';
          vm.workingSample.description = '';
          vm.sampleForm.$setPristine();
          vm.sampleForm.$setUntouched();
        };

        vm.deleteSample = function (index) {
          vm.samples.splice(index, 1);
          if (vm.workingIndex === index) {
            vm.workingSample = {};
          }
          vm.workingIndex = vm.samples.length;
        };

        vm.cancelEdit = function () {
          vm.workingSample = {};
          vm.sampleForm.$setPristine();
          vm.sampleForm.$setUntouched();
          vm.workingIndex = vm.samples.length;
        };

        vm.isEditing = function () {
          return vm.workingIndex < vm.samples.length;
        };

        vm.editSample = function (index) {
          vm.workingIndex = index;
          vm.workingSample = angular.copy(vm.samples[index]);
        };

        vm.saveEditedSample = function () {
          vm.samples[vm.workingIndex] = angular.copy(vm.workingSample);
          vm.workingSample = {};
          vm.sampleForm.$setPristine();
          vm.sampleForm.$setUntouched();
          vm.workingIndex = vm.samples.length;
        };

        vm.saveBatch = function (ev) {
          var confirm = $mdDialog.confirm()
            .title('Are you sure you want to save?')
            .textContent('Ensure you have entered all samples.')
            .ariaLabel('Entered All Samples')
            .targetEvent(ev)
            .ok('Create the Batch')
            .cancel('Hold please.');
          $mdDialog.show(confirm).then(function() {
              vm.batchData.samples = angular.fromJson(angular.toJson(vm.samples));
              vm.batchData.customerId += '';
              return vm.batchData;
          }).then(sampleService.createBatch)
            .then(function () {
              $state.go(ROUTES.SAMPLES)
            })
            .catch(function (err) {
              $log.error(err.error);
              vm.error = true;
            });
        };
      })(this);
    });

'use strict';

angular.module('biofuels.sections.centrifuge', [
  'biofuels.sections.centrifuge.controller'
]);


'use strict';

angular.module('biofuels.sections.centrifuge.controller', [])
  .controller('centrifugeCtrl',
    function ($log,
              $state,
              ROUTES,
              $stateParams,
              sampleService) {
      (function (vm) {
        vm.centrifuges = [
          {id: 1},
          {id: 2},
          {id: 3}
        ];

        vm.centrifugeData = {
          locations: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12],
          temp: 20,
          rpm: 2200,
          totalTime: 10,
          runDate: new Date()
        };

        vm.centLocs = [
          {centLoc: 1},
          {centLoc: 2},
          {centLoc: 3},
          {centLoc: 4},
          {centLoc: 5},
          {centLoc: 6},
          {centLoc: 7},
          {centLoc: 8},
          {centLoc: 9},
          {centLoc: 10},
          {centLoc: 11},
          {centLoc: 12}
        ];

        vm.submitData = [];
        vm.selectedSamples = $stateParams.samples;

        vm.saveData = function () {
          var i;
          for (i = 0; i < vm.submitData.length; i++) {
            vm.submitData[i].centrifugeId = Number(vm.centrifugeData.id);

            var date = new Date(vm.centrifugeData.runDate.getTime());
            var startTime = vm.centrifugeData.startTime;
            date.setHours(startTime.getHours());
            date.setMinutes(startTime.getSeconds());
            vm.submitData[i].centrifugeDateRun = date;

            vm.submitData[i].centrifugeTemp = vm.centrifugeData.temp;
            vm.submitData[i].centrifugeTotalTime = vm.centrifugeData.totalTime;
            vm.submitData[i].centrifugeRpm = vm.centrifugeData.rpm;
            vm.submitData[i].centrifugeLocation = vm.centLocs[i].centLoc;
          }
          $log.debug(vm.submitData);
          sampleService.centrifuge(vm.submitData)
            .then(function () {
              $state.go(ROUTES.SAMPLES)
            })
            .catch(function (err) {
              $log.error(err.error);
              vm.error = true;
            });

        };
      })(this);
    });

'use strict';

angular.module('biofuels.sections.createCustomer', [
  'biofuels.sections.createCustomer.controller'
]);


'use strict';

angular.module('biofuels.sections.createCustomer.controller', [])
  .controller('createCustomerCtrl',
    function ($log,
              customerService,
              $state,
              ROUTES
    ) {
      (function (vm) {
        $log.debug('This is from the home page');
        vm.customerData = {
          PONumbers: [],
        };
        vm.states = ('AL AK AZ AR CA CO CT DE FL GA HI ID IL IN IA KS KY LA ME MD MA MI MN MS ' +
        'MO MT NE NV NH NJ NM NY NC ND OH OK OR PA RI SC SD TN TX UT VT VA WA WV WI ' +
        'WY').split(' ').map(function(state) {
          return {abbrev: state};
        });

        vm.addToPOList = function (poNumber) {
          if (!vm.customerData.PONumbers.includes(poNumber) && poNumber) {
            vm.customerData.PONumbers.push(poNumber);
          }
        };

        vm.removeFromPOList = function (poNumber) {
          var index = vm.customerData.PONumbers.indexOf(poNumber);
          if (index > -1) {
            vm.customerData.PONumbers.splice(index, 1);
          }
        };

        vm.createCustomer = function () {
          $log.debug('Create this customer');

          vm.formError = '';
          vm.formResponse = '';
          customerService.createCustomer(vm.customerData.name, vm.customerData.code, vm.customerData.contactName1, vm.customerData.contactName2, vm.customerData.billingName,
                                         vm.customerData.address, vm.customerData.address2, vm.customerData.city, vm.customerData.state,
                                         Number(vm.customerData.postalCode), vm.customerData.phoneNumber, vm.customerData.email).then(function (data) {
            vm.formResponse = 'Successfully made customer!';
            $state.go(ROUTES.CUSTOMERS);
          }).catch(function (err) {
            vm.formError = err.error;
          });
        };

      })(this);
    });

'use strict';

angular.module('biofuels.sections.vials', [
  'biofuels.sections.vials.controller'
]);


'use strict';

angular.module('biofuels.sections.vials.controller', [])
  .controller('vialsCtrl',
    function ($log,
              vialService
    ) {
      (function (vm) {
        $log.debug('This is from the vials page');

        vm.options = {
          rowSelection: true,
          multiSelect: false,
          autoSelect: true,
          decapitate: false,
          largeEditDialog: false,
          boundaryLinks: false,
          limitSelect: true,
          pageSelect: true
        };
        vm.limitOptions = [5, 10, 15];
        vm.selected = [];
        vm.customers = [];
        vm.query = {
          order: 'vial_id',
          limit: 10,
          page: 1
        };

        vm.vialTypes = [{
          code: 'RXN',
          description: 'REACTION'
        }, {
          code: 'GC',
          description: 'GC'
        }, {
          code: 'SPK',
          description: 'SPIKED'
        }];
        vm.selectedVialType = vm.vialTypes[0].code;

        vm.changeVialType = function () {
          $log.debug('Change vial type');
          vm.getVials();
        };

        vm.convertDateString = function (dateString) {
          var date = new Date(dateString);
          return date.toLocaleDateString("en-US");
        };

        vm.getVials = function () {
          vm.vials = [];
          vm.formError = '';
          vm.formResponse = '';
          vm.promise = vialService.getVials(vm.selectedVialType).then(function (data) {
            vm.formResponse = 'Successfully got vial list!';
            vm.vials = data.data;
          }).catch(function (err) {
            vm.formError = err.error;
          });
        };

        vm.getVials();
      })(this);
    });

'use strict';

angular.module('biofuels.sections.samples', [
  'biofuels.sections.samples.controller'
]);


'use strict';

angular.module('biofuels.sections.samples.controller', [

])
  .controller('samplesCtrl',
    function ($log,
              sampleService,
              ROUTES,
              $state,
              $localStorage,
              $mdDialog,
              _
    ) {
      (function (vm) {
        $log.debug('This is from the samples page');
        vm.localStorage = $localStorage;
        vm.options = {
          rowSelection: true,
          multiSelect: true,
          autoSelect: true,
          decapitate: false,
          largeEditDialog: false,
          boundaryLinks: false,
          limitSelect: true,
          pageSelect: true
        };
        vm.limitOptions = [5, 8, 15];
        vm.selected = [];
        vm.query = {
          order: 'vial_id',
          limit: 8,
          page: 1
        };

        vm.init = function () {
          vm.sampleData = [];
          vm.promise = sampleService.getSamples().then(function (data) {
            $log.debug(data);
            vm.sampleData = data.data;
            vm.customers = _.uniq(_.pluck(vm.sampleData, 'customer_code')).sort();

            if (vm.localStorage && vm.localStorage.selectedCustomer) {
              updateForBatchData();
            }

            if (vm.localStorage && vm.localStorage.selectedBatch) {
              vm.changedBatchId();
            }
          });
        };

        vm.init();

        vm.allRxnTrue =  function () {
          return _.every(vm.selected, _.property('rxn_vial_id'));
        };
        vm.allThermoTrue = function () {
          return _.every(vm.selected, _.property('thermomixer_complete'));
        };
        vm.allVortexTrue = function () {
          return _.every(vm.selected, _.property('vortex_complete'));
        };
        vm.allFameTrue = function () {
          return _.every(vm.selected, _.property('fame_complete'));
        };

        function updateForBatchData () {
          vm.selected = [];
          vm.samples = [];
          var filteredSamples = _.filter(vm.sampleData, function(sample) {
            return sample.customer_code === vm.localStorage.selectedCustomer;
          });

          var pluckedBatches = _.uniq(_.pluck(filteredSamples, 'batch_id'));
          vm.batches = _.sortBy(pluckedBatches).reverse();
          $log.debug(vm.batches);
        };

        vm.changedCustomerCode = function () {
          updateForBatchData();
          delete vm.localStorage.selectedBatch;
        };

        vm.changedBatchId = function () {
          vm.selected = [];
          vm.samples = _.filter(vm.sampleData, function(sample) {
            return sample.batch_id === vm.localStorage.selectedBatch;
          });
        };

        vm.goToRxn = function () {
          $state.go(ROUTES.RXN_SELECTION, {
            samples: vm.selected
          });
        };

        vm.goToThermo = function (ev) {
          var alert = $mdDialog.alert()
            .title('Too many selected samples')
            .textContent('You cannot select more than 8 samples')
            .ariaLabel('Selected All Samples')
            .targetEvent(ev)
            .ok('Okay');
          if (vm.selected.length > 8) {
            $mdDialog.show(alert);
          } else {
            $state.go(ROUTES.THERMO_MIXER, {
              samples: vm.selected
            });
          }
        };

        vm.goToVortex = function () {
          $state.go(ROUTES.VORTEX, {
            samples: vm.selected
          });
        };

        vm.goToCentrifuge = function () {
          $state.go(ROUTES.CENTRIFUGE, {
            samples: vm.selected
          });
        };
      })(this);
    });

'use strict';

angular.module('biofuels.sections.login', [
  'biofuels.sections.login.controller'
]);


'use strict';

angular.module('biofuels.sections.login.controller', [
  'ngMessages',
  'ngStorage',
  'biofuels.core.user',
  'biofuels.core.router.constants'
])
  .controller('loginCtrl',
  function ($log,
            userService,
            $localStorage,
            $state,
            ROUTES
  ) {
    (function (vm) {
      $log.debug('This is from the logins page');

      vm.disableIt = false;
      vm.userLogin = {};
      vm.userRegister = {};

      if ($localStorage.userProfile && $localStorage.userProfile.email) {
        vm.userLogin.email = $localStorage.userProfile.email;
      }

      vm.onEnter = function (ev) {
        if (ev.which === 13) {
          vm.loginUser();
        }
      };

      vm.loginUser = function () {
        vm.formError = '';
        vm.formResponse = '';
        userService.login(vm.userLogin.email, vm.userLogin.password).then(function () {
          vm.formResponse = 'Successfully logged in!';
          $state.go(ROUTES.HOME);
        }).catch(function (err) {
          vm.formError = err.error;
        });
      };

      vm.registerUser = function () {
        vm.registerFormError = '';
        vm.registerFormResponse = '';
        userService.register(vm.userRegister.fullName,
            vm.userRegister.email,
            vm.userRegister.password).then(function () {

          vm.registerFormResponse = 'Successfully registered user!';
          vm.userLogin.email = vm.userRegister.email;
          vm.userRegister = {};
          vm.selectedTab = 0;
        }).catch(function (err) {
          vm.registerFormError = err.error;
        });
      };
    })(this);
  });

'use strict';

angular.module('biofuels.sections.customers', [
  'biofuels.sections.customers.controller'
]);


'use strict';

angular.module('biofuels.sections.customers.controller', [])
  .controller('customersCtrl',
    function ($log,
              customerService
    ) {
      (function (vm) {
        $log.debug('This is from the customers page');
        vm.selected = [];
        vm.customers = [];

        function getCustomers () {
          vm.formError = '';
          vm.formResponse = '';
          customerService.getCustomers().then(function (data) {
            vm.formResponse = 'Successfully got customer list!';
            vm.customers = data.data;
            $log.debug(vm.customers.length);
          }).catch(function (err) {
            vm.formError = err.error;
          });
        }

        getCustomers();
      })(this);
    });

'use strict';

angular.module('biofuels.sections.home', [
  'biofuels.sections.home.controller'
]);


'use strict';

angular.module('biofuels.sections.home.controller', [
  'ngStorage'
])
  .controller('homeCtrl',
  function ($log,
            $localStorage
  ) {
    (function (vm) {
      $log.debug('This is from the home page');

      vm.userProfile = $localStorage.userProfile;
      vm.labels = ['Download Sales', 'In-Store Sales', 'Mail-Order Sales'];
      vm.data = [300, 500, 100];


      vm.lineLabels = ['January', 'February', 'March', 'April', 'May', 'June', 'July'];
      vm.lineSeries = ['Series A', 'Series B'];
      vm.lineData = [
        [65, 59, 80, 81, 56, 55, 40],
        [28, 48, 40, 19, 86, 27, 90]
      ];

      vm.radarLabels =['Eating', 'Drinking', 'Sleeping', 'Designing', 'Coding', 'Cycling', 'Running'];

      vm.radarData = [
        [65, 59, 90, 81, 56, 55, 40],
        [28, 48, 40, 19, 96, 27, 100]
      ];


      vm.barLabels = ['2006', '2007', '2008', '2009', '2010', '2011', '2012'];
      vm.barSeries = ['Series A', 'Series B'];

      vm.barData = [
        [65, 59, 80, 81, 56, 55, 40],
        [28, 48, 40, 19, 86, 27, 90]
      ];
    })(this);
  });

'use strict';

angular.module('biofuels.core.wrappers', [
  'biofuels.core.wrappers.underscore'
]);

'use strict';

angular.module('biofuels.core.wrappers.underscore', [])
  .factory('_', ['$window', function($window) {
    if ($window && '_' in $window) {
      return $window._;
    }

    return {};
  }]);

'use strict';

angular.module('biofuels.core.vial', [
  'biofuels.core.vial.service'
]);

'use strict';

angular.module('biofuels.core.vial.service', [
    'biofuels.core.resource'
  ])
  .factory(
    'vialService',
    function ($log,
              resourceService,
              $q
    ) {
      function createVial (vialType, vials) {
        $log.debug('Creating vials');

        var payload = {
          vial_type: vialType,
          vials: vials
        };

        return resourceService.vialCreate.save(payload).$promise.then(function (data) {
          $log.debug(data);
        }).catch(function (err) {
          $log.error(err);
          return $q.reject(err.data);
        });
      }


      function getVials (vialType) {
        $log.debug('Getting vials');

        var query = {
          vial_type: vialType
        };

        return resourceService.vialList.get(query).$promise.then(function (data) {
          $log.debug(data);
          return data;
        }).catch(function (err) {
          $log.error(err);
          return $q.reject(err.data);
        });
      }

      return {
        createVial: createVial,
        getVials: getVials
      };
    }
  );


'use strict';

angular.module('biofuels.core.user', [
  'biofuels.core.user.service'
]);

'use strict';

angular.module('biofuels.core.user.service', [
  'ngStorage',
  'biofuels.core.resource'
])
  .factory(
    'userService',
    function ($log,
              resourceService,
              $localStorage,
              $q
    ) {
      function login (email, password) {
        $log.debug('Logging you in from the user service');

        var payload = {
          email: email,
          password: password
        };

        return resourceService.userAuth.save(payload).$promise.then(function (data) {
          $log.debug(data);
          $localStorage.userProfile = {
            id: data['user_id'],
            fullName: data['full_name'],
            email: data['email'],
            token: data['token']
          };
        }).catch(function (err) {
          $log.error(err);
          return $q.reject(err.data);
        });
      }

      function logout () {
        delete $localStorage.userProfile;
      }


      function register (fullName, email, password) {
        $log.debug('Logging you in from the user service');

        var payload = {
          full_name: fullName,
          email: email,
          password: password
        };

        return resourceService.userRegister.save(payload).$promise.then(function (data) {
          $log.debug(data);
        }).catch(function (err) {
          $log.error(err);
          return $q.reject(err.data);
        });
      }

      return {
        login: login,
        logout: logout,
        register: register
      };
    }
  );


'use strict';

angular.module('biofuels.templates', []);

'use strict';

angular.module('biofuels.core.sample', [
  'biofuels.core.sample.service'
]);

(function(module) {
try {
  module = angular.module('biofuels.templates');
} catch (e) {
  module = angular.module('biofuels.templates', []);
}
module.run(['$templateCache', function($templateCache) {
  $templateCache.put('sections/vials/create-vials/create-vials.tpl.html',
    '<div menu=""></div><div layout="row" layout-align="center"><div flex="50"><md-card><md-card-title><md-card-title-text><span class="md-headline">Create Vial</span></md-card-title-text></md-card-title><div layout="column" ng-cloak class="md-inline-form"><md-content layout-padding><div><form name="vialForm"><div layout-gt-xs="row"><md-input-container><label>Vial Type*</label><md-select ng-model="ctrl.selectedVialType" ng-disabled="ctrl.vials.length > 0"><md-option ng-repeat="vialType in ctrl.vialTypes" value="{{vialType.code}}">{{vialType.description}}</md-option></md-select></md-input-container></div><div layout-gt-xs="row"><md-input-container ng-show="ctrl.selectedVialType"><label>Vial ID*</label><input type="number" ng-model="ctrl.vialData.vialId"></md-input-container><md-datepicker ng-model="ctrl.vialData.preparationDate" md-placeholder="Enter date*" ng-show="ctrl.selectedVialType"></md-datepicker></div><div layout-gt-xs="row" ng-show="ctrl.selectedVialType == \'RXN\'"><md-input-container><label>Mass of Fatty Acid*</label><input type="number" ng-model="ctrl.vialData.fattyAcidmass"></md-input-container><md-input-container><label>Concentration of C-15 FA ISTD*</label><input type="number" ng-model="ctrl.vialData.c15Istdcon"></md-input-container></div><div layout-gt-xs="row" ng-show="ctrl.selectedVialType == \'GC\'"><md-input-container><label>Mass of FAME ISTD*</label><input type="number" ng-model="ctrl.vialData.c13Mass"></md-input-container><md-input-container><label>Concentration of C-13 ISTD*</label><input type="number" ng-model="ctrl.vialData.c13Istdcon"></md-input-container><md-input-container><label>Concentration of C-19 ISTD*</label><input type="number" ng-model="ctrl.vialData.c19Istdcon"></md-input-container></div><div layout-gt-xs="row" ng-show="ctrl.selectedVialType == \'SPK\'"><md-input-container><label>Mass of C-15 ISTD*</label><input type="number" ng-model="ctrl.vialData.c15Mass"></md-input-container><md-input-container><label>Mass of Sample Added*</label><input type="number" ng-model="ctrl.vialData.Mass450mlsample"></md-input-container><md-input-container><label>GC Vial ID*</label><input type="number" ng-model="ctrl.vialData.gcVialID"></md-input-container></div></form></div></md-content><md-card-actions layout="column" layout-align="end-end"><md-button class="md-raised md-primary" ng-click="ctrl.addToQueue()" ng-disabled="ctrl.determineAddButtonStatus()">Add</md-button></md-card-actions></div></md-card></div><div flex="25" ng-show="ctrl.vials.length > 0"><md-card><md-card-title><md-card-title-text><span class="md-headline">Vials</span></md-card-title-text></md-card-title><div layout="column" ng-cloak class="md-inline-form"><md-content layout-padding><div><md-list-item ng-repeat="vial in ctrl.vials track by $index"><p>{{ ctrl.selectedVialType}}-{{ vial.vialId}}</p><md-button class="md-raised" ng-click="ctrl.removeFromQueue(vial)">DELETE</md-button></md-list-item></div></md-content><md-card-actions layout="column" layout-align="center-center"><md-button class="md-raised md-primary" ng-click="ctrl.saveVials()">Save Vials</md-button></md-card-actions></div></md-card></div></div>');
}]);
})();

'use strict';

angular.module('biofuels.core.sample.service', [
    'biofuels.core.resource'
  ])
  .factory(
    'sampleService',
    function ($log,
              resourceService,
              $q
    ) {
      function getSamples () {
        $log.debug('Getting customers');

        var query = {};

        return resourceService.sampleList.get(query).$promise.then(function (data) {
          $log.debug(data);
          return data;
        }).catch(function (err) {
          $log.error(err);
          return $q.reject(err.data);
        });
      }

      function createBatch (batchData) {
        $log.debug('Creating batch');
        $log.debug(batchData);
        return resourceService.batchCreate.save(batchData).$promise.then(function (data) {
          $log.debug(data);
          return data;
        }).catch(function (err) {
          return $q.reject(err.data);
        });
      }

      function rxnSelection (dataArray) {
        var payload = {
          "rxndata": dataArray
        };

        return resourceService.rxnSelection.save(payload).$promise.then(function (data) {
          $log.debug(data);
        }).catch(function (err) {
          $log.error(err);
          return $q.reject(err.data);
        });
      }

      function thermoMixer (dataArray) {
        var payload = {
          "thermodata": dataArray
        };

        return resourceService.thermoMixer.save(payload).$promise.then(function (data) {
          $log.debug(data);
        }).catch(function (err) {
          $log.error(err);
          return $q.reject(err.data);
        });
      }

      function vortexMixer (dataArray) {
        var payload = {
          "vortexdata": dataArray
        };

        return resourceService.vortexMixer.save(payload).$promise.then(function (data) {
          $log.debug(data);
        }).catch(function (err) {
          $log.error(err);
          return $q.reject(err.data);
        });
      }

      function centrifuge (dataArray) {
        var payload = {
          "centrifugedata": dataArray
        };

        return resourceService.centrifuge.save(payload).$promise.then(function (data) {
          $log.debug(data);
        }).catch(function (err) {
          $log.error(err);
          return $q.reject(err.data);
        });
      }

      return {
        getSamples: getSamples,
        createBatch: createBatch,
        rxnSelection: rxnSelection,
        thermoMixer: thermoMixer,
        vortexMixer: vortexMixer,
        centrifuge: centrifuge
      };
    }
  );


(function(module) {
try {
  module = angular.module('biofuels.templates');
} catch (e) {
  module = angular.module('biofuels.templates', []);
}
module.run(['$templateCache', function($templateCache) {
  $templateCache.put('sections/vials/edit-vials/edit-vials.tpl.html',
    '<div menu=""></div><div layout="row" layout-align="center"><div flex="50"><md-card><md-card-title><md-card-title-text><span class="md-headline">Create Vial</span></md-card-title-text></md-card-title><div layout="column" ng-cloak class="md-inline-form"><md-content layout-padding><div><form name="vialForm"><div layout-gt-xs="row"><md-input-container><label>Vial Type*</label><md-select ng-model="ctrl.selectedVialType" ng-disabled="ctrl.vials.length > 0"><md-option ng-repeat="vialType in ctrl.vialTypes" value="{{vialType.code}}">{{vialType.description}}</md-option></md-select></md-input-container></div><div layout-gt-xs="row"><md-input-container ng-show="ctrl.selectedVialType"><label>Vial ID*</label><input ng-model="ctrl.vialData.vialId"></md-input-container><md-datepicker ng-model="ctrl.vialData.preparationDate" md-placeholder="Enter date*" ng-show="ctrl.selectedVialType"></md-datepicker></div><div layout-gt-xs="row" ng-show="ctrl.selectedVialType == \'RXN\'"><md-input-container><label>Mass of Fatty Acid*</label><input ng-model="ctrl.vialData.fattyAcidmass"></md-input-container><md-input-container><label>Concentration of C-15 FA ISTD*</label><input ng-model="ctrl.vialData.c15Istdcon"></md-input-container></div><div layout-gt-xs="row" ng-show="ctrl.selectedVialType == \'GC\'"><md-input-container><label>Mass of FAME ISTD*</label><input ng-model="ctrl.vialData.c13Mass"></md-input-container><md-input-container><label>Concentration of C-13 ISTD*</label><input ng-model="ctrl.vialData.c13Istdcon"></md-input-container><md-input-container><label>Concentration of C-19 ISTD*</label><input ng-model="ctrl.vialData.c19Istdcon"></md-input-container></div><div layout-gt-xs="row" ng-show="ctrl.selectedVialType == \'SPK\'"><md-input-container><label>Mass of C-15 ISTD*</label><input ng-model="ctrl.vialData.c15Mass"></md-input-container><md-input-container><label>Mass of Sample Added*</label><input ng-model="ctrl.vialData.Mass450mlsample"></md-input-container><md-input-container><label>GC Vial ID*</label><input ng-model="ctrl.vialData.gcVialID"></md-input-container></div></form></div></md-content><md-card-actions layout="column" layout-align="end-end"><md-button class="md-raised md-primary" ng-click="ctrl.addToQueue()" ng-disabled="ctrl.determineAddButtonStatus()">Add</md-button></md-card-actions></div></md-card></div><div flex="25" ng-show="ctrl.vials.length > 0"><md-card><md-card-title><md-card-title-text><span class="md-headline">Vials</span></md-card-title-text></md-card-title><div layout="column" ng-cloak class="md-inline-form"><md-content layout-padding><div><md-list-item ng-repeat="vial in ctrl.vials track by $index"><p>{{ ctrl.selectedVialType}}-{{ vial.vialId}}</p><md-button class="md-raised" ng-click="ctrl.removeFromQueue(vial)">DELETE</md-button></md-list-item></div></md-content><md-card-actions layout="column" layout-align="center-center"><md-button class="md-raised md-primary" ng-click="ctrl.saveVials()">Save Vials</md-button></md-card-actions></div></md-card></div></div>');
}]);
})();

'use strict';

angular.module('biofuels.core.router', [
  'biofuels.core.router.config',
  'biofuels.core.router.constants'
]);

(function(module) {
try {
  module = angular.module('biofuels.templates');
} catch (e) {
  module = angular.module('biofuels.templates', []);
}
module.run(['$templateCache', function($templateCache) {
  $templateCache.put('sections/samples/vortex/vortex.tpl.html',
    '<div menu=""></div><div flex layout="row" layout-align="center start"><div flex="75"><md-card><md-card-header><md-card-header-text><span class="md-title">Samples</span> <span class="md-subhead">Vortex Mixer Observations</span></md-card-header-text></md-card-header><md-card-content><form name="ctrl.vortexForm" class="md-inline-form"><div layout="row" flex ng-repeat="sample in ctrl.selectedSamples"><md-input-container class="md-block" flex="10"><label>Sample ID*</label><input type="number" ng-init="ctrl.submitData[$index].sampleId = sample.id" ng-model="ctrl.submitData[$index].sampleId" disabled="disabled" required></md-input-container><md-input-container class="md-block" flex><label>Water Added (&micro)*</label><input type="number" step="any" ng-model="ctrl.submitData[$index].waterVol" required></md-input-container><md-input-container class="md-block" flex><label>VortexMixerID*</label><md-select ng-model="ctrl.submitData[$index].vortexMxId" required><md-option ng-repeat="vortexMixer in ctrl.vortexMixers">{{vortexMixer.id}}</md-option></md-select></md-input-container><md-input-container class="md-block" flex><label>Post Vortex Color*</label><input type="text" ng-model="ctrl.submitData[$index].postWaterClr" required></md-input-container><md-input-container class="md-block" flex><label>Hexane Mass Added (mL)*</label><input type="number" ng-model="ctrl.submitData[$index].hexMass" required></md-input-container><md-slider-container flex="25"><label>Mixing Time (minutes)*</label><md-slider step="0.25" flex min="0" max="10" ng-model="ctrl.vortexMixerData[$index].timeMixed" required></md-slider></md-slider-container><md-input-container flex="5"><input step="0.25" flex type="number" min="0" max="10" ng-model="ctrl.vortexMixerData[$index].timeMixed" required></md-input-container></div></form></md-card-content><md-card-actions layout="row" layout-align="end center"><md-button class="md-primary" ng-disabled="ctrl.vortexForm.$invalid" ng-click="ctrl.saveData()">Save</md-button></md-card-actions></md-card></div></div>');
}]);
})();

'use strict';

angular.module('biofuels.core.router.constants', [])
  .constant(
  'ROUTES', {
    'CREATE_CUSTOMER':'createCustomer',
    'CREATE_VIALS':'createVials',
    'CUSTOMERS':'customers',
    'CENTRIFUGE':'centrifuge',
    'HOME': 'home',
    'LOGIN': 'login',
    'NEW_BATCH': 'newBatch',
    'RXN_SELECTION': 'rxnSelection',
    'SAMPLES':'samples',
    'THERMO_MIXER':'thermoMixer',
    'VIALS':'vials',
    'VORTEX':'vortex'
  })
  .constant(
    'AUTH_LEVEL', {
      'OPEN':'open',
      'AUTHENTICATE':'authenticate',
      'ADMIN':'admin'
    });

(function(module) {
try {
  module = angular.module('biofuels.templates');
} catch (e) {
  module = angular.module('biofuels.templates', []);
}
module.run(['$templateCache', function($templateCache) {
  $templateCache.put('sections/samples/thermo-mixer/thermo-mixer.tpl.html',
    '<div menu=""></div><form name="ctrl.thermoForm" class="md-inline-form"><div layout-gt-md="row" layout-align="center"><div layout-gt-md="row"><div flex layout="row" layout-align="center start"><div flex-md="90" flex-sm="90"><md-card><md-card-header><md-card-header-text><span class="md-title">Samples</span> <span class="md-subhead">Pre Thermo Mixer Observations</span></md-card-header-text></md-card-header><md-card-content><div layout="row" flex ng-repeat="sample in ctrl.selectedSamples"><md-input-container class="md-block" flex="10"><label>Sample ID*</label><input type="number" ng-init="ctrl.submitData[$index].sampleId = sample.id" ng-model="ctrl.submitData[$index].sampleId" disabled="disabled" required></md-input-container><md-input-container class="md-block" flex><label>Reagent Quantity*</label><input type="number" step="any" ng-model="ctrl.submitData[$index].reagentQty" required></md-input-container><md-input-container class="md-block" flex><label>Color*</label><input type="text" ng-model="ctrl.submitData[$index].preSampleClr" required></md-input-container><md-input-container class="md-block"><label>Thermo Location*</label><md-select ng-model="ctrl.thmxLocs[$index].thmxLoc"><md-option ng-repeat="location in ctrl.thermoMixerData.locations" required>{{location}}</md-option></md-select></md-input-container></div></md-card-content></md-card></div></div></div><div layout="row"><div flex layout="row" layout-align="center start"><div flex-md="90" flex-sm="90"><md-card><md-card-header><md-card-header-text><span class="md-title">Thermo Mixer</span></md-card-header-text></md-card-header><md-card-content><form name="ctrl.thermoForm" class="md-inline-form"><div layout="row" flex><md-input-container class="md-block"><label>ThermoMixerID*</label><md-select ng-model="ctrl.thermoMixerData.thermoMixerID" required><md-option ng-repeat="thermoMixer in ctrl.thermoMixers">{{thermoMixer.id}}</md-option></md-select></md-input-container><md-datepicker ng-model="ctrl.thermoMixerData.runDate" md-placeholder="Run date*" flex="50" required></md-datepicker></div><div layout="row" flex><md-input-container class="md-block" flex><label>Start Time*</label><input type="time" ng-model="ctrl.thermoMixerData.startTime" required></md-input-container><md-input-container class="md-block" flex><label>End Time*</label><input type="time" ng-model="ctrl.thermoMixerData.endTime" required></md-input-container></div><div layout="row" flex><md-input-container class="md-block" flex><label>Start Temperature °C*</label><input type="number" ng-model="ctrl.thermoMixerData.startTemp" required></md-input-container><md-input-container class="md-block" flex><label>End Temperature °C*</label><input type="number" ng-model="ctrl.thermoMixerData.endTemp" required></md-input-container><md-input-container class="md-block" flex="25"><label>RPM*</label><input type="number" ng-model="ctrl.thermoMixerData.rpm" required></md-input-container></div><div layout="row" flex><md-slider-container flex><label>Cool Time (mins)*</label><md-slider step="0.25" flex min="0" max="10" ng-model="ctrl.thermoMixerData.coolTime" required></md-slider></md-slider-container><md-input-container flex="15"><input step="0.25" flex type="number" min="0" max="10" ng-model="ctrl.thermoMixerData.coolTime" required></md-input-container></div></form></md-card-content></md-card></div></div></div><div layout="row"><div flex layout="row" layout-align="center start"><div flex-md="90" flex-sm="90"><md-card><md-card-header><md-card-header-text><span class="md-title">Samples</span> <span class="md-subhead">Post Thermo Mixer Observations</span></md-card-header-text></md-card-header><md-card-content><div layout="row" flex ng-repeat="sample in ctrl.selectedSamples"><md-input-container class="md-block" flex="10"><label>Sample ID*</label><input type="text" ng-init="ctrl.submitData[$index].sampleId = sample.id" ng-model="ctrl.submitData[$index].sampleId" disabled="disabled" required></md-input-container><md-input-container class="md-block" flex><label>Color*</label><input type="text" ng-model="ctrl.submitData[$index].postSampleClr" required></md-input-container><md-input-container class="md-block" flex><label>Precipitate*</label><input type="text" ng-model="ctrl.submitData[$index].precipitate" required></md-input-container><md-input-container class="md-block" flex><label>Methanol Loss*</label><input type="text" ng-model="ctrl.submitData[$index].methLoss" required></md-input-container></div></md-card-content><md-card-actions layout="row" layout-align="end center"><md-button class="md-primary" ng-disabled="ctrl.thermoForm.$invalid" ng-click="ctrl.saveData()">Save</md-button></md-card-actions></md-card></div></div></div></div></form>');
}]);
})();

'use strict';

angular.module('biofuels.core.router.config', [
  'biofuels.core.router.constants',
  'ui.router',
  'biofuels.templates'
])
  .config(
  function routerConfig(ROUTES, AUTH_LEVEL, $stateProvider, $urlRouterProvider) {
    $stateProvider.state({
      name: ROUTES.CREATE_CUSTOMER,
      url: '/create-customer',
      templateUrl: 'sections/customers/create-customer/create-customer.tpl.html',
      controller: 'createCustomerCtrl as ctrl',
      auth: AUTH_LEVEL.AUTHENTICATE
    });

    $stateProvider.state({
      name: ROUTES.CUSTOMERS,
      url: '/customers',
      templateUrl: 'sections/customers/customers.tpl.html',
      controller: 'customersCtrl as ctrl',
      auth: AUTH_LEVEL.AUTHENTICATE
    });

    /* Home screen */
    $stateProvider.state({
      name: ROUTES.HOME,
      url: '/home',
      templateUrl: 'sections/home/home.tpl.html',
      controller: 'homeCtrl as ctrl',
      auth: AUTH_LEVEL.AUTHENTICATE
    });

    $stateProvider.state({
      name: ROUTES.LOGIN,
      url: '/login',
      templateUrl: 'sections/login/login.tpl.html',
      controller: 'loginCtrl as ctrl',
      auth: AUTH_LEVEL.OPEN
    });

    $stateProvider.state({
      name: ROUTES.NEW_BATCH,
      url: '/new-batch',
      templateUrl: 'sections/samples/new-batch/new-batch.tpl.html',
      controller: 'newBatchCtrl as ctrl',
      auth: AUTH_LEVEL.AUTHENTICATE
    });

    $stateProvider.state({
      name: ROUTES.SAMPLES,
      url: '/samples',
      templateUrl: 'sections/samples/samples.tpl.html',
      controller: 'samplesCtrl as ctrl',
      auth: AUTH_LEVEL.AUTHENTICATE
    });

    $stateProvider.state({
      name: ROUTES.THERMO_MIXER,
      url: '/thermo-mixer',
      templateUrl: 'sections/samples/thermo-mixer/thermo-mixer.tpl.html',
      controller: 'thermoMixerCtrl as ctrl',
      auth: AUTH_LEVEL.AUTHENTICATE,
      params: {
        samples: { array: true }
      }
    });

    $stateProvider.state({
      name: ROUTES.CREATE_VIALS,
      url: '/create-vials',
      templateUrl: 'sections/vials/create-vials/create-vials.tpl.html',
      controller: 'createVialsCtrl as ctrl',
      auth: AUTH_LEVEL.AUTHENTICATE
    });

    $stateProvider.state({
      name: ROUTES.VIALS,
      url: '/vials',
      templateUrl: 'sections/vials/vials.tpl.html',
      controller: 'vialsCtrl as ctrl',
      auth: AUTH_LEVEL.AUTHENTICATE
    });

    $stateProvider.state({
      name: ROUTES.RXN_SELECTION,
      url: '/rxn-selection',
      templateUrl: 'sections/samples/rxn-selection/rxn-selection.tpl.html',
      controller: 'rxnSelectionCtrl as ctrl',
      auth: AUTH_LEVEL.AUTHENTICATE,
      params: {
        samples: { array: true }
      }
    });

    $stateProvider.state({
      name: ROUTES.VORTEX,
      url: '/vortex',
      templateUrl: 'sections/samples/vortex/vortex.tpl.html',
      controller: 'vortexCtrl as ctrl',
      auth: AUTH_LEVEL.AUTHENTICATE,
      params: {
        samples: { array: true }
      }
    });

    $stateProvider.state({
      name: ROUTES.CENTRIFUGE,
      url: '/centrifuge',
      templateUrl: 'sections/samples/centrifuge/centrifuge.tpl.html',
      controller: 'centrifugeCtrl as ctrl',
      auth: AUTH_LEVEL.AUTHENTICATE,
      params: {
        samples: { array: true }
      }
    });

    $urlRouterProvider.otherwise('/login');

  }
);

(function(module) {
try {
  module = angular.module('biofuels.templates');
} catch (e) {
  module = angular.module('biofuels.templates', []);
}
module.run(['$templateCache', function($templateCache) {
  $templateCache.put('sections/samples/rxn-selection/rxn-selection.tpl.html',
    '<div menu></div><div flex layout="row" layout-align="center start"><div flex="90"><md-card><md-card-header><md-card-header-text><span class="md-title">Batch</span> <span class="md-subhead">Header</span></md-card-header-text></md-card-header><md-card-content><form name="ctrl.batchForm" class="md-inline-form"><div layout="row" flex ng-repeat="sample in ctrl.selectedSamples"><md-input-container class="md-block" flex="10"><label>Sample ID</label><input type="text" ng-init="ctrl.submitData[$index].sampleId = sample.id" ng-model="ctrl.submitData[$index].sampleId" disabled="disabled"></md-input-container><md-input-container class="md-block" flex><label>RXN VIAL</label><md-select ng-model="ctrl.submitData[$index].rxnVialId" ng-model-options="{ debounce: 500 }" ng-change="ctrl.selectedVial($index)" required><md-option ng-repeat="vial in ctrl.rxnVials" ng-value="vial.id" ng-disabled="ctrl.selectedVials.indexOf(vial.id) >= 0">{{vial.vial_id}}</md-option></md-select></md-input-container><md-input-container class="md-block" flex ng-if="sample.type === \'Powder\'"><label>Mass Added</label><input type="number" ng-model="ctrl.submitData[$index].massAddVial" required></md-input-container></div></form></md-card-content><md-card-actions layout="row" layout-align="end center"><md-button class="md-primary" ng-disabled="ctrl.batchForm.$invalid" ng-click="ctrl.saveRxnSelection()">Save</md-button><md-button class="md-primary" ng-disabled="ctrl.batchForm.$invalid" ng-click="ctrl.goToThermo()">Next &gt;</md-button></md-card-actions></md-card></div></div>');
}]);
})();

'use strict';

angular.module('biofuels.core.resource', [
  'biofuels.core.resource.service'
]);

(function(module) {
try {
  module = angular.module('biofuels.templates');
} catch (e) {
  module = angular.module('biofuels.templates', []);
}
module.run(['$templateCache', function($templateCache) {
  $templateCache.put('sections/samples/new-batch/new-batch.tpl.html',
    '<div menu=""></div><div flex layout="row" layout-align="center start"><div flex="30"><md-card><md-card-header><md-card-header-text><span class="md-title">Batch</span> <span class="md-subhead">Header</span></md-card-header-text></md-card-header><md-card-content><form name="ctrl.batchForm" class="md-inline-form"><div layout="row" flex><md-input-container class="md-block" flex><label>Customer*</label><md-select ng-model="ctrl.batchData.customerId" required><md-option ng-repeat="customer in ctrl.customers" ng-value="customer.id">{{customer.customer_code}}</md-option></md-select></md-input-container><md-datepicker class="date-picker" ng-model="ctrl.batchData.shippedDate" md-placeholder="Shipped Date*" required></md-datepicker></div><div layout="row" flex><md-input-container class="md-block" flex><label>Sample Purpose*</label><input type="text" ng-model="ctrl.batchData.purpose" required></md-input-container><md-datepicker class="date-picker" ng-model="ctrl.batchData.receivedDate" md-placeholder="Received Date*" required></md-datepicker></div><div layout="row" flex><md-input-container class="md-block" flex><label>Storage Location*</label><input type="text" ng-model="ctrl.batchData.storageLocation" required></md-input-container></div></form></md-card-content></md-card></div><div flex="40"><md-card><md-card-header><md-card-header-text><span class="md-title">Sample</span> <span class="md-subhead">Number 1</span></md-card-header-text></md-card-header><md-card-content><form name="ctrl.sampleForm" class="md-inline-form"><div layout="row" flex><md-input-container class="md-block" flex><label>Type*</label><md-select ng-model="ctrl.workingSample.type" required><md-option>Powder</md-option><md-option>Filter</md-option><md-option>Other</md-option></md-select></md-input-container><md-input-container class="md-block" flex><label>Name*</label><input type="text" ng-model="ctrl.workingSample.name" md-autofocus required></md-input-container></div><div layout="row" flex><md-input-container class="md-block" flex><label>Species ID</label><input type="text" ng-model="ctrl.workingSample.speciesId"></md-input-container><md-datepicker class="date-picker" ng-model="ctrl.workingSample.collectionDate" layout-align="end end" md-placeholder="Collection Date"></md-datepicker></div><div layout="row" flex><md-input-container class="md-block" flex><label>Container Type*</label><md-select ng-model="ctrl.workingSample.containerType" required><md-option>Glass</md-option><md-option>Falcon Tube</md-option><md-option value="other">Other</md-option></md-select></md-input-container><md-input-container class="md-block" flex ng-if="ctrl.workingSample.containerType === \'other\'"><label>Container Type*</label><input type="text" ng-model="ctrl.workingSample.enteredContainer" required></md-input-container><md-input-container class="md-block" ng-if="ctrl.workingSample.type === \'Powder\'"><label>Replicates</label><md-select ng-model="ctrl.workingSample.replicates"><md-option>1</md-option><md-option>2</md-option><md-option>3</md-option><md-option>4</md-option><md-option>5</md-option><md-option>6</md-option><md-option>7</md-option><md-option>8</md-option><md-option>9</md-option><md-option>10</md-option></md-select></md-input-container></div><div layout="row" flex><md-input-container class="md-block" flex><label>Description</label><textarea ng-model="ctrl.workingSample.description" md-maxlength="150" rows="5" md-select-on-focus flex></textarea></md-input-container></div></form></md-card-content><md-card-actions layout="row" layout-align="end center"><md-button class="md-primary" ng-if="!ctrl.isEditing()" ng-disabled="ctrl.sampleForm.$invalid" ng-click="ctrl.addNewSample()">Add Sample</md-button><md-button class="md-primary" ng-if="ctrl.isEditing()" ng-click="ctrl.cancelEdit()">Cancel</md-button><md-button class="md-primary" ng-if="ctrl.isEditing()" ng-disabled="ctrl.sampleForm.$invalid" ng-click="ctrl.saveEditedSample()">Save Sample</md-button></md-card-actions></md-card></div><div flex="30"><md-card><md-card-header><md-card-header-text><span class="md-title">Samples</span> <span class="md-subhead">Added</span></md-card-header-text></md-card-header><md-card-content><p ng-if="!ctrl.samples.length || ctrl.samples.length === 0">Add samples to see them over here.</p><md-list ng-if="ctrl.samples.length && ctrl.samples.length > 0" ng-cloak><md-list-item class="secondary-button-padding" ng-click="ctrl.editSample($index)" ng-repeat="sample in ctrl.samples"><p>{{sample.name}}</p><md-button class="md-secondary" ng-click="ctrl.deleteSample($index)">Delete</md-button></md-list-item></md-list></md-card-content><md-card-actions layout="row" layout-align="end center"><md-button class="md-primary" ng-disabled="ctrl.batchForm.$invalid || ctrl.samples.length === 0" ng-click="ctrl.saveBatch($event)">Create Batch + Samples</md-button></md-card-actions></md-card></div></div>');
}]);
})();

'use strict';

angular.module('biofuels.core.resource.service', [
  'ngResource'
])
  .factory(
    'resourceService',
    function ($resource, $localStorage) {
      var token = '';
      if ($localStorage
        && $localStorage.userProfile
        && $localStorage.userProfile.token) {
          token = $localStorage.userProfile.token;
      }
      var url = 'https://biofuels-csis471.rhcloud.com';

      var userAuth = $resource(url + '/api/v1/user/auth', {}, {
        'save': {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          }
        }
      });

      var userRegister = $resource(url + '/api/v1/user/create', {}, {
        'save': {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          }
        }
      });

      var customerList = $resource(url + '/api/v1/customer/list', {}, {
        'get': {
          method: 'GET',
          headers: {
            'Authorization': 'Bearer ' + token,
            'Content-Type': 'application/json'
          }
        }
      });

      var customerCreate = $resource(url + '/api/v1/customer/create', {}, {
        'save': {
          method: 'POST',
          headers: {
            'Authorization': 'Bearer ' + token,
            'Content-Type': 'application/json'
          }
        }
      });

      var vialList = $resource(url + '/api/v1/vial/list', {}, {
        'get': {
          method: 'GET',
          headers: {
            'Authorization': 'Bearer ' + token,
            'Content-Type': 'application/json'
          }
        }
      });

      var vialCreate = $resource(url + '/api/v1/vial/create', {}, {
        'save': {
          method: 'POST',
          headers: {
            'Authorization': 'Bearer ' + token,
            'Content-Type': 'application/json'
          }
        }
      });

      var sampleList = $resource(url + '/api/v1/sample/list', {}, {
        'save': {
          method: 'GET',
          headers: {
            'Authorization': 'Bearer ' + token,
            'Content-Type': 'application/json'
          }
        }
      });

      var batchCreate = $resource(url + '/api/v1/batch/create', {}, {
        'save': {
          method: 'POST',
          headers: {
            'Authorization': 'Bearer ' + token,
            'Content-Type': 'application/json'
          }
        }
      });

      var rxnSelection = $resource(url + '/api/v1/test-process/rxnselection', {}, {
        'save': {
          method: 'POST',
          headers: {
            'Authorization': 'Bearer ' + token,
            'Content-Type': 'application/json'
          }
        }
      });

      var thermoMixer = $resource(url + '/api/v1/test-process/thermomixer', {}, {
        'save': {
          method: 'POST',
          headers: {
            'Authorization': 'Bearer ' + token,
            'Content-Type': 'application/json'
          }
        }
      });

      var vortexMixer = $resource(url + '/api/v1/test-process/vortex', {}, {
        'save': {
          method: 'POST',
          headers: {
            'Authorization': 'Bearer ' + token,
            'Content-Type': 'application/json'
          }
        }
      });

      var centrifuge = $resource(url + '/api/v1/test-process/centrifuge', {}, {
        'save': {
          method: 'POST',
          headers: {
            'Authorization': 'Bearer ' + token,
            'Content-Type': 'application/json'
          }
        }
      });


      return {
        userAuth: userAuth,
        userRegister: userRegister,
        customerList: customerList,
        customerCreate: customerCreate,
        vialList: vialList,
        vialCreate: vialCreate,
        sampleList: sampleList,
        batchCreate: batchCreate,
        rxnSelection: rxnSelection,
        thermoMixer: thermoMixer,
        vortexMixer: vortexMixer,
        centrifuge: centrifuge
      };
    }
  );


(function(module) {
try {
  module = angular.module('biofuels.templates');
} catch (e) {
  module = angular.module('biofuels.templates', []);
}
module.run(['$templateCache', function($templateCache) {
  $templateCache.put('sections/samples/centrifuge/centrifuge.tpl.html',
    '<div menu=""></div><form name="ctrl.centForm" class="md-inline-form"><div flex layout="row" layout-align="center start"><div flex="30"><md-card><md-card-header><md-card-header-text><span class="md-title">Samples</span> <span class="md-subhead">Pre Thermo Mixer Observations</span></md-card-header-text></md-card-header><md-card-content><div layout="row" flex ng-repeat="sample in ctrl.selectedSamples"><md-input-container class="md-block" flex="20"><label>Sample ID</label><input type="number" ng-init="ctrl.submitData[$index].sampleId = sample.id" ng-model="ctrl.submitData[$index].sampleId" disabled="disabled"></md-input-container><md-input-container class="md-block" flex><label>Color*</label><input type="text" ng-model="ctrl.submitData[$index].postHexClr" required></md-input-container><md-input-container class="md-block" flex><label>Centrifuge Location</label><md-select ng-model="ctrl.centLocs[$index].centLoc"><md-option ng-repeat="location in ctrl.centrifugeData.locations" ng-value="location">{{location}}</md-option></md-select></md-input-container></div></md-card-content></md-card></div><div flex="35"><md-card><md-card-header><md-card-header-text><span class="md-title">Thermo Mixer</span></md-card-header-text></md-card-header><md-card-content><div layout="row" flex><md-input-container class="md-block"><label>CentrifugeID*</label><md-select ng-model="ctrl.centrifugeData.id" required><md-option ng-repeat="centrifuge in ctrl.centrifuges">{{centrifuge.id}}</md-option></md-select></md-input-container><md-datepicker ng-model="ctrl.centrifugeData.runDate" md-placeholder="Run date*" flex="50" required></md-datepicker></div><div layout="row" flex><md-input-container class="md-block" flex><label>Start Time*</label><input type="time" ng-model="ctrl.centrifugeData.startTime" required></md-input-container><md-input-container class="md-block" flex><label>Temperature °C*</label><input type="number" ng-model="ctrl.centrifugeData.temp" required></md-input-container><md-input-container class="md-block" flex><label>RPM*</label><input type="number" ng-model="ctrl.centrifugeData.rpm" required></md-input-container></div><div layout="row" flex><md-slider-container flex><label>Total Time (mins)*</label><md-slider step="0.25" flex min="0" max="20" ng-model="ctrl.centrifugeData.totalTime" required></md-slider></md-slider-container><md-input-container flex="15"><input step="0.25" flex type="number" min="0" max="20" ng-model="ctrl.centrifugeData.totalTime" required></md-input-container></div></md-card-content><md-card-actions layout="row" layout-align="end center"><md-button class="md-primary" ng-disabled="ctrl.centForm.$invalid" ng-click="ctrl.saveData()">Save</md-button></md-card-actions></md-card></div></div></form>');
}]);
})();

'use strict';

angular.module('biofuels.core.customer', [
  'biofuels.core.customer.service'
]);

(function(module) {
try {
  module = angular.module('biofuels.templates');
} catch (e) {
  module = angular.module('biofuels.templates', []);
}
module.run(['$templateCache', function($templateCache) {
  $templateCache.put('sections/customers/create-customer/create-customer.tpl.html',
    '<div menu=""></div><div layout="row" layout-align="center center"><div flex-xs="90" flex-sm="75" flex-md="75" flex-gt-md="50"><md-card><md-card-title><md-card-title-text><span class="md-headline">Create Customer</span></md-card-title-text></md-card-title><div layout="column" ng-cloak class="md-inline-form"><md-content layout-padding><div><form name="ctrl.customerForm"><div layout-gt-xs="row"><md-input-container class="md-block" flex-gt-xs><label>Customer Name*</label><input ng-model="ctrl.customerData.name" required></md-input-container><md-input-container class="md-block"><label>Code*</label><input ng-model="ctrl.customerData.code" required md-maxlength="4"></md-input-container></div><div layout-gt-xs="row"><md-input-container class="md-block" flex-gt-xs><label>Contact Name #1*</label><input ng-model="ctrl.customerData.contactName1" required></md-input-container><md-input-container class="md-block" flex-gt-xs><label>Contact Name #2</label><input ng-model="ctrl.customerData.contactName2" required></md-input-container><md-input-container class="md-block" flex-gt-xs><label>Name for Billing*</label><input ng-model="ctrl.customerData.billingName" required></md-input-container></div><div layout-gt-xs="row"><md-input-container class="md-block" flex-gt-xs><label>Ship to Address*</label><input ng-model="ctrl.customerData.address" required></md-input-container><md-input-container class="md-block" flex-gt-xs><input ng-model="ctrl.customerData.address2" placeholder="Address 2"></md-input-container></div><div layout-gt-xs="row"><md-input-container class="md-block" flex-gt-xs><label>City*</label><input ng-model="ctrl.customerData.city" required></md-input-container><md-input-container class="md-block" flex-gt-xs><label>State*</label><md-select ng-model="ctrl.customerData.state" required><md-option ng-repeat="state in ctrl.states" value="{{state.abbrev}}">{{state.abbrev}}</md-option></md-select></md-input-container><md-input-container class="md-block" flex-gt-xs><label>Postal Code*</label><input name="postalCode" ng-model="ctrl.customerData.postalCode" required ng-pattern="/^[0-9]{5}$/" md-maxlength="5"><div ng-messages="userForm.postalCode.$error" role="alert" multiple="multiple"><div ng-message="required" class="my-message">You must supply a postal code.</div><div ng-message="pattern" class="my-message">That doesn\'t look like a valid postal code.</div><div ng-message="md-maxlength" class="my-message">Don\'t use the long version silly...we don\'t need to be that specific.</div></div></md-input-container></div><div layout-gt-xs="row"><md-input-container class="md-block" flex-gt-xs><label>Email*</label><input ng-model="ctrl.customerData.email" required></md-input-container><md-input-container class="md-block" flex-gt-xs><label>Phone Number*</label><input ng-model="ctrl.customerData.phoneNumber" required></md-input-container></div></form></div></md-content><md-card-actions layout="row" layout-align="end-center"><md-button class="md-raised md-primary" ng-click="ctrl.createCustomer()" ng-disabled="ctrl.customerForm.$invalid">Create Customer</md-button></md-card-actions></div></md-card></div></div>');
}]);
})();

'use strict';

angular.module('biofuels.core.customer.service', [
    'biofuels.core.resource'
  ])
  .factory(
    'customerService',
    function ($log,
              resourceService,
              $q
    ) {
      function createCustomer (custName, custCode, contactName1, contactName2, billingName, address1, address2, city, state, postalCode, phoneNumber, email) {
        $log.debug('Creating customer');

        var payload = {
          customer_name: custName,
          customer_code: custCode,
          contact_name1: contactName1,
          contact_name2: contactName2,
          billing_name: billingName,
          address_1: address1,
          address_2: address2,
          city: city,
          state: state,
          postal_code: postalCode,
          phone_number: phoneNumber,
          email: email
        };

        return resourceService.customerCreate.save(payload).$promise.then(function (data) {
          $log.debug(data);
        }).catch(function (err) {
          $log.error(err);
          return $q.reject(err.data);
        });
      }


      function getCustomers () {
        $log.debug('Getting customers');

        var query = {};

        return resourceService.customerList.get(query).$promise.then(function (data) {
          $log.debug(data);
          return data;
        }).catch(function (err) {
          $log.error(err);
          return $q.reject(err.data);
        });
      }

      return {
        createCustomer: createCustomer,
        getCustomers: getCustomers
      };
    }
  );


(function(module) {
try {
  module = angular.module('biofuels.templates');
} catch (e) {
  module = angular.module('biofuels.templates', []);
}
module.run(['$templateCache', function($templateCache) {
  $templateCache.put('sections/vials/vials.tpl.html',
    '<div menu=""></div><md-toolbar class="md-accent"><div class="md-toolbar-tools"><md-select ng-model="ctrl.selectedVialType" aria-label="Vial Selection" ng-change="ctrl.changeVialType()"><md-option ng-repeat="vialType in ctrl.vialTypes" value="{{vialType.code}}">{{vialType.description}}</md-option></md-select><md-button class="" aria-label="Create Vials" ui-sref="createVials">Create Vials</md-button></div></md-toolbar><md-content><md-card><md-toolbar class="md-table-toolbar md-default" ng-hide="ctrl.options.rowSelection && ctrl.selected.length"><div class="md-toolbar-tools"><span>Vials</span><div flex></div><md-button class="md-icon-button" ng-click="ctrl.getVials()"><md-tooltip md-direction="top">Refresh</md-tooltip><md-icon>refresh</md-icon></md-button></div></md-toolbar><md-toolbar class="md-table-toolbar md-default" ng-show="ctrl.options.rowSelection && ctrl.selected.length"><div class="md-toolbar-tools"><span>Vial #{{ctrl.selected[0].vial_id}} selected</span></div></md-toolbar><md-table-container><table md-table md-row-select="ctrl.options.rowSelection" multiple="{{ctrl.options.multiSelect}}" ng-model="ctrl.selected" md-progress="ctrl.promise"><thead md-head md-order="ctrl.query.order" md-on-reorder="ctrl.onReorder"><tr md-row><th md-column md-order-by="vial_id"><span>Vial ID</span></th><th md-column><span>Day Prepared</span></th><th md-column md-order-by="assigned_sample_id"><span>Assigned Sample</span></th><th md-column ng-show="ctrl.selectedVialType == \'RXN\'"><span>FA Mass</span></th><th md-column ng-show="ctrl.selectedVialType == \'RXN\'"><span>C15 ISTD Concentration</span></th><th md-column ng-show="ctrl.selectedVialType == \'GC\'"><span>C13 Mass</span></th><th md-column ng-show="ctrl.selectedVialType == \'GC\'"><span>C13 ISTD Concentration</span></th><th md-column ng-show="ctrl.selectedVialType == \'GC\'"><span>C19 ISTD Concentration</span></th><th md-column ng-show="ctrl.selectedVialType == \'SPK\'"><span>GC Vial ID</span></th><th md-column ng-show="ctrl.selectedVialType == \'SPK\'"><span>C15 ISTD Concentration</span></th><th md-column ng-show="ctrl.selectedVialType == \'SPK\'"><span>Sample Mass</span></th></tr></thead><tbody md-body><tr md-row md-select="vial" md-auto-select="ctrl.options.autoSelect" ng-disabled="dessert.calories.value > 400" ng-repeat="vial in ctrl.vials | filter: filter.search | orderBy: ctrl.query.order | limitTo: ctrl.query.limit : (ctrl.query.page -1) * ctrl.query.limit"><td md-cell>{{vial.vial_id}}</td><td md-cell>{{ctrl.convertDateString(vial.date_prepared)}}</td><td md-cell ng-show="ctrl.selectedVialType == \'RXN\'">{{vial.assigned_sample_id}}</td><td md-cell ng-show="ctrl.selectedVialType != \'RXN\'">{{vial.status}}</td><td md-cell ng-show="ctrl.selectedVialType == \'RXN\'">{{vial.fatty_acid_mass}}</td><td md-cell ng-show="ctrl.selectedVialType == \'RXN\'">{{vial.c15_istd_concentration}}</td><td md-cell ng-show="ctrl.selectedVialType == \'GC\'">{{vial.c13_mass}}</td><td md-cell ng-show="ctrl.selectedVialType == \'GC\'">{{vial.c13_istd_concentration}}</td><td md-cell ng-show="ctrl.selectedVialType == \'GC\'">{{vial.c19_istd_concentration}}</td><td md-cell ng-show="ctrl.selectedVialType == \'SPK\'">{{vial.gc_vial_id}}</td><td md-cell ng-show="ctrl.selectedVialType == \'SPK\'">{{vial.c15_mass}}</td><td md-cell ng-show="ctrl.selectedVialType == \'SPK\'">{{vial.Mass_450ml_sample}}</td></tr></tbody></table></md-table-container><md-table-pagination md-limit="ctrl.query.limit" md-limit-options="ctrl.limitOptions" md-page="ctrl.query.page" md-total="{{ctrl.vials.length}}" md-page-select="ctrl.options.pageSelect" md-boundary-links="ctrl.options.boundaryLinks"></md-table-pagination></md-card></md-content>');
}]);
})();

'use strict';

angular.module('biofuels.core.auth', [
  'biofuels.core.auth.service'
]);

(function(module) {
try {
  module = angular.module('biofuels.templates');
} catch (e) {
  module = angular.module('biofuels.templates', []);
}
module.run(['$templateCache', function($templateCache) {
  $templateCache.put('sections/samples/samples.tpl.html',
    '<div menu=""></div><md-toolbar class="md-accent"><div class="md-toolbar-tools"><label layout-padding>Customer</label><md-select ng-model="ctrl.localStorage.selectedCustomer" placeholder="Select a customer" ng-change="ctrl.changedCustomerCode()"><md-option ng-value="customer" ng-repeat="customer in ctrl.customers">{{ customer }}</md-option></md-select><span></span><label layout-padding ng-show="ctrl.localStorage.selectedCustomer.length > 1">Batch</label><md-select ng-model="ctrl.localStorage.selectedBatch" ng-show="ctrl.localStorage.selectedCustomer.length > 1" placeholder="Select a batch" ng-change="ctrl.changedBatchId()"><md-option ng-value="+batch" ng-repeat="batch in ctrl.batches">{{ batch }}</md-option></md-select><md-button class="" aria-label="Home Page" ui-sref="newBatch">New Batch</md-button><div ng-if="ctrl.selected.length "><md-button class="" aria-label="Samples Page" ng-click="ctrl.goToRxn()">Rxn Selection</md-button><md-button class="" ng-click="ctrl.goToThermo()" aria-label="Thermo Page" ng-show="ctrl.allRxnTrue()">ThermoMixer</md-button><md-button class="" ng-click="ctrl.goToVortex()" aria-label="Vortex Page" ng-show="ctrl.allThermoTrue()">Vortex Mixer</md-button><md-button class="" ng-click="ctrl.goToCentrifuge()" aria-label="Centrifuge Page" ng-show="ctrl.allVortexTrue()">CENTRIFUGE</md-button></div></div></md-toolbar><md-content layout-padding ng-hide="ctrl.localStorage.selectedBatch"><div layout="row" layout-align="center center">Select a customer and batch to view samples</div></md-content><md-card ng-show="ctrl.localStorage.selectedBatch"><md-toolbar class="md-table-toolbar md-default" ng-hide="(ctrl.options.rowSelection && ctrl.selected.length) || ctrl.search"><div class="md-toolbar-tools"><span>Samples</span><div flex></div><md-button class="md-icon-button" ng-click="ctrl.init()"><md-icon>refresh</md-icon></md-button></div></md-toolbar><md-toolbar class="md-table-toolbar md-default" ng-show="ctrl.options.rowSelection && ctrl.selected.length"><div class="md-toolbar-tools"><span>{{ctrl.selected.length}} items selected</span></div></md-toolbar><md-toolbar class="md-table-toolbar md-default" ng-show="ctrl.search && !ctrl.selected.length"><div class="md-toolbar-tools"><md-button class="md-icon-button"><md-icon>search</md-icon></md-button><form flex name="ctrl.filter.form"><input type="text" ng-model="ctrl.query.filter" placeholder="search"></form><md-button class="md-icon-button" ng-click="ctrl.search = false"><md-icon>cancel</md-icon></md-button></div></md-toolbar><md-table-container><table md-table md-row-select="ctrl.options.rowSelection" multiple="{{ctrl.options.multiSelect}}" ng-model="ctrl.selected" md-progress="ctrl.promise"><thead md-head md-order="query.order" md-on-reorder="ctrl.onReorder"><tr md-row><th md-column><span>SAMPLE ID</span></th><th md-column><span>NAME</span></th><th md-column md-numeric><span>TYPE</span></th><th md-column md-numeric>SPECIES ID</th><th md-column md-numeric>RXN VIAL #</th><th md-column md-numeric>THERMO MIXER</th><th md-column md-numeric>VORTEX</th><th md-column md-numeric>CENTRIFUGE</th></tr></thead><tbody md-body><tr md-row md-select="sample" md-auto-select="ctrl.options.autoSelect" ng-disabled="ctrl.samples.length > 400" ng-repeat="sample in ctrl.samples | filter: filter.search | orderBy: ctrl.query.order | limitTo: ctrl.query.limit : (ctrl.query.page -1) * ctrl.query.limit"><td md-cell>{{sample.id}}</td><td md-cell>{{sample.name}}</td><td md-cell>{{sample.type}}</td><td md-cell>{{sample.species_id}}</td><td md-cell>{{sample.rxn_vial_id ? sample.rxn_vial_id : \'none\'}}</td><td md-cell>{{sample.thermomixer_complete === 1}}</td><td md-cell>{{sample.vortex_complete === 1}}</td><td md-cell>{{sample.centrifuge_complete === 1}}</td></tr></tbody></table></md-table-container><md-table-pagination md-limit="ctrl.query.limit" md-limit-options="ctrl.limitOptions" md-page="ctrl.query.page" md-total="{{ctrl.samples.length}}" md-page-select="ctrl.options.pageSelect" md-boundary-links="ctrl.options.boundaryLinks"></md-table-pagination></md-card>');
}]);
})();

'use strict';

angular.module('biofuels.core.auth.service', [
  ])
  .factory(
    'authService',
    function (
      $rootScope,
      AUTH_LEVEL,
      $log,
      $localStorage,
      $state,
      ROUTES
    ) {
      function init () {
        $rootScope.$on('$stateChangeStart',
          function(event, toState, toParams){

            $log.debug(event);
            $log.debug(toState);
            $log.debug(toParams);
            if (toState.auth === AUTH_LEVEL.AUTHENTICATE &&
              (!$localStorage || !$localStorage.userProfile || !$localStorage.userProfile.token)) {
              event.preventDefault();
              $state.go(ROUTES.LOGIN);
            }
          })
      }

      return {
        init: init
      };
    }
  );


(function(module) {
try {
  module = angular.module('biofuels.templates');
} catch (e) {
  module = angular.module('biofuels.templates', []);
}
module.run(['$templateCache', function($templateCache) {
  $templateCache.put('sections/login/login.tpl.html',
    '<div layout="row" class="login__container" layout-align="center center"><div flex-gt-xs="50" flex-gt-sm="40" flex-gt-md="30"><md-card><img ng-src="images/login-header-3.jpg" class="md-card-image" alt="image caption"><md-tabs md-selected="ctrl.selectedTab" md-center-tabs md-dynamic-height md-stretch-tabs="always"><md-tab id="tab1"><md-tab-label>Login</md-tab-label><md-tab-body><md-content layout-padding><div><form name="userForm" ng-submit="ctrl.loginUser()"><md-input-container class="md-block"><label>Email</label><input ng-model="ctrl.userLogin.email" required></md-input-container><md-input-container class="md-block"><label>Password</label><input type="password" ng-model="ctrl.userLogin.password" ng-keypress="ctrl.onEnter($event)" required></md-input-container></form></div><p ng-class="{ \'form-success\' : ctrl.formResponse,\n' +
    '\n' +
    '        \'form-error\' : ctrl.formError }">{{ ctrl.formResponse || ctrl.formError }}</p></md-content></md-tab-body></md-tab><md-tab id="tab2"><md-tab-label>Register</md-tab-label><md-tab-body><md-content layout-padding><div><form name="registerForm"><md-input-container class="md-block"><label>Full Name</label><input ng-model="ctrl.userRegister.fullName" name="fullName" required md-maxlength="40"><div ng-messages="registerForm.fullName.$error"><ng-message when="[\'required\', \'maxlength\']">This is required!</ng-message></div></md-input-container><md-input-container class="md-block"><label>Liberty Email</label><input type="email" ng-model="ctrl.userRegister.email" name="userEmail" ng-pattern="/^[\\w.]+@liberty.edu$/" required><div ng-messages="registerForm.userEmail.$error" ng-messages-multiple><div ng-message="required">This is required!</div><div ng-message="pattern">You must have a liberty email</div></div></md-input-container><md-input-container class="md-block"><label>Password</label><input type="password" name="password" ng-model="ctrl.userRegister.password" ng-pattern="/^[a-zA-Z]\\w{5,20}$/"><div ng-messages="registerForm.password.$error" ng-messages-multiple><div ng-message="required">This is required!</div><div ng-message="pattern">You need a more complex password</div></div></md-input-container></form></div><p ng-class="{ \'form-success\' : ctrl.registerFormResponse,\n' +
    '\n' +
    '        \'form-error\' : ctrl.registerFormError }">{{ ctrl.registerFormResponse || ctrl.registerFormError }}</p></md-content></md-tab-body></md-tab></md-tabs><md-card-actions layout="row" layout-align="end center"><md-button class="md-raised md-primary" ng-show="ctrl.selectedTab === 0" aria-label="Proceed" ng-click="ctrl.loginUser()" ng-disabled="!userForm.$valid">Login</md-button><md-button class="md-raised md-primary" ng-show="ctrl.selectedTab === 1" aria-label="Proceed" ng-click="ctrl.registerUser()" ng-disabled="!registerForm.$valid">Register</md-button></md-card-actions></md-card></div></div>');
}]);
})();

'use strict';

angular.module('biofuels.component.menu', [
  'biofuels.component.menu.controller',
  'biofuels.component.menu.directive'
]);

(function(module) {
try {
  module = angular.module('biofuels.templates');
} catch (e) {
  module = angular.module('biofuels.templates', []);
}
module.run(['$templateCache', function($templateCache) {
  $templateCache.put('sections/customers/customers.tpl.html',
    '<div menu=""></div><md-toolbar class="md-accent"><div class="md-toolbar-tools"><md-button class="" aria-label="Home Page" ui-sref="createCustomer">New Customer</md-button></div></md-toolbar><md-content layout-padding><md-table-container><table md-table md-row-select ng-model="ctrl.selected"><thead md-head md-order="query.order" md-on-reorder="ctrl.onReorder"><tr md-row><th md-column><span>ID</span></th><th md-column><span>Customer Name</span></th><th md-column><span>Customer Code</span></th><th md-column><span>Contact Name #1</span></th><th md-column><span>Contact Name #2</span></th><th md-column><span>Billing Name</span></th><th md-column><span>Address</span></th><th md-column><span>Address 2</span></th><th md-column><span>City</span></th><th md-column><span>State</span></th><th md-column><span>Postal Code</span></th><th md-column><span>Phone Number</span></th><th md-column><span>email</span></th></tr></thead><tbody md-body><tr md-row ng-repeat="customer in ctrl.customers" md-select="customer" md-select-id="{{customer}}" md-auto-select><td md-cell>{{customer.id}}</td><td md-cell>{{customer.customer_name}}</td><td md-cell>{{customer.customer_code}}</td><td md-cell>{{customer.contact_name1}}</td><td md-cell>{{customer.contact_name2}}</td><td md-cell>{{customer.billing_name}}</td><td md-cell>{{customer.address_1}}</td><td md-cell>{{customer.address_2}}</td><td md-cell>{{customer.city}}</td><td md-cell>{{customer.state}}</td><td md-cell>{{customer.postal_code}}</td><td md-cell>{{customer.phone_number}}</td><td md-cell>{{customer.email}}</td></tr></tbody></table></md-table-container><md-table-pagination md-limit="ctrl.query.limit" md-page="ctrl.query.page" md-total="{{ctrl.desserts.count}}" md-on-paginate="onPaginate" md-page-select></md-table-pagination></md-content>');
}]);
})();

'use strict';

angular.module('biofuels.component.menu.directive', [
    'biofuels.component.menu.controller'
  ])
  .directive(
    'menu',
    function () {
      return {
        restrict: 'A',
        templateUrl: 'components/menu/menu.tpl.html',
        controller: 'MenuCtrl as menuCtrl'
      };
    }
  );


'use strict';

angular.module('biofuels.component.menu.controller', [
    'ngStorage',
    'biofuels.core.user.service',
    'biofuels.core.router.constants'
  ])
  .controller(
    'MenuCtrl',
    function (
      $localStorage,
      userService,
      $state,
      ROUTES
    ) {
      (function (vm) {
        vm.userProfile = $localStorage.userProfile;

        vm.logout = function () {
          userService.logout();
          $state.go(ROUTES.LOGIN);
        }
      })(this);
    }
  );


(function(module) {
try {
  module = angular.module('biofuels.templates');
} catch (e) {
  module = angular.module('biofuels.templates', []);
}
module.run(['$templateCache', function($templateCache) {
  $templateCache.put('sections/home/home.tpl.html',
    '<div menu=""></div><md-content layout-padding><div layout="row" layout-sm="column"><div flex-gt-sm="45"><canvas id="pie" class="chart chart-pie" chart-data="ctrl.data" chart-labels="ctrl.labels"></canvas></div><div flex-gt-sm="55"><canvas id="line1" class="chart chart-line" chart-data="ctrl.lineData" chart-labels="ctrl.lineLabels" chart-legend="true" chart-series="ctrl.lineSeries" chart-click="onClick"></canvas></div><div flex-gt-sm="45"><canvas id="pie2" class="chart chart-pie" chart-data="ctrl.data" chart-labels="ctrl.labels"></canvas></div></div><div layout="row"><div flex="35"><canvas id="line" class="chart chart-line" chart-data="ctrl.lineData" chart-labels="ctrl.lineLabels" chart-legend="true" chart-series="ctrl.lineSeries" chart-click="onClick"></canvas></div><div flex><canvas id="radar" class="chart chart-radar" chart-data="ctrl.radarData" chart-labels="ctrl.radarLabels"></canvas></div><div flex><canvas id="bar" class="chart chart-bar" chart-data="ctrl.barData" chart-labels="ctrl.barLabels" chart-series="ctrl.barSeries"></canvas></div></div></md-content>');
}]);
})();

'use strict';

angular.module('biofuels', [
    'ngMaterial',
    'ui.router',
    'chart.js',
    'md.data.table',
    'biofuels.component.menu',
    'biofuels.core.auth',
    'biofuels.core.customer',
    'biofuels.core.resource',
    'biofuels.core.router',
    'biofuels.core.sample',
    'biofuels.core.user',
    'biofuels.core.vial',
    'biofuels.core.wrappers',
    'biofuels.sections.createCustomer',
    'biofuels.sections.customers',
    'biofuels.sections.createVials',
    'biofuels.sections.centrifuge',
    'biofuels.sections.home',
    'biofuels.sections.login',
    'biofuels.sections.newBatch',
    'biofuels.sections.rxnSelection',
    'biofuels.sections.samples',
    'biofuels.sections.thermoMixer',
    'biofuels.sections.vortex',
    'biofuels.sections.vials'
  ])
  .config(function($mdThemingProvider) {
    var greenDarkContrast = $mdThemingProvider.extendPalette('green', {
      'contrastDefaultColor': 'dark',
      'contrastLightColors': 'light'
    });
    // Register the new color palette map with the name <code>neonRed</code>
    $mdThemingProvider.definePalette('greenDark', greenDarkContrast);

    $mdThemingProvider.definePalette('amazingPaletteName', {
      '50': 'ffebee',
      '100': 'ffcdd2',
      '200': 'ef9a9a',
      '300': 'e57373',
      '400': 'ef5350',
      '500': 'f44336',
      '600': 'e53935',
      '700': 'd32f2f',
      '800': 'c62828',
      '900': 'b71c1c',
      'A100': 'ff8a80',
      'A200': 'ff5252',
      'A400': 'ff1744',
      'A700': 'd50000',
      'contrastDefaultColor': 'light',    // whether, by default, text (contrast)
                                          // on this palette should be dark or light
      'contrastDarkColors': ['50', '100', //hues which contrast should be 'dark' by default
        '200', '300', '400', 'A100'],
      'contrastLightColors': undefined    // could also specify this if default was 'dark'
    });

    $mdThemingProvider.theme('default')
      .primaryPalette('blue-grey')
      .accentPalette('greenDark')
      .backgroundPalette('grey');
  })
  .run(function ($log, authService) {
    $log.debug('Welcome to Angular!');

    //Initialize
    authService.init();

  });

(function(module) {
try {
  module = angular.module('biofuels.templates');
} catch (e) {
  module = angular.module('biofuels.templates', []);
}
module.run(['$templateCache', function($templateCache) {
  $templateCache.put('components/menu/menu.tpl.html',
    '<md-toolbar><div class="md-toolbar-tools"><a><img class="menu__logo" src="images/bio-logo-2.svg"></a><md-button class="md-primary" aria-label="Home Page" ui-sref="home">Home</md-button><md-button aria-label="Samples Page" ui-sref="samples">Samples</md-button><md-button aria-label="Vials Page" ui-sref="vials">Vials</md-button><md-button aria-label="Customers Page" ui-sref="customers">Customers</md-button><span flex></span><md-button>Hey, {{menuCtrl.userProfile.fullName}}</md-button><md-button class="md-raised" aria-label="Learn More" ng-click="menuCtrl.logout()">Logout</md-button></div></md-toolbar>');
}]);
})();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlY3Rpb25zL3ZpYWxzL2NyZWF0ZS12aWFscy9jcmVhdGUtdmlhbHMuanMiLCJzZWN0aW9ucy92aWFscy9jcmVhdGUtdmlhbHMvY3JlYXRlLXZpYWxzLWNvbnRyb2xsZXIuanMiLCJzZWN0aW9ucy92aWFscy9lZGl0LXZpYWxzL2VkaXQtdmlhbHMuanMiLCJzZWN0aW9ucy92aWFscy9lZGl0LXZpYWxzL2VkaXQtdmlhbHMtY29udHJvbGxlci5qcyIsInNlY3Rpb25zL3NhbXBsZXMvdm9ydGV4L3ZvcnRleC5qcyIsInNlY3Rpb25zL3NhbXBsZXMvdm9ydGV4L3ZvcnRleC1jb250cm9sbGVyLmpzIiwic2VjdGlvbnMvc2FtcGxlcy90aGVybW8tbWl4ZXIvdGhlcm1vLW1peGVyLmpzIiwic2VjdGlvbnMvc2FtcGxlcy90aGVybW8tbWl4ZXIvdGhlcm1vLW1peGVyLWNvbnRyb2xsZXIuanMiLCJzZWN0aW9ucy9zYW1wbGVzL3J4bi1zZWxlY3Rpb24vcnhuLXNlbGVjdGlvbi5qcyIsInNlY3Rpb25zL3NhbXBsZXMvcnhuLXNlbGVjdGlvbi9yeG4tc2VsZWN0aW9uLWNvbnRyb2xsZXIuanMiLCJzZWN0aW9ucy9zYW1wbGVzL25ldy1iYXRjaC9uZXctYmF0Y2guanMiLCJzZWN0aW9ucy9zYW1wbGVzL25ldy1iYXRjaC9uZXctYmF0Y2gtY29udHJvbGxlci5qcyIsInNlY3Rpb25zL3NhbXBsZXMvY2VudHJpZnVnZS9jZW50cmlmdWdlLmpzIiwic2VjdGlvbnMvc2FtcGxlcy9jZW50cmlmdWdlL2NlbnRyaWZ1Z2UtY29udHJvbGxlci5qcyIsInNlY3Rpb25zL2N1c3RvbWVycy9jcmVhdGUtY3VzdG9tZXIvY3JlYXRlLWN1c3RvbWVyLmpzIiwic2VjdGlvbnMvY3VzdG9tZXJzL2NyZWF0ZS1jdXN0b21lci9jcmVhdGUtY3VzdG9tZXItY29udHJvbGxlci5qcyIsInNlY3Rpb25zL3ZpYWxzL3ZpYWxzLmpzIiwic2VjdGlvbnMvdmlhbHMvdmlhbHMtY29udHJvbGxlci5qcyIsInNlY3Rpb25zL3NhbXBsZXMvc2FtcGxlcy5qcyIsInNlY3Rpb25zL3NhbXBsZXMvc2FtcGxlcy1jb250cm9sbGVyLmpzIiwic2VjdGlvbnMvbG9naW4vbG9naW4uanMiLCJzZWN0aW9ucy9sb2dpbi9sb2dpbi1jb250cm9sbGVyLmpzIiwic2VjdGlvbnMvY3VzdG9tZXJzL2N1c3RvbWVycy5qcyIsInNlY3Rpb25zL2N1c3RvbWVycy9jdXN0b21lcnMtY29udHJvbGxlci5qcyIsInNlY3Rpb25zL2hvbWUvaG9tZS5qcyIsInNlY3Rpb25zL2hvbWUvaG9tZS1jb250cm9sbGVyLmpzIiwiY29yZS93cmFwcGVycy93cmFwcGVycy5qcyIsImNvcmUvd3JhcHBlcnMvdW5kZXJzY29yZS5qcyIsImNvcmUvdmlhbC92aWFsLmpzIiwiY29yZS92aWFsL3ZpYWwtc2VydmljZS5qcyIsImNvcmUvdXNlci91c2VyLmpzIiwiY29yZS91c2VyL3VzZXItc2VydmljZS5qcyIsImNvcmUvdGVtcGxhdGVzL3RlbXBsYXRlcy5qcyIsImNvcmUvc2FtcGxlL3NhbXBsZS5qcyIsInNlY3Rpb25zL3ZpYWxzL2NyZWF0ZS12aWFscy9jcmVhdGUtdmlhbHMudHBsLmpzIiwiY29yZS9zYW1wbGUvc2FtcGxlLXNlcnZpY2UuanMiLCJzZWN0aW9ucy92aWFscy9lZGl0LXZpYWxzL2VkaXQtdmlhbHMudHBsLmpzIiwiY29yZS9yb3V0ZXIvcm91dGVyLmpzIiwic2VjdGlvbnMvc2FtcGxlcy92b3J0ZXgvdm9ydGV4LnRwbC5qcyIsImNvcmUvcm91dGVyL3JvdXRlci1jb25zdGFudHMuanMiLCJzZWN0aW9ucy9zYW1wbGVzL3RoZXJtby1taXhlci90aGVybW8tbWl4ZXIudHBsLmpzIiwiY29yZS9yb3V0ZXIvcm91dGVyLWNvbmZpZy5qcyIsInNlY3Rpb25zL3NhbXBsZXMvcnhuLXNlbGVjdGlvbi9yeG4tc2VsZWN0aW9uLnRwbC5qcyIsImNvcmUvcmVzb3VyY2UvcmVzb3VyY2UuanMiLCJzZWN0aW9ucy9zYW1wbGVzL25ldy1iYXRjaC9uZXctYmF0Y2gudHBsLmpzIiwiY29yZS9yZXNvdXJjZS9yZXNvdXJjZS1zZXJ2aWNlLmpzIiwic2VjdGlvbnMvc2FtcGxlcy9jZW50cmlmdWdlL2NlbnRyaWZ1Z2UudHBsLmpzIiwiY29yZS9jdXN0b21lci9jdXN0b21lci5qcyIsInNlY3Rpb25zL2N1c3RvbWVycy9jcmVhdGUtY3VzdG9tZXIvY3JlYXRlLWN1c3RvbWVyLnRwbC5qcyIsImNvcmUvY3VzdG9tZXIvY3VzdG9tZXItc2VydmljZS5qcyIsInNlY3Rpb25zL3ZpYWxzL3ZpYWxzLnRwbC5qcyIsImNvcmUvYXV0aC9hdXRoLmpzIiwic2VjdGlvbnMvc2FtcGxlcy9zYW1wbGVzLnRwbC5qcyIsImNvcmUvYXV0aC9hdXRoLXNlcnZpY2UuanMiLCJzZWN0aW9ucy9sb2dpbi9sb2dpbi50cGwuanMiLCJjb21wb25lbnRzL21lbnUvbWVudS5qcyIsInNlY3Rpb25zL2N1c3RvbWVycy9jdXN0b21lcnMudHBsLmpzIiwiY29tcG9uZW50cy9tZW51L21lbnUtZGlyZWN0aXZlLmpzIiwiY29tcG9uZW50cy9tZW51L21lbnUtY29udHJvbGxlci5qcyIsInNlY3Rpb25zL2hvbWUvaG9tZS50cGwuanMiLCJjb3JlL2FwcC5qcyIsImNvbXBvbmVudHMvbWVudS9tZW51LnRwbC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDdEdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNwRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzdFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzVDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzVGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3ZFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2xEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDbEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUM5SEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzVEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDM0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDekNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ25EQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNqRUE7QUFDQTtBQUNBO0FBQ0E7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ25HQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDeEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzFIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN4SkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDM0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ25DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUMxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDdkVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnYmlvZnVlbHMuc2VjdGlvbnMuY3JlYXRlVmlhbHMnLCBbXG4gICdiaW9mdWVscy5zZWN0aW9ucy5jcmVhdGVWaWFscy5jb250cm9sbGVyJ1xuXSk7XG5cbiIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ2Jpb2Z1ZWxzLnNlY3Rpb25zLmNyZWF0ZVZpYWxzLmNvbnRyb2xsZXInLCBbXSlcbiAgLmNvbnRyb2xsZXIoJ2NyZWF0ZVZpYWxzQ3RybCcsXG4gICAgZnVuY3Rpb24gKCRsb2csXG4gICAgICAgICAgICAgIHZpYWxTZXJ2aWNlLFxuICAgICAgICAgICAgICAkc3RhdGUsXG4gICAgICAgICAgICAgIFJPVVRFUyxcbiAgICAgICAgICAgICAgX1xuICAgICkge1xuICAgICAgKGZ1bmN0aW9uICh2bSkge1xuICAgICAgICAkbG9nLmRlYnVnKCdUaGlzIGlzIGZyb20gdGhlIGhvbWUgcGFnZScpO1xuICAgICAgICB2bS52aWFsRGF0YSA9IHtcbiAgICAgICAgICBwcmVwYXJhdGlvbkRhdGU6IG5ldyBEYXRlKClcbiAgICAgICAgfTtcbiAgICAgICAgdm0udmlhbHMgPSBbXTtcbiAgICAgICAgdm0uaWRDb3VudGVyID0gMDtcblxuICAgICAgICB2bS52aWFsVHlwZXMgPSBbe1xuICAgICAgICAgIGNvZGU6ICdSWE4nLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnUkVBQ1RJT04nXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBjb2RlOiAnR0MnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnR0MnXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBjb2RlOiAnU1BLJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1NQSUtFRCdcbiAgICAgICAgfV07XG5cbiAgICAgICAgLy8gdmlhbFNlcnZpY2UuZ2V0VmlhbHModm0uc2VsZWN0ZWRWaWFsVHlwZSkudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIC8vICAgJGxvZy5kZWJ1ZyhfLmxhc3QoZGF0YSkpO1xuICAgICAgICAvLyAgIC8vdm0ubGFzdFZpYWwgPSBfLmxhc3QoZGF0YSk7XG4gICAgICAgIC8vIH0pO1xuXG4gICAgICAgIHZtLmFkZFRvUXVldWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJGxvZy5kZWJ1ZygnQWRkZWQgdG8gUXVldWUnKTtcbiAgICAgICAgICBpZiAodm0uc2VsZWN0ZWRWaWFsVHlwZSA9PT0gJ1JYTicpIHtcbiAgICAgICAgICAgIHZtLnZpYWwgPSB7XG4gICAgICAgICAgICAgIHZpYWxJZDogdm0udmlhbERhdGEudmlhbElkLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgIHByZXBhcmF0aW9uRGF0ZTogdm0udmlhbERhdGEucHJlcGFyYXRpb25EYXRlLFxuICAgICAgICAgICAgICB2aWFsU3RhdHVzOiAwLFxuICAgICAgICAgICAgICBmYXR0eUFjaWRtYXNzOiB2bS52aWFsRGF0YS5mYXR0eUFjaWRtYXNzLFxuICAgICAgICAgICAgICBjMTVJc3RkY29uOiB2bS52aWFsRGF0YS5jMTVJc3RkY29uXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSBpZiAodm0uc2VsZWN0ZWRWaWFsVHlwZSA9PT0gJ0dDJykge1xuICAgICAgICAgICAgdm0udmlhbCA9IHtcbiAgICAgICAgICAgICAgdmlhbElkOiB2bS52aWFsRGF0YS52aWFsSWQudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgcHJlcGFyYXRpb25EYXRlOiB2bS52aWFsRGF0YS5wcmVwYXJhdGlvbkRhdGUsXG4gICAgICAgICAgICAgIHZpYWxTdGF0dXM6IDAsXG4gICAgICAgICAgICAgIGMxM01hc3M6IHZtLnZpYWxEYXRhLmMxM01hc3MsXG4gICAgICAgICAgICAgIGMxM0lzdGRjb246IHZtLnZpYWxEYXRhLmMxM0lzdGRjb24sXG4gICAgICAgICAgICAgIGMxOUlzdGRjb246IHZtLnZpYWxEYXRhLmMxOUlzdGRjb25cbiAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSBpZiAodm0uc2VsZWN0ZWRWaWFsVHlwZSA9PT0gJ1NQSycpIHtcbiAgICAgICAgICAgIHZtLnZpYWwgPSB7XG4gICAgICAgICAgICAgIHZpYWxJZDogdm0udmlhbERhdGEudmlhbElkLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgIHByZXBhcmF0aW9uRGF0ZTogdm0udmlhbERhdGEucHJlcGFyYXRpb25EYXRlLFxuICAgICAgICAgICAgICB2aWFsU3RhdHVzOiAwLFxuICAgICAgICAgICAgICBjMTVNYXNzOiB2bS52aWFsRGF0YS5jMTVNYXNzLFxuICAgICAgICAgICAgICBNYXNzNDUwbWxzYW1wbGU6IHZtLnZpYWxEYXRhLk1hc3M0NTBtbHNhbXBsZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdm0udmlhbHMucHVzaCh2bS52aWFsKTtcblxuICAgICAgICAgIHZtLnZpYWxEYXRhLnZpYWxJZCsrO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZtLnJlbW92ZUZyb21RdWV1ZSA9IGZ1bmN0aW9uICh2aWFsKSB7XG4gICAgICAgICAgJGxvZy5kZWJ1Zyh2aWFsKTtcbiAgICAgICAgICB2YXIgaW5kZXggPSB2bS52aWFscy5pbmRleE9mKHZpYWwpO1xuICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICB2bS52aWFscy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB2bS5zYXZlVmlhbHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJGxvZy5kZWJ1ZygnU2F2ZWQgdmlhbHMnKTtcblxuICAgICAgICAgIHZtLmZvcm1FcnJvciA9ICcnO1xuICAgICAgICAgIHZtLmZvcm1SZXNwb25zZSA9ICcnO1xuICAgICAgICAgIHZpYWxTZXJ2aWNlLmNyZWF0ZVZpYWwodm0uc2VsZWN0ZWRWaWFsVHlwZSwgdm0udmlhbHMpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHZtLmZvcm1SZXNwb25zZSA9ICdTdWNjZXNzZnVsbHkgbWFkZSB2aWFscyEnO1xuICAgICAgICAgICAgJHN0YXRlLmdvKFJPVVRFUy5WSUFMUyk7XG4gICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgdm0uZm9ybUVycm9yID0gZXJyLmVycm9yO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZtLmRldGVybWluZUFkZEJ1dHRvblN0YXR1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvLyBSZXR1cm5pbmcgdHJ1ZSBkaXNhYmxlcyB0aGUgQUREIGJ1dHRvblxuICAgICAgICAgIGlmICh2bS5zZWxlY3RlZFZpYWxUeXBlID09PSAnUlhOJykge1xuICAgICAgICAgICAgcmV0dXJuICEodm0udmlhbERhdGEudmlhbElkICYmIHZtLnZpYWxEYXRhLnByZXBhcmF0aW9uRGF0ZSAmJiB2bS52aWFsRGF0YS5mYXR0eUFjaWRtYXNzICYmIHZtLnZpYWxEYXRhLmMxNUlzdGRjb24pO1xuICAgICAgICAgIH0gZWxzZSBpZiAodm0uc2VsZWN0ZWRWaWFsVHlwZSA9PT0gJ0dDJykge1xuICAgICAgICAgICAgcmV0dXJuICEodm0udmlhbERhdGEudmlhbElkICYmIHZtLnZpYWxEYXRhLnByZXBhcmF0aW9uRGF0ZSAmJiB2bS52aWFsRGF0YS5jMTNNYXNzICYmIHZtLnZpYWxEYXRhLmMxM0lzdGRjb24gJiYgdm0udmlhbERhdGEuYzE5SXN0ZGNvbik7XG4gICAgICAgICAgfSBlbHNlIGlmICh2bS5zZWxlY3RlZFZpYWxUeXBlID09PSAnU1BLJykge1xuICAgICAgICAgICAgcmV0dXJuICEodm0udmlhbERhdGEudmlhbElkICYmIHZtLnZpYWxEYXRhLnByZXBhcmF0aW9uRGF0ZSAmJiB2bS52aWFsRGF0YS5jMTVNYXNzICYmIHZtLnZpYWxEYXRhLk1hc3M0NTBtbHNhbXBsZSAmJiB2bS52aWFsRGF0YS5nY1ZpYWxJRCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuXG4gICAgICB9KSh0aGlzKTtcbiAgICB9KTtcbiIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ2Jpb2Z1ZWxzLnNlY3Rpb25zLmVkaXRWaWFscycsIFtcbiAgJ2Jpb2Z1ZWxzLnNlY3Rpb25zLmVkaXRWaWFscy5jb250cm9sbGVyJ1xuXSk7XG5cbiIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ2Jpb2Z1ZWxzLnNlY3Rpb25zLmVkaXRWaWFscy5jb250cm9sbGVyJywgW10pXG4gIC5jb250cm9sbGVyKCdlZGl0VmlhbHNDdHJsJyxcbiAgICBmdW5jdGlvbiAoJGxvZyxcbiAgICAgICAgICAgICAgdmlhbFNlcnZpY2UsXG4gICAgICAgICAgICAgICRzdGF0ZSxcbiAgICAgICAgICAgICAgUk9VVEVTKSB7XG4gICAgICAoZnVuY3Rpb24gKHZtKSB7XG4gICAgICAgIHZtLnZpYWxEYXRhID0ge307XG4gICAgICAgIHZtLnZpYWxzID0gW107XG4gICAgICAgIHZtLmlkQ291bnRlciA9IDA7XG5cbiAgICAgICAgdm0udmlhbFR5cGVzID0gW3tcbiAgICAgICAgICBjb2RlOiAnUlhOJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1JFQUNUSU9OJ1xuICAgICAgICB9LCB7XG4gICAgICAgICAgY29kZTogJ0dDJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0dDJ1xuICAgICAgICB9LCB7XG4gICAgICAgICAgY29kZTogJ1NQSycsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdTUElLRUQnXG4gICAgICAgIH1dO1xuXG4gICAgICAgIHZtLmFkZFRvUXVldWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJGxvZy5kZWJ1ZygnQWRkZWQgdG8gUXVldWUnKTtcbiAgICAgICAgICBpZiAodm0uc2VsZWN0ZWRWaWFsVHlwZSA9PT0gJ1JYTicpIHtcbiAgICAgICAgICAgIHZtLnZpYWwgPSB7XG4gICAgICAgICAgICAgIHZpYWxJZDogdm0udmlhbERhdGEudmlhbElkLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgIHByZXBhcmF0aW9uRGF0ZTogdm0udmlhbERhdGEucHJlcGFyYXRpb25EYXRlLFxuICAgICAgICAgICAgICB2aWFsU3RhdHVzOiAwLFxuICAgICAgICAgICAgICBmYXR0eUFjaWRtYXNzOiBOdW1iZXIodm0udmlhbERhdGEuZmF0dHlBY2lkbWFzcyksXG4gICAgICAgICAgICAgIGMxNUlzdGRjb246IE51bWJlcih2bS52aWFsRGF0YS5jMTVJc3RkY29uKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHZtLnNlbGVjdGVkVmlhbFR5cGUgPT09ICdHQycpIHtcbiAgICAgICAgICAgIHZtLnZpYWwgPSB7XG4gICAgICAgICAgICAgIHZpYWxJZDogdm0udmlhbERhdGEudmlhbElkLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgIHByZXBhcmF0aW9uRGF0ZTogdm0udmlhbERhdGEucHJlcGFyYXRpb25EYXRlLFxuICAgICAgICAgICAgICB2aWFsU3RhdHVzOiAwLFxuICAgICAgICAgICAgICBjMTNNYXNzOiBOdW1iZXIodm0udmlhbERhdGEuYzEzTWFzcyksXG4gICAgICAgICAgICAgIGMxM0lzdGRjb246IE51bWJlcih2bS52aWFsRGF0YS5jMTNJc3RkY29uKSxcbiAgICAgICAgICAgICAgYzE5SXN0ZGNvbjogTnVtYmVyKHZtLnZpYWxEYXRhLmMxOUlzdGRjb24pXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSBpZiAodm0uc2VsZWN0ZWRWaWFsVHlwZSA9PT0gJ1NQSycpIHtcbiAgICAgICAgICAgIHZtLnZpYWwgPSB7XG4gICAgICAgICAgICAgIHZpYWxJZDogdm0udmlhbERhdGEudmlhbElkLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgIHByZXBhcmF0aW9uRGF0ZTogdm0udmlhbERhdGEucHJlcGFyYXRpb25EYXRlLFxuICAgICAgICAgICAgICB2aWFsU3RhdHVzOiAwLFxuICAgICAgICAgICAgICBjMTVNYXNzOiBOdW1iZXIodm0udmlhbERhdGEuYzE1TWFzcyksXG4gICAgICAgICAgICAgIE1hc3M0NTBtbHNhbXBsZTogTnVtYmVyKHZtLnZpYWxEYXRhLk1hc3M0NTBtbHNhbXBsZSlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIHZtLnZpYWxzLnB1c2godm0udmlhbCk7XG5cbiAgICAgICAgICB2bS52aWFsRGF0YS52aWFsSWQrKztcbiAgICAgICAgfTtcblxuICAgICAgICB2bS5zYXZlVmlhbHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJGxvZy5kZWJ1ZygnU2F2ZWQgdmlhbHMnKTtcblxuICAgICAgICAgIHZtLmZvcm1FcnJvciA9ICcnO1xuICAgICAgICAgIHZtLmZvcm1SZXNwb25zZSA9ICcnO1xuICAgICAgICAgIHZpYWxTZXJ2aWNlLmNyZWF0ZVZpYWwodm0uc2VsZWN0ZWRWaWFsVHlwZSwgdm0udmlhbHMpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHZtLmZvcm1SZXNwb25zZSA9ICdTdWNjZXNzZnVsbHkgbWFkZSB2aWFscyEnO1xuICAgICAgICAgICAgJHN0YXRlLmdvKFJPVVRFUy5WSUFMUyk7XG4gICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgdm0uZm9ybUVycm9yID0gZXJyLmVycm9yO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZtLmRldGVybWluZUFkZEJ1dHRvblN0YXR1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvLyBSZXR1cm5pbmcgdHJ1ZSBkaXNhYmxlcyB0aGUgQUREIGJ1dHRvblxuICAgICAgICAgIGlmICh2bS5zZWxlY3RlZFZpYWxUeXBlID09PSAnUlhOJykge1xuICAgICAgICAgICAgcmV0dXJuICEodm0udmlhbERhdGEudmlhbElkICYmIHZtLnZpYWxEYXRhLnByZXBhcmF0aW9uRGF0ZSAmJiB2bS52aWFsRGF0YS5mYXR0eUFjaWRtYXNzICYmIHZtLnZpYWxEYXRhLmMxNUlzdGRjb24pO1xuICAgICAgICAgIH0gZWxzZSBpZiAodm0uc2VsZWN0ZWRWaWFsVHlwZSA9PT0gJ0dDJykge1xuICAgICAgICAgICAgcmV0dXJuICEodm0udmlhbERhdGEudmlhbElkICYmIHZtLnZpYWxEYXRhLnByZXBhcmF0aW9uRGF0ZSAmJiB2bS52aWFsRGF0YS5jMTNNYXNzICYmIHZtLnZpYWxEYXRhLmMxM0lzdGRjb24gJiYgdm0udmlhbERhdGEuYzE5SXN0ZGNvbik7XG4gICAgICAgICAgfSBlbHNlIGlmICh2bS5zZWxlY3RlZFZpYWxUeXBlID09PSAnU1BLJykge1xuICAgICAgICAgICAgcmV0dXJuICEodm0udmlhbERhdGEudmlhbElkICYmIHZtLnZpYWxEYXRhLnByZXBhcmF0aW9uRGF0ZSAmJiB2bS52aWFsRGF0YS5jMTVNYXNzICYmIHZtLnZpYWxEYXRhLk1hc3M0NTBtbHNhbXBsZSAmJiB2bS52aWFsRGF0YS5nY1ZpYWxJRCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuXG4gICAgICB9KSh0aGlzKTtcbiAgICB9KTtcbiIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ2Jpb2Z1ZWxzLnNlY3Rpb25zLnZvcnRleCcsIFtcbiAgJ2Jpb2Z1ZWxzLnNlY3Rpb25zLnZvcnRleC5jb250cm9sbGVyJ1xuXSk7XG5cbiIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ2Jpb2Z1ZWxzLnNlY3Rpb25zLnZvcnRleC5jb250cm9sbGVyJywgW10pXG4gIC5jb250cm9sbGVyKCd2b3J0ZXhDdHJsJyxcbiAgICBmdW5jdGlvbiAoJGxvZyxcbiAgICAgICAgICAgICAgJHN0YXRlLFxuICAgICAgICAgICAgICBST1VURVMsXG4gICAgICAgICAgICAgICRzdGF0ZVBhcmFtcyxcbiAgICAgICAgICAgICAgc2FtcGxlU2VydmljZVxuICAgICkge1xuICAgICAgKGZ1bmN0aW9uICh2bSkge1xuICAgICAgICB2bS52b3J0ZXhNaXhlcnMgPSBbXG4gICAgICAgICAge2lkOjF9LFxuICAgICAgICAgIHtpZDoyfSxcbiAgICAgICAgICB7aWQ6M31cbiAgICAgICAgXTtcblxuICAgICAgICB2bS52b3J0ZXhNaXhlckRhdGEgPSB7fTtcbiAgICAgICAgdm0uc3VibWl0RGF0YSA9IFtdO1xuICAgICAgICB2bS5zZWxlY3RlZFNhbXBsZXMgPSAkc3RhdGVQYXJhbXMuc2FtcGxlcztcblxuICAgICAgICB2bS5zYXZlRGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAkbG9nLmRlYnVnKHZtLnN1Ym1pdERhdGEpO1xuXG4gICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IHZtLnN1Ym1pdERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZtLnN1Ym1pdERhdGFbaV0udm9ydGV4TXhJZCA9IE51bWJlcih2bS5zdWJtaXREYXRhW2ldLnZvcnRleE14SWQpO1xuICAgICAgICAgICAgdm0uc3VibWl0RGF0YVtpXS52b3J0ZXhNeFRpbWUgPSB2bS52b3J0ZXhNaXhlckRhdGFbaV0udGltZU1peGVkICogNjA7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2FtcGxlU2VydmljZS52b3J0ZXhNaXhlcih2bS5zdWJtaXREYXRhKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAkc3RhdGUuZ28oUk9VVEVTLlNBTVBMRVMpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgJGxvZy5lcnJvcihlcnIuZXJyb3IpO1xuICAgICAgICAgICAgICB2bS5lcnJvciA9IHRydWU7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9O1xuICAgICAgfSkodGhpcyk7XG4gICAgfSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdiaW9mdWVscy5zZWN0aW9ucy50aGVybW9NaXhlcicsIFtcbiAgJ2Jpb2Z1ZWxzLnNlY3Rpb25zLnRoZXJtb01peGVyLmNvbnRyb2xsZXInXG5dKTtcblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnYmlvZnVlbHMuc2VjdGlvbnMudGhlcm1vTWl4ZXIuY29udHJvbGxlcicsIFtdKVxuICAuY29udHJvbGxlcigndGhlcm1vTWl4ZXJDdHJsJyxcbiAgICBmdW5jdGlvbiAoJGxvZyxcbiAgICAgICAgICAgICAgJHN0YXRlLFxuICAgICAgICAgICAgICBST1VURVMsXG4gICAgICAgICAgICAgICRzdGF0ZVBhcmFtcyxcbiAgICAgICAgICAgICAgc2FtcGxlU2VydmljZVxuICAgICkge1xuICAgICAgKGZ1bmN0aW9uICh2bSkge1xuICAgICAgICB2bS50aGVybW9NaXhlcnMgPSBbXG4gICAgICAgICAge2lkOjF9LFxuICAgICAgICAgIHtpZDoyfSxcbiAgICAgICAgICB7aWQ6M31cbiAgICAgICAgXTtcblxuICAgICAgICB2bS50aGVybW9NaXhlckRhdGEgPSB7XG4gICAgICAgICAgbG9jYXRpb25zOiBbMSwyLDMsNCw1LDYsNyw4XSxcbiAgICAgICAgICBzdGFydFRlbXA6OTksXG4gICAgICAgICAgcnBtOjYwMCxcbiAgICAgICAgICBlbmRUZW1wOjk5LFxuICAgICAgICAgIHJ1bkRhdGU6IG5ldyBEYXRlKClcbiAgICAgICAgfTtcblxuICAgICAgICB2bS50aG14TG9jcyA9IFtcbiAgICAgICAgICB7dGhteExvYzoxfSxcbiAgICAgICAgICB7dGhteExvYzoyfSxcbiAgICAgICAgICB7dGhteExvYzozfSxcbiAgICAgICAgICB7dGhteExvYzo0fSxcbiAgICAgICAgICB7dGhteExvYzo1fSxcbiAgICAgICAgICB7dGhteExvYzo2fSxcbiAgICAgICAgICB7dGhteExvYzo3fSxcbiAgICAgICAgICB7dGhteExvYzo4fSxcbiAgICAgICAgXTtcblxuICAgICAgICB2bS5zdWJtaXREYXRhID0gW107XG4gICAgICAgIHZtLnNlbGVjdGVkU2FtcGxlcyA9ICRzdGF0ZVBhcmFtcy5zYW1wbGVzO1xuXG4gICAgICAgIHZtLnNhdmVEYXRhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBpO1xuICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB2bS5zdWJtaXREYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2bS5zdWJtaXREYXRhW2ldLnRobXhMb2MgPSBOdW1iZXIodm0udGhteExvY3NbaV0udGhteExvYyk7XG5cbiAgICAgICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUodm0udGhlcm1vTWl4ZXJEYXRhLnJ1bkRhdGUuZ2V0VGltZSgpKTtcbiAgICAgICAgICAgIHZhciBzdGFydFRpbWUgPSB2bS50aGVybW9NaXhlckRhdGEuc3RhcnRUaW1lO1xuICAgICAgICAgICAgJGxvZy5kZWJ1ZyhzdGFydFRpbWUpO1xuICAgICAgICAgICAgZGF0ZS5zZXRIb3VycyhzdGFydFRpbWUuZ2V0SG91cnMoKSk7XG4gICAgICAgICAgICBkYXRlLnNldE1pbnV0ZXMoc3RhcnRUaW1lLmdldFNlY29uZHMoKSk7XG4gICAgICAgICAgICB2bS5zdWJtaXREYXRhW2ldLnRobXhEYXRlUnVuID0gZGF0ZTtcblxuICAgICAgICAgICAgdmFyIGVuZERhdGUgPSBuZXcgRGF0ZSh2bS50aGVybW9NaXhlckRhdGEucnVuRGF0ZS5nZXRUaW1lKCkpO1xuICAgICAgICAgICAgdmFyIGVuZFRpbWUgPSB2bS50aGVybW9NaXhlckRhdGEuZW5kVGltZTtcbiAgICAgICAgICAgIGVuZERhdGUuc2V0SG91cnMoZW5kVGltZS5nZXRIb3VycygpKTtcbiAgICAgICAgICAgIGVuZERhdGUuc2V0TWludXRlcyhlbmRUaW1lLmdldFNlY29uZHMoKSk7XG4gICAgICAgICAgICB2bS5zdWJtaXREYXRhW2ldLnRobXhFbmRUaW1lID0gZW5kRGF0ZTtcblxuICAgICAgICAgICAgdm0uc3VibWl0RGF0YVtpXS50aG14SWQgPSBOdW1iZXIodm0udGhlcm1vTWl4ZXJEYXRhLnRoZXJtb01peGVySUQpO1xuICAgICAgICAgICAgdm0uc3VibWl0RGF0YVtpXS50aG14U3RhcnRUZW1wID0gdm0udGhlcm1vTWl4ZXJEYXRhLnN0YXJ0VGVtcDtcbiAgICAgICAgICAgIHZtLnN1Ym1pdERhdGFbaV0udGhteEVuZFRlbXAgPSB2bS50aGVybW9NaXhlckRhdGEuZW5kVGVtcDtcbiAgICAgICAgICAgIHZtLnN1Ym1pdERhdGFbaV0udGhteFJwbSA9IHZtLnRoZXJtb01peGVyRGF0YS5ycG07XG4gICAgICAgICAgICB2bS5zdWJtaXREYXRhW2ldLnRobXhDb29sVGltZSA9IHZtLnRoZXJtb01peGVyRGF0YS5jb29sVGltZSAqIDYwO1xuICAgICAgICAgIH1cblxuICAgICAgICAgICRsb2cuZGVidWcodm0uc3VibWl0RGF0YSk7XG4gICAgICAgICAgc2FtcGxlU2VydmljZS50aGVybW9NaXhlcih2bS5zdWJtaXREYXRhKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAkc3RhdGUuZ28oUk9VVEVTLlNBTVBMRVMpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgJGxvZy5lcnJvcihlcnIuZXJyb3IpO1xuICAgICAgICAgICAgICB2bS5lcnJvciA9IHRydWU7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9O1xuICAgICAgfSkodGhpcyk7XG4gICAgfSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdiaW9mdWVscy5zZWN0aW9ucy5yeG5TZWxlY3Rpb24nLCBbXG4gICdiaW9mdWVscy5zZWN0aW9ucy5yeG5TZWxlY3Rpb24uY29udHJvbGxlcidcbl0pO1xuXG4iLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdiaW9mdWVscy5zZWN0aW9ucy5yeG5TZWxlY3Rpb24uY29udHJvbGxlcicsIFtdKVxuICAuY29udHJvbGxlcigncnhuU2VsZWN0aW9uQ3RybCcsXG4gICAgZnVuY3Rpb24gKFxuICAgICAgJGxvZyxcbiAgICAgIHZpYWxTZXJ2aWNlLFxuICAgICAgc2FtcGxlU2VydmljZSxcbiAgICAgICRzdGF0ZVBhcmFtcyxcbiAgICAgICRzdGF0ZSxcbiAgICAgIFJPVVRFUyxcbiAgICAgIF9cbiAgICApIHtcbiAgICAgIChmdW5jdGlvbiAodm0pIHtcbiAgICAgICAgdm0uc2VsZWN0ZWRTYW1wbGVzID0gJHN0YXRlUGFyYW1zLnNhbXBsZXM7XG4gICAgICAgICRsb2cuZGVidWcodm0uc2VsZWN0ZWRTYW1wbGVzKTtcbiAgICAgICAgdm0uc3VibWl0RGF0YSA9IFtdO1xuICAgICAgICB2bS5zZWxlY3RlZFZpYWxzID0gW107XG5cblxuICAgICAgICB2aWFsU2VydmljZS5nZXRWaWFscygnUlhOJykudGhlbihmdW5jdGlvbiAocnhuVmlhbHMpIHtcbiAgICAgICAgICB2bS5yeG5WaWFscyA9IF8uZmlsdGVyKHJ4blZpYWxzLmRhdGEsIGZ1bmN0aW9uICh2aWFsKSB7XG4gICAgICAgICAgIHJldHVybiB2aWFsLmFzc2lnbmVkX3NhbXBsZV9pZCA9PT0gbnVsbDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdm0uc2F2ZVJ4blNlbGVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzYW1wbGVTZXJ2aWNlLnJ4blNlbGVjdGlvbih2bS5zdWJtaXREYXRhKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAkc3RhdGUuZ28oUk9VVEVTLlNBTVBMRVMpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZtLmdvVG9UaGVybW8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgc2FtcGxlU2VydmljZS5yeG5TZWxlY3Rpb24odm0uc3VibWl0RGF0YSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgJHN0YXRlLmdvKFJPVVRFUy5USEVSTU9fTUlYRVIsICRzdGF0ZVBhcmFtcyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdm0uc2VsZWN0ZWRWaWFsID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgJGxvZy5kZWJ1ZyhpbmRleCk7XG4gICAgICAgICAgdm0uc2VsZWN0ZWRWaWFscyA9IF8ucGx1Y2sodm0uc3VibWl0RGF0YSwgJ3J4blZpYWxJZCcpO1xuICAgICAgICB9XG4gICAgICB9KSh0aGlzKTtcbiAgICB9KTtcbiIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ2Jpb2Z1ZWxzLnNlY3Rpb25zLm5ld0JhdGNoJywgW1xuICAnYmlvZnVlbHMuc2VjdGlvbnMubmV3QmF0Y2guY29udHJvbGxlcidcbl0pO1xuXG4iLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdiaW9mdWVscy5zZWN0aW9ucy5uZXdCYXRjaC5jb250cm9sbGVyJywgW1xuICAnYmlvZnVlbHMuY29yZS5jdXN0b21lcicsXG4gICdiaW9mdWVscy5jb3JlLnNhbXBsZSdcbl0pXG4gIC5jb250cm9sbGVyKCduZXdCYXRjaEN0cmwnLFxuICAgIGZ1bmN0aW9uICgkbG9nLFxuICAgICAgICAgICAgICAkbWREaWFsb2csXG4gICAgICAgICAgICAgIGN1c3RvbWVyU2VydmljZSxcbiAgICAgICAgICAgICAgc2FtcGxlU2VydmljZSxcbiAgICAgICAgICAgICAgUk9VVEVTLFxuICAgICAgICAgICAgICAkc3RhdGVcbiAgICApIHtcbiAgICAgIChmdW5jdGlvbiAodm0pIHtcbiAgICAgICAgZnVuY3Rpb24gZ2V0Q3VzdG9tZXJOYW1lcyAoKSB7XG4gICAgICAgICAgY3VzdG9tZXJTZXJ2aWNlLmdldEN1c3RvbWVycygpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHZtLmN1c3RvbWVycyA9IGRhdGEuZGF0YTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldEN1c3RvbWVyTmFtZXMoKTtcblxuICAgICAgICB2bS5iYXRjaERhdGEgPSB7fTtcbiAgICAgICAgdm0uc2FtcGxlcyA9IFtdO1xuICAgICAgICB2bS53b3JraW5nU2FtcGxlID0ge307XG4gICAgICAgIHZtLndvcmtpbmdJbmRleCA9IDE7XG5cbiAgICAgICAgdm0uYWRkTmV3U2FtcGxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZtLnNhbXBsZXMucHVzaChhbmd1bGFyLmNvcHkodm0ud29ya2luZ1NhbXBsZSkpO1xuICAgICAgICAgIHZtLndvcmtpbmdJbmRleCsrO1xuICAgICAgICAgIHZtLndvcmtpbmdTYW1wbGUubmFtZSA9ICcnO1xuICAgICAgICAgIHZtLndvcmtpbmdTYW1wbGUuZGVzY3JpcHRpb24gPSAnJztcbiAgICAgICAgICB2bS5zYW1wbGVGb3JtLiRzZXRQcmlzdGluZSgpO1xuICAgICAgICAgIHZtLnNhbXBsZUZvcm0uJHNldFVudG91Y2hlZCgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZtLmRlbGV0ZVNhbXBsZSA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgIHZtLnNhbXBsZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICBpZiAodm0ud29ya2luZ0luZGV4ID09PSBpbmRleCkge1xuICAgICAgICAgICAgdm0ud29ya2luZ1NhbXBsZSA9IHt9O1xuICAgICAgICAgIH1cbiAgICAgICAgICB2bS53b3JraW5nSW5kZXggPSB2bS5zYW1wbGVzLmxlbmd0aDtcbiAgICAgICAgfTtcblxuICAgICAgICB2bS5jYW5jZWxFZGl0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZtLndvcmtpbmdTYW1wbGUgPSB7fTtcbiAgICAgICAgICB2bS5zYW1wbGVGb3JtLiRzZXRQcmlzdGluZSgpO1xuICAgICAgICAgIHZtLnNhbXBsZUZvcm0uJHNldFVudG91Y2hlZCgpO1xuICAgICAgICAgIHZtLndvcmtpbmdJbmRleCA9IHZtLnNhbXBsZXMubGVuZ3RoO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZtLmlzRWRpdGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gdm0ud29ya2luZ0luZGV4IDwgdm0uc2FtcGxlcy5sZW5ndGg7XG4gICAgICAgIH07XG5cbiAgICAgICAgdm0uZWRpdFNhbXBsZSA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgIHZtLndvcmtpbmdJbmRleCA9IGluZGV4O1xuICAgICAgICAgIHZtLndvcmtpbmdTYW1wbGUgPSBhbmd1bGFyLmNvcHkodm0uc2FtcGxlc1tpbmRleF0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZtLnNhdmVFZGl0ZWRTYW1wbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdm0uc2FtcGxlc1t2bS53b3JraW5nSW5kZXhdID0gYW5ndWxhci5jb3B5KHZtLndvcmtpbmdTYW1wbGUpO1xuICAgICAgICAgIHZtLndvcmtpbmdTYW1wbGUgPSB7fTtcbiAgICAgICAgICB2bS5zYW1wbGVGb3JtLiRzZXRQcmlzdGluZSgpO1xuICAgICAgICAgIHZtLnNhbXBsZUZvcm0uJHNldFVudG91Y2hlZCgpO1xuICAgICAgICAgIHZtLndvcmtpbmdJbmRleCA9IHZtLnNhbXBsZXMubGVuZ3RoO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZtLnNhdmVCYXRjaCA9IGZ1bmN0aW9uIChldikge1xuICAgICAgICAgIHZhciBjb25maXJtID0gJG1kRGlhbG9nLmNvbmZpcm0oKVxuICAgICAgICAgICAgLnRpdGxlKCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gc2F2ZT8nKVxuICAgICAgICAgICAgLnRleHRDb250ZW50KCdFbnN1cmUgeW91IGhhdmUgZW50ZXJlZCBhbGwgc2FtcGxlcy4nKVxuICAgICAgICAgICAgLmFyaWFMYWJlbCgnRW50ZXJlZCBBbGwgU2FtcGxlcycpXG4gICAgICAgICAgICAudGFyZ2V0RXZlbnQoZXYpXG4gICAgICAgICAgICAub2soJ0NyZWF0ZSB0aGUgQmF0Y2gnKVxuICAgICAgICAgICAgLmNhbmNlbCgnSG9sZCBwbGVhc2UuJyk7XG4gICAgICAgICAgJG1kRGlhbG9nLnNob3coY29uZmlybSkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgdm0uYmF0Y2hEYXRhLnNhbXBsZXMgPSBhbmd1bGFyLmZyb21Kc29uKGFuZ3VsYXIudG9Kc29uKHZtLnNhbXBsZXMpKTtcbiAgICAgICAgICAgICAgdm0uYmF0Y2hEYXRhLmN1c3RvbWVySWQgKz0gJyc7XG4gICAgICAgICAgICAgIHJldHVybiB2bS5iYXRjaERhdGE7XG4gICAgICAgICAgfSkudGhlbihzYW1wbGVTZXJ2aWNlLmNyZWF0ZUJhdGNoKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAkc3RhdGUuZ28oUk9VVEVTLlNBTVBMRVMpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgJGxvZy5lcnJvcihlcnIuZXJyb3IpO1xuICAgICAgICAgICAgICB2bS5lcnJvciA9IHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpO1xuICAgIH0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnYmlvZnVlbHMuc2VjdGlvbnMuY2VudHJpZnVnZScsIFtcbiAgJ2Jpb2Z1ZWxzLnNlY3Rpb25zLmNlbnRyaWZ1Z2UuY29udHJvbGxlcidcbl0pO1xuXG4iLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdiaW9mdWVscy5zZWN0aW9ucy5jZW50cmlmdWdlLmNvbnRyb2xsZXInLCBbXSlcbiAgLmNvbnRyb2xsZXIoJ2NlbnRyaWZ1Z2VDdHJsJyxcbiAgICBmdW5jdGlvbiAoJGxvZyxcbiAgICAgICAgICAgICAgJHN0YXRlLFxuICAgICAgICAgICAgICBST1VURVMsXG4gICAgICAgICAgICAgICRzdGF0ZVBhcmFtcyxcbiAgICAgICAgICAgICAgc2FtcGxlU2VydmljZSkge1xuICAgICAgKGZ1bmN0aW9uICh2bSkge1xuICAgICAgICB2bS5jZW50cmlmdWdlcyA9IFtcbiAgICAgICAgICB7aWQ6IDF9LFxuICAgICAgICAgIHtpZDogMn0sXG4gICAgICAgICAge2lkOiAzfVxuICAgICAgICBdO1xuXG4gICAgICAgIHZtLmNlbnRyaWZ1Z2VEYXRhID0ge1xuICAgICAgICAgIGxvY2F0aW9uczogWzEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDksIDEwLCAxMSwgMTJdLFxuICAgICAgICAgIHRlbXA6IDIwLFxuICAgICAgICAgIHJwbTogMjIwMCxcbiAgICAgICAgICB0b3RhbFRpbWU6IDEwLFxuICAgICAgICAgIHJ1bkRhdGU6IG5ldyBEYXRlKClcbiAgICAgICAgfTtcblxuICAgICAgICB2bS5jZW50TG9jcyA9IFtcbiAgICAgICAgICB7Y2VudExvYzogMX0sXG4gICAgICAgICAge2NlbnRMb2M6IDJ9LFxuICAgICAgICAgIHtjZW50TG9jOiAzfSxcbiAgICAgICAgICB7Y2VudExvYzogNH0sXG4gICAgICAgICAge2NlbnRMb2M6IDV9LFxuICAgICAgICAgIHtjZW50TG9jOiA2fSxcbiAgICAgICAgICB7Y2VudExvYzogN30sXG4gICAgICAgICAge2NlbnRMb2M6IDh9LFxuICAgICAgICAgIHtjZW50TG9jOiA5fSxcbiAgICAgICAgICB7Y2VudExvYzogMTB9LFxuICAgICAgICAgIHtjZW50TG9jOiAxMX0sXG4gICAgICAgICAge2NlbnRMb2M6IDEyfVxuICAgICAgICBdO1xuXG4gICAgICAgIHZtLnN1Ym1pdERhdGEgPSBbXTtcbiAgICAgICAgdm0uc2VsZWN0ZWRTYW1wbGVzID0gJHN0YXRlUGFyYW1zLnNhbXBsZXM7XG5cbiAgICAgICAgdm0uc2F2ZURhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IHZtLnN1Ym1pdERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZtLnN1Ym1pdERhdGFbaV0uY2VudHJpZnVnZUlkID0gTnVtYmVyKHZtLmNlbnRyaWZ1Z2VEYXRhLmlkKTtcblxuICAgICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh2bS5jZW50cmlmdWdlRGF0YS5ydW5EYXRlLmdldFRpbWUoKSk7XG4gICAgICAgICAgICB2YXIgc3RhcnRUaW1lID0gdm0uY2VudHJpZnVnZURhdGEuc3RhcnRUaW1lO1xuICAgICAgICAgICAgZGF0ZS5zZXRIb3VycyhzdGFydFRpbWUuZ2V0SG91cnMoKSk7XG4gICAgICAgICAgICBkYXRlLnNldE1pbnV0ZXMoc3RhcnRUaW1lLmdldFNlY29uZHMoKSk7XG4gICAgICAgICAgICB2bS5zdWJtaXREYXRhW2ldLmNlbnRyaWZ1Z2VEYXRlUnVuID0gZGF0ZTtcblxuICAgICAgICAgICAgdm0uc3VibWl0RGF0YVtpXS5jZW50cmlmdWdlVGVtcCA9IHZtLmNlbnRyaWZ1Z2VEYXRhLnRlbXA7XG4gICAgICAgICAgICB2bS5zdWJtaXREYXRhW2ldLmNlbnRyaWZ1Z2VUb3RhbFRpbWUgPSB2bS5jZW50cmlmdWdlRGF0YS50b3RhbFRpbWU7XG4gICAgICAgICAgICB2bS5zdWJtaXREYXRhW2ldLmNlbnRyaWZ1Z2VScG0gPSB2bS5jZW50cmlmdWdlRGF0YS5ycG07XG4gICAgICAgICAgICB2bS5zdWJtaXREYXRhW2ldLmNlbnRyaWZ1Z2VMb2NhdGlvbiA9IHZtLmNlbnRMb2NzW2ldLmNlbnRMb2M7XG4gICAgICAgICAgfVxuICAgICAgICAgICRsb2cuZGVidWcodm0uc3VibWl0RGF0YSk7XG4gICAgICAgICAgc2FtcGxlU2VydmljZS5jZW50cmlmdWdlKHZtLnN1Ym1pdERhdGEpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICRzdGF0ZS5nbyhST1VURVMuU0FNUExFUylcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAkbG9nLmVycm9yKGVyci5lcnJvcik7XG4gICAgICAgICAgICAgIHZtLmVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKTtcbiAgICB9KTtcbiIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ2Jpb2Z1ZWxzLnNlY3Rpb25zLmNyZWF0ZUN1c3RvbWVyJywgW1xuICAnYmlvZnVlbHMuc2VjdGlvbnMuY3JlYXRlQ3VzdG9tZXIuY29udHJvbGxlcidcbl0pO1xuXG4iLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdiaW9mdWVscy5zZWN0aW9ucy5jcmVhdGVDdXN0b21lci5jb250cm9sbGVyJywgW10pXG4gIC5jb250cm9sbGVyKCdjcmVhdGVDdXN0b21lckN0cmwnLFxuICAgIGZ1bmN0aW9uICgkbG9nLFxuICAgICAgICAgICAgICBjdXN0b21lclNlcnZpY2UsXG4gICAgICAgICAgICAgICRzdGF0ZSxcbiAgICAgICAgICAgICAgUk9VVEVTXG4gICAgKSB7XG4gICAgICAoZnVuY3Rpb24gKHZtKSB7XG4gICAgICAgICRsb2cuZGVidWcoJ1RoaXMgaXMgZnJvbSB0aGUgaG9tZSBwYWdlJyk7XG4gICAgICAgIHZtLmN1c3RvbWVyRGF0YSA9IHtcbiAgICAgICAgICBQT051bWJlcnM6IFtdLFxuICAgICAgICB9O1xuICAgICAgICB2bS5zdGF0ZXMgPSAoJ0FMIEFLIEFaIEFSIENBIENPIENUIERFIEZMIEdBIEhJIElEIElMIElOIElBIEtTIEtZIExBIE1FIE1EIE1BIE1JIE1OIE1TICcgK1xuICAgICAgICAnTU8gTVQgTkUgTlYgTkggTkogTk0gTlkgTkMgTkQgT0ggT0sgT1IgUEEgUkkgU0MgU0QgVE4gVFggVVQgVlQgVkEgV0EgV1YgV0kgJyArXG4gICAgICAgICdXWScpLnNwbGl0KCcgJykubWFwKGZ1bmN0aW9uKHN0YXRlKSB7XG4gICAgICAgICAgcmV0dXJuIHthYmJyZXY6IHN0YXRlfTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdm0uYWRkVG9QT0xpc3QgPSBmdW5jdGlvbiAocG9OdW1iZXIpIHtcbiAgICAgICAgICBpZiAoIXZtLmN1c3RvbWVyRGF0YS5QT051bWJlcnMuaW5jbHVkZXMocG9OdW1iZXIpICYmIHBvTnVtYmVyKSB7XG4gICAgICAgICAgICB2bS5jdXN0b21lckRhdGEuUE9OdW1iZXJzLnB1c2gocG9OdW1iZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB2bS5yZW1vdmVGcm9tUE9MaXN0ID0gZnVuY3Rpb24gKHBvTnVtYmVyKSB7XG4gICAgICAgICAgdmFyIGluZGV4ID0gdm0uY3VzdG9tZXJEYXRhLlBPTnVtYmVycy5pbmRleE9mKHBvTnVtYmVyKTtcbiAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgdm0uY3VzdG9tZXJEYXRhLlBPTnVtYmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB2bS5jcmVhdGVDdXN0b21lciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAkbG9nLmRlYnVnKCdDcmVhdGUgdGhpcyBjdXN0b21lcicpO1xuXG4gICAgICAgICAgdm0uZm9ybUVycm9yID0gJyc7XG4gICAgICAgICAgdm0uZm9ybVJlc3BvbnNlID0gJyc7XG4gICAgICAgICAgY3VzdG9tZXJTZXJ2aWNlLmNyZWF0ZUN1c3RvbWVyKHZtLmN1c3RvbWVyRGF0YS5uYW1lLCB2bS5jdXN0b21lckRhdGEuY29kZSwgdm0uY3VzdG9tZXJEYXRhLmNvbnRhY3ROYW1lMSwgdm0uY3VzdG9tZXJEYXRhLmNvbnRhY3ROYW1lMiwgdm0uY3VzdG9tZXJEYXRhLmJpbGxpbmdOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bS5jdXN0b21lckRhdGEuYWRkcmVzcywgdm0uY3VzdG9tZXJEYXRhLmFkZHJlc3MyLCB2bS5jdXN0b21lckRhdGEuY2l0eSwgdm0uY3VzdG9tZXJEYXRhLnN0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXIodm0uY3VzdG9tZXJEYXRhLnBvc3RhbENvZGUpLCB2bS5jdXN0b21lckRhdGEucGhvbmVOdW1iZXIsIHZtLmN1c3RvbWVyRGF0YS5lbWFpbCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgdm0uZm9ybVJlc3BvbnNlID0gJ1N1Y2Nlc3NmdWxseSBtYWRlIGN1c3RvbWVyISc7XG4gICAgICAgICAgICAkc3RhdGUuZ28oUk9VVEVTLkNVU1RPTUVSUyk7XG4gICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgdm0uZm9ybUVycm9yID0gZXJyLmVycm9yO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICB9KSh0aGlzKTtcbiAgICB9KTtcbiIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ2Jpb2Z1ZWxzLnNlY3Rpb25zLnZpYWxzJywgW1xuICAnYmlvZnVlbHMuc2VjdGlvbnMudmlhbHMuY29udHJvbGxlcidcbl0pO1xuXG4iLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdiaW9mdWVscy5zZWN0aW9ucy52aWFscy5jb250cm9sbGVyJywgW10pXG4gIC5jb250cm9sbGVyKCd2aWFsc0N0cmwnLFxuICAgIGZ1bmN0aW9uICgkbG9nLFxuICAgICAgICAgICAgICB2aWFsU2VydmljZVxuICAgICkge1xuICAgICAgKGZ1bmN0aW9uICh2bSkge1xuICAgICAgICAkbG9nLmRlYnVnKCdUaGlzIGlzIGZyb20gdGhlIHZpYWxzIHBhZ2UnKTtcblxuICAgICAgICB2bS5vcHRpb25zID0ge1xuICAgICAgICAgIHJvd1NlbGVjdGlvbjogdHJ1ZSxcbiAgICAgICAgICBtdWx0aVNlbGVjdDogZmFsc2UsXG4gICAgICAgICAgYXV0b1NlbGVjdDogdHJ1ZSxcbiAgICAgICAgICBkZWNhcGl0YXRlOiBmYWxzZSxcbiAgICAgICAgICBsYXJnZUVkaXREaWFsb2c6IGZhbHNlLFxuICAgICAgICAgIGJvdW5kYXJ5TGlua3M6IGZhbHNlLFxuICAgICAgICAgIGxpbWl0U2VsZWN0OiB0cnVlLFxuICAgICAgICAgIHBhZ2VTZWxlY3Q6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgdm0ubGltaXRPcHRpb25zID0gWzUsIDEwLCAxNV07XG4gICAgICAgIHZtLnNlbGVjdGVkID0gW107XG4gICAgICAgIHZtLmN1c3RvbWVycyA9IFtdO1xuICAgICAgICB2bS5xdWVyeSA9IHtcbiAgICAgICAgICBvcmRlcjogJ3ZpYWxfaWQnLFxuICAgICAgICAgIGxpbWl0OiAxMCxcbiAgICAgICAgICBwYWdlOiAxXG4gICAgICAgIH07XG5cbiAgICAgICAgdm0udmlhbFR5cGVzID0gW3tcbiAgICAgICAgICBjb2RlOiAnUlhOJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1JFQUNUSU9OJ1xuICAgICAgICB9LCB7XG4gICAgICAgICAgY29kZTogJ0dDJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0dDJ1xuICAgICAgICB9LCB7XG4gICAgICAgICAgY29kZTogJ1NQSycsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdTUElLRUQnXG4gICAgICAgIH1dO1xuICAgICAgICB2bS5zZWxlY3RlZFZpYWxUeXBlID0gdm0udmlhbFR5cGVzWzBdLmNvZGU7XG5cbiAgICAgICAgdm0uY2hhbmdlVmlhbFR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJGxvZy5kZWJ1ZygnQ2hhbmdlIHZpYWwgdHlwZScpO1xuICAgICAgICAgIHZtLmdldFZpYWxzKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdm0uY29udmVydERhdGVTdHJpbmcgPSBmdW5jdGlvbiAoZGF0ZVN0cmluZykge1xuICAgICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoZGF0ZVN0cmluZyk7XG4gICAgICAgICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKFwiZW4tVVNcIik7XG4gICAgICAgIH07XG5cbiAgICAgICAgdm0uZ2V0VmlhbHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdm0udmlhbHMgPSBbXTtcbiAgICAgICAgICB2bS5mb3JtRXJyb3IgPSAnJztcbiAgICAgICAgICB2bS5mb3JtUmVzcG9uc2UgPSAnJztcbiAgICAgICAgICB2bS5wcm9taXNlID0gdmlhbFNlcnZpY2UuZ2V0VmlhbHModm0uc2VsZWN0ZWRWaWFsVHlwZSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgdm0uZm9ybVJlc3BvbnNlID0gJ1N1Y2Nlc3NmdWxseSBnb3QgdmlhbCBsaXN0ISc7XG4gICAgICAgICAgICB2bS52aWFscyA9IGRhdGEuZGF0YTtcbiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICB2bS5mb3JtRXJyb3IgPSBlcnIuZXJyb3I7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdm0uZ2V0VmlhbHMoKTtcbiAgICAgIH0pKHRoaXMpO1xuICAgIH0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnYmlvZnVlbHMuc2VjdGlvbnMuc2FtcGxlcycsIFtcbiAgJ2Jpb2Z1ZWxzLnNlY3Rpb25zLnNhbXBsZXMuY29udHJvbGxlcidcbl0pO1xuXG4iLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdiaW9mdWVscy5zZWN0aW9ucy5zYW1wbGVzLmNvbnRyb2xsZXInLCBbXG5cbl0pXG4gIC5jb250cm9sbGVyKCdzYW1wbGVzQ3RybCcsXG4gICAgZnVuY3Rpb24gKCRsb2csXG4gICAgICAgICAgICAgIHNhbXBsZVNlcnZpY2UsXG4gICAgICAgICAgICAgIFJPVVRFUyxcbiAgICAgICAgICAgICAgJHN0YXRlLFxuICAgICAgICAgICAgICAkbG9jYWxTdG9yYWdlLFxuICAgICAgICAgICAgICAkbWREaWFsb2csXG4gICAgICAgICAgICAgIF9cbiAgICApIHtcbiAgICAgIChmdW5jdGlvbiAodm0pIHtcbiAgICAgICAgJGxvZy5kZWJ1ZygnVGhpcyBpcyBmcm9tIHRoZSBzYW1wbGVzIHBhZ2UnKTtcbiAgICAgICAgdm0ubG9jYWxTdG9yYWdlID0gJGxvY2FsU3RvcmFnZTtcbiAgICAgICAgdm0ub3B0aW9ucyA9IHtcbiAgICAgICAgICByb3dTZWxlY3Rpb246IHRydWUsXG4gICAgICAgICAgbXVsdGlTZWxlY3Q6IHRydWUsXG4gICAgICAgICAgYXV0b1NlbGVjdDogdHJ1ZSxcbiAgICAgICAgICBkZWNhcGl0YXRlOiBmYWxzZSxcbiAgICAgICAgICBsYXJnZUVkaXREaWFsb2c6IGZhbHNlLFxuICAgICAgICAgIGJvdW5kYXJ5TGlua3M6IGZhbHNlLFxuICAgICAgICAgIGxpbWl0U2VsZWN0OiB0cnVlLFxuICAgICAgICAgIHBhZ2VTZWxlY3Q6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgdm0ubGltaXRPcHRpb25zID0gWzUsIDgsIDE1XTtcbiAgICAgICAgdm0uc2VsZWN0ZWQgPSBbXTtcbiAgICAgICAgdm0ucXVlcnkgPSB7XG4gICAgICAgICAgb3JkZXI6ICd2aWFsX2lkJyxcbiAgICAgICAgICBsaW1pdDogOCxcbiAgICAgICAgICBwYWdlOiAxXG4gICAgICAgIH07XG5cbiAgICAgICAgdm0uaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2bS5zYW1wbGVEYXRhID0gW107XG4gICAgICAgICAgdm0ucHJvbWlzZSA9IHNhbXBsZVNlcnZpY2UuZ2V0U2FtcGxlcygpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICRsb2cuZGVidWcoZGF0YSk7XG4gICAgICAgICAgICB2bS5zYW1wbGVEYXRhID0gZGF0YS5kYXRhO1xuICAgICAgICAgICAgdm0uY3VzdG9tZXJzID0gXy51bmlxKF8ucGx1Y2sodm0uc2FtcGxlRGF0YSwgJ2N1c3RvbWVyX2NvZGUnKSkuc29ydCgpO1xuXG4gICAgICAgICAgICBpZiAodm0ubG9jYWxTdG9yYWdlICYmIHZtLmxvY2FsU3RvcmFnZS5zZWxlY3RlZEN1c3RvbWVyKSB7XG4gICAgICAgICAgICAgIHVwZGF0ZUZvckJhdGNoRGF0YSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodm0ubG9jYWxTdG9yYWdlICYmIHZtLmxvY2FsU3RvcmFnZS5zZWxlY3RlZEJhdGNoKSB7XG4gICAgICAgICAgICAgIHZtLmNoYW5nZWRCYXRjaElkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdm0uaW5pdCgpO1xuXG4gICAgICAgIHZtLmFsbFJ4blRydWUgPSAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfLmV2ZXJ5KHZtLnNlbGVjdGVkLCBfLnByb3BlcnR5KCdyeG5fdmlhbF9pZCcpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdm0uYWxsVGhlcm1vVHJ1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gXy5ldmVyeSh2bS5zZWxlY3RlZCwgXy5wcm9wZXJ0eSgndGhlcm1vbWl4ZXJfY29tcGxldGUnKSk7XG4gICAgICAgIH07XG4gICAgICAgIHZtLmFsbFZvcnRleFRydWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIF8uZXZlcnkodm0uc2VsZWN0ZWQsIF8ucHJvcGVydHkoJ3ZvcnRleF9jb21wbGV0ZScpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdm0uYWxsRmFtZVRydWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIF8uZXZlcnkodm0uc2VsZWN0ZWQsIF8ucHJvcGVydHkoJ2ZhbWVfY29tcGxldGUnKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlRm9yQmF0Y2hEYXRhICgpIHtcbiAgICAgICAgICB2bS5zZWxlY3RlZCA9IFtdO1xuICAgICAgICAgIHZtLnNhbXBsZXMgPSBbXTtcbiAgICAgICAgICB2YXIgZmlsdGVyZWRTYW1wbGVzID0gXy5maWx0ZXIodm0uc2FtcGxlRGF0YSwgZnVuY3Rpb24oc2FtcGxlKSB7XG4gICAgICAgICAgICByZXR1cm4gc2FtcGxlLmN1c3RvbWVyX2NvZGUgPT09IHZtLmxvY2FsU3RvcmFnZS5zZWxlY3RlZEN1c3RvbWVyO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgdmFyIHBsdWNrZWRCYXRjaGVzID0gXy51bmlxKF8ucGx1Y2soZmlsdGVyZWRTYW1wbGVzLCAnYmF0Y2hfaWQnKSk7XG4gICAgICAgICAgdm0uYmF0Y2hlcyA9IF8uc29ydEJ5KHBsdWNrZWRCYXRjaGVzKS5yZXZlcnNlKCk7XG4gICAgICAgICAgJGxvZy5kZWJ1Zyh2bS5iYXRjaGVzKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2bS5jaGFuZ2VkQ3VzdG9tZXJDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHVwZGF0ZUZvckJhdGNoRGF0YSgpO1xuICAgICAgICAgIGRlbGV0ZSB2bS5sb2NhbFN0b3JhZ2Uuc2VsZWN0ZWRCYXRjaDtcbiAgICAgICAgfTtcblxuICAgICAgICB2bS5jaGFuZ2VkQmF0Y2hJZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2bS5zZWxlY3RlZCA9IFtdO1xuICAgICAgICAgIHZtLnNhbXBsZXMgPSBfLmZpbHRlcih2bS5zYW1wbGVEYXRhLCBmdW5jdGlvbihzYW1wbGUpIHtcbiAgICAgICAgICAgIHJldHVybiBzYW1wbGUuYmF0Y2hfaWQgPT09IHZtLmxvY2FsU3RvcmFnZS5zZWxlY3RlZEJhdGNoO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZtLmdvVG9SeG4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJHN0YXRlLmdvKFJPVVRFUy5SWE5fU0VMRUNUSU9OLCB7XG4gICAgICAgICAgICBzYW1wbGVzOiB2bS5zZWxlY3RlZFxuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZtLmdvVG9UaGVybW8gPSBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICB2YXIgYWxlcnQgPSAkbWREaWFsb2cuYWxlcnQoKVxuICAgICAgICAgICAgLnRpdGxlKCdUb28gbWFueSBzZWxlY3RlZCBzYW1wbGVzJylcbiAgICAgICAgICAgIC50ZXh0Q29udGVudCgnWW91IGNhbm5vdCBzZWxlY3QgbW9yZSB0aGFuIDggc2FtcGxlcycpXG4gICAgICAgICAgICAuYXJpYUxhYmVsKCdTZWxlY3RlZCBBbGwgU2FtcGxlcycpXG4gICAgICAgICAgICAudGFyZ2V0RXZlbnQoZXYpXG4gICAgICAgICAgICAub2soJ09rYXknKTtcbiAgICAgICAgICBpZiAodm0uc2VsZWN0ZWQubGVuZ3RoID4gOCkge1xuICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coYWxlcnQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkc3RhdGUuZ28oUk9VVEVTLlRIRVJNT19NSVhFUiwge1xuICAgICAgICAgICAgICBzYW1wbGVzOiB2bS5zZWxlY3RlZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHZtLmdvVG9Wb3J0ZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJHN0YXRlLmdvKFJPVVRFUy5WT1JURVgsIHtcbiAgICAgICAgICAgIHNhbXBsZXM6IHZtLnNlbGVjdGVkXG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdm0uZ29Ub0NlbnRyaWZ1Z2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJHN0YXRlLmdvKFJPVVRFUy5DRU5UUklGVUdFLCB7XG4gICAgICAgICAgICBzYW1wbGVzOiB2bS5zZWxlY3RlZFxuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcyk7XG4gICAgfSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdiaW9mdWVscy5zZWN0aW9ucy5sb2dpbicsIFtcbiAgJ2Jpb2Z1ZWxzLnNlY3Rpb25zLmxvZ2luLmNvbnRyb2xsZXInXG5dKTtcblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnYmlvZnVlbHMuc2VjdGlvbnMubG9naW4uY29udHJvbGxlcicsIFtcbiAgJ25nTWVzc2FnZXMnLFxuICAnbmdTdG9yYWdlJyxcbiAgJ2Jpb2Z1ZWxzLmNvcmUudXNlcicsXG4gICdiaW9mdWVscy5jb3JlLnJvdXRlci5jb25zdGFudHMnXG5dKVxuICAuY29udHJvbGxlcignbG9naW5DdHJsJyxcbiAgZnVuY3Rpb24gKCRsb2csXG4gICAgICAgICAgICB1c2VyU2VydmljZSxcbiAgICAgICAgICAgICRsb2NhbFN0b3JhZ2UsXG4gICAgICAgICAgICAkc3RhdGUsXG4gICAgICAgICAgICBST1VURVNcbiAgKSB7XG4gICAgKGZ1bmN0aW9uICh2bSkge1xuICAgICAgJGxvZy5kZWJ1ZygnVGhpcyBpcyBmcm9tIHRoZSBsb2dpbnMgcGFnZScpO1xuXG4gICAgICB2bS5kaXNhYmxlSXQgPSBmYWxzZTtcbiAgICAgIHZtLnVzZXJMb2dpbiA9IHt9O1xuICAgICAgdm0udXNlclJlZ2lzdGVyID0ge307XG5cbiAgICAgIGlmICgkbG9jYWxTdG9yYWdlLnVzZXJQcm9maWxlICYmICRsb2NhbFN0b3JhZ2UudXNlclByb2ZpbGUuZW1haWwpIHtcbiAgICAgICAgdm0udXNlckxvZ2luLmVtYWlsID0gJGxvY2FsU3RvcmFnZS51c2VyUHJvZmlsZS5lbWFpbDtcbiAgICAgIH1cblxuICAgICAgdm0ub25FbnRlciA9IGZ1bmN0aW9uIChldikge1xuICAgICAgICBpZiAoZXYud2hpY2ggPT09IDEzKSB7XG4gICAgICAgICAgdm0ubG9naW5Vc2VyKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZtLmxvZ2luVXNlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdm0uZm9ybUVycm9yID0gJyc7XG4gICAgICAgIHZtLmZvcm1SZXNwb25zZSA9ICcnO1xuICAgICAgICB1c2VyU2VydmljZS5sb2dpbih2bS51c2VyTG9naW4uZW1haWwsIHZtLnVzZXJMb2dpbi5wYXNzd29yZCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdm0uZm9ybVJlc3BvbnNlID0gJ1N1Y2Nlc3NmdWxseSBsb2dnZWQgaW4hJztcbiAgICAgICAgICAkc3RhdGUuZ28oUk9VVEVTLkhPTUUpO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgdm0uZm9ybUVycm9yID0gZXJyLmVycm9yO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIHZtLnJlZ2lzdGVyVXNlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdm0ucmVnaXN0ZXJGb3JtRXJyb3IgPSAnJztcbiAgICAgICAgdm0ucmVnaXN0ZXJGb3JtUmVzcG9uc2UgPSAnJztcbiAgICAgICAgdXNlclNlcnZpY2UucmVnaXN0ZXIodm0udXNlclJlZ2lzdGVyLmZ1bGxOYW1lLFxuICAgICAgICAgICAgdm0udXNlclJlZ2lzdGVyLmVtYWlsLFxuICAgICAgICAgICAgdm0udXNlclJlZ2lzdGVyLnBhc3N3b3JkKS50aGVuKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgIHZtLnJlZ2lzdGVyRm9ybVJlc3BvbnNlID0gJ1N1Y2Nlc3NmdWxseSByZWdpc3RlcmVkIHVzZXIhJztcbiAgICAgICAgICB2bS51c2VyTG9naW4uZW1haWwgPSB2bS51c2VyUmVnaXN0ZXIuZW1haWw7XG4gICAgICAgICAgdm0udXNlclJlZ2lzdGVyID0ge307XG4gICAgICAgICAgdm0uc2VsZWN0ZWRUYWIgPSAwO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgdm0ucmVnaXN0ZXJGb3JtRXJyb3IgPSBlcnIuZXJyb3I7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9KSh0aGlzKTtcbiAgfSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdiaW9mdWVscy5zZWN0aW9ucy5jdXN0b21lcnMnLCBbXG4gICdiaW9mdWVscy5zZWN0aW9ucy5jdXN0b21lcnMuY29udHJvbGxlcidcbl0pO1xuXG4iLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdiaW9mdWVscy5zZWN0aW9ucy5jdXN0b21lcnMuY29udHJvbGxlcicsIFtdKVxuICAuY29udHJvbGxlcignY3VzdG9tZXJzQ3RybCcsXG4gICAgZnVuY3Rpb24gKCRsb2csXG4gICAgICAgICAgICAgIGN1c3RvbWVyU2VydmljZVxuICAgICkge1xuICAgICAgKGZ1bmN0aW9uICh2bSkge1xuICAgICAgICAkbG9nLmRlYnVnKCdUaGlzIGlzIGZyb20gdGhlIGN1c3RvbWVycyBwYWdlJyk7XG4gICAgICAgIHZtLnNlbGVjdGVkID0gW107XG4gICAgICAgIHZtLmN1c3RvbWVycyA9IFtdO1xuXG4gICAgICAgIGZ1bmN0aW9uIGdldEN1c3RvbWVycyAoKSB7XG4gICAgICAgICAgdm0uZm9ybUVycm9yID0gJyc7XG4gICAgICAgICAgdm0uZm9ybVJlc3BvbnNlID0gJyc7XG4gICAgICAgICAgY3VzdG9tZXJTZXJ2aWNlLmdldEN1c3RvbWVycygpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHZtLmZvcm1SZXNwb25zZSA9ICdTdWNjZXNzZnVsbHkgZ290IGN1c3RvbWVyIGxpc3QhJztcbiAgICAgICAgICAgIHZtLmN1c3RvbWVycyA9IGRhdGEuZGF0YTtcbiAgICAgICAgICAgICRsb2cuZGVidWcodm0uY3VzdG9tZXJzLmxlbmd0aCk7XG4gICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgdm0uZm9ybUVycm9yID0gZXJyLmVycm9yO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0Q3VzdG9tZXJzKCk7XG4gICAgICB9KSh0aGlzKTtcbiAgICB9KTtcbiIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ2Jpb2Z1ZWxzLnNlY3Rpb25zLmhvbWUnLCBbXG4gICdiaW9mdWVscy5zZWN0aW9ucy5ob21lLmNvbnRyb2xsZXInXG5dKTtcblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnYmlvZnVlbHMuc2VjdGlvbnMuaG9tZS5jb250cm9sbGVyJywgW1xuICAnbmdTdG9yYWdlJ1xuXSlcbiAgLmNvbnRyb2xsZXIoJ2hvbWVDdHJsJyxcbiAgZnVuY3Rpb24gKCRsb2csXG4gICAgICAgICAgICAkbG9jYWxTdG9yYWdlXG4gICkge1xuICAgIChmdW5jdGlvbiAodm0pIHtcbiAgICAgICRsb2cuZGVidWcoJ1RoaXMgaXMgZnJvbSB0aGUgaG9tZSBwYWdlJyk7XG5cbiAgICAgIHZtLnVzZXJQcm9maWxlID0gJGxvY2FsU3RvcmFnZS51c2VyUHJvZmlsZTtcbiAgICAgIHZtLmxhYmVscyA9IFsnRG93bmxvYWQgU2FsZXMnLCAnSW4tU3RvcmUgU2FsZXMnLCAnTWFpbC1PcmRlciBTYWxlcyddO1xuICAgICAgdm0uZGF0YSA9IFszMDAsIDUwMCwgMTAwXTtcblxuXG4gICAgICB2bS5saW5lTGFiZWxzID0gWydKYW51YXJ5JywgJ0ZlYnJ1YXJ5JywgJ01hcmNoJywgJ0FwcmlsJywgJ01heScsICdKdW5lJywgJ0p1bHknXTtcbiAgICAgIHZtLmxpbmVTZXJpZXMgPSBbJ1NlcmllcyBBJywgJ1NlcmllcyBCJ107XG4gICAgICB2bS5saW5lRGF0YSA9IFtcbiAgICAgICAgWzY1LCA1OSwgODAsIDgxLCA1NiwgNTUsIDQwXSxcbiAgICAgICAgWzI4LCA0OCwgNDAsIDE5LCA4NiwgMjcsIDkwXVxuICAgICAgXTtcblxuICAgICAgdm0ucmFkYXJMYWJlbHMgPVsnRWF0aW5nJywgJ0RyaW5raW5nJywgJ1NsZWVwaW5nJywgJ0Rlc2lnbmluZycsICdDb2RpbmcnLCAnQ3ljbGluZycsICdSdW5uaW5nJ107XG5cbiAgICAgIHZtLnJhZGFyRGF0YSA9IFtcbiAgICAgICAgWzY1LCA1OSwgOTAsIDgxLCA1NiwgNTUsIDQwXSxcbiAgICAgICAgWzI4LCA0OCwgNDAsIDE5LCA5NiwgMjcsIDEwMF1cbiAgICAgIF07XG5cblxuICAgICAgdm0uYmFyTGFiZWxzID0gWycyMDA2JywgJzIwMDcnLCAnMjAwOCcsICcyMDA5JywgJzIwMTAnLCAnMjAxMScsICcyMDEyJ107XG4gICAgICB2bS5iYXJTZXJpZXMgPSBbJ1NlcmllcyBBJywgJ1NlcmllcyBCJ107XG5cbiAgICAgIHZtLmJhckRhdGEgPSBbXG4gICAgICAgIFs2NSwgNTksIDgwLCA4MSwgNTYsIDU1LCA0MF0sXG4gICAgICAgIFsyOCwgNDgsIDQwLCAxOSwgODYsIDI3LCA5MF1cbiAgICAgIF07XG4gICAgfSkodGhpcyk7XG4gIH0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnYmlvZnVlbHMuY29yZS53cmFwcGVycycsIFtcbiAgJ2Jpb2Z1ZWxzLmNvcmUud3JhcHBlcnMudW5kZXJzY29yZSdcbl0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnYmlvZnVlbHMuY29yZS53cmFwcGVycy51bmRlcnNjb3JlJywgW10pXG4gIC5mYWN0b3J5KCdfJywgWyckd2luZG93JywgZnVuY3Rpb24oJHdpbmRvdykge1xuICAgIGlmICgkd2luZG93ICYmICdfJyBpbiAkd2luZG93KSB7XG4gICAgICByZXR1cm4gJHdpbmRvdy5fO1xuICAgIH1cblxuICAgIHJldHVybiB7fTtcbiAgfV0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnYmlvZnVlbHMuY29yZS52aWFsJywgW1xuICAnYmlvZnVlbHMuY29yZS52aWFsLnNlcnZpY2UnXG5dKTtcbiIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ2Jpb2Z1ZWxzLmNvcmUudmlhbC5zZXJ2aWNlJywgW1xuICAgICdiaW9mdWVscy5jb3JlLnJlc291cmNlJ1xuICBdKVxuICAuZmFjdG9yeShcbiAgICAndmlhbFNlcnZpY2UnLFxuICAgIGZ1bmN0aW9uICgkbG9nLFxuICAgICAgICAgICAgICByZXNvdXJjZVNlcnZpY2UsXG4gICAgICAgICAgICAgICRxXG4gICAgKSB7XG4gICAgICBmdW5jdGlvbiBjcmVhdGVWaWFsICh2aWFsVHlwZSwgdmlhbHMpIHtcbiAgICAgICAgJGxvZy5kZWJ1ZygnQ3JlYXRpbmcgdmlhbHMnKTtcblxuICAgICAgICB2YXIgcGF5bG9hZCA9IHtcbiAgICAgICAgICB2aWFsX3R5cGU6IHZpYWxUeXBlLFxuICAgICAgICAgIHZpYWxzOiB2aWFsc1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiByZXNvdXJjZVNlcnZpY2UudmlhbENyZWF0ZS5zYXZlKHBheWxvYWQpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAkbG9nLmRlYnVnKGRhdGEpO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgJGxvZy5lcnJvcihlcnIpO1xuICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyLmRhdGEpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuXG4gICAgICBmdW5jdGlvbiBnZXRWaWFscyAodmlhbFR5cGUpIHtcbiAgICAgICAgJGxvZy5kZWJ1ZygnR2V0dGluZyB2aWFscycpO1xuXG4gICAgICAgIHZhciBxdWVyeSA9IHtcbiAgICAgICAgICB2aWFsX3R5cGU6IHZpYWxUeXBlXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHJlc291cmNlU2VydmljZS52aWFsTGlzdC5nZXQocXVlcnkpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAkbG9nLmRlYnVnKGRhdGEpO1xuICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgJGxvZy5lcnJvcihlcnIpO1xuICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyLmRhdGEpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY3JlYXRlVmlhbDogY3JlYXRlVmlhbCxcbiAgICAgICAgZ2V0VmlhbHM6IGdldFZpYWxzXG4gICAgICB9O1xuICAgIH1cbiAgKTtcblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnYmlvZnVlbHMuY29yZS51c2VyJywgW1xuICAnYmlvZnVlbHMuY29yZS51c2VyLnNlcnZpY2UnXG5dKTtcbiIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ2Jpb2Z1ZWxzLmNvcmUudXNlci5zZXJ2aWNlJywgW1xuICAnbmdTdG9yYWdlJyxcbiAgJ2Jpb2Z1ZWxzLmNvcmUucmVzb3VyY2UnXG5dKVxuICAuZmFjdG9yeShcbiAgICAndXNlclNlcnZpY2UnLFxuICAgIGZ1bmN0aW9uICgkbG9nLFxuICAgICAgICAgICAgICByZXNvdXJjZVNlcnZpY2UsXG4gICAgICAgICAgICAgICRsb2NhbFN0b3JhZ2UsXG4gICAgICAgICAgICAgICRxXG4gICAgKSB7XG4gICAgICBmdW5jdGlvbiBsb2dpbiAoZW1haWwsIHBhc3N3b3JkKSB7XG4gICAgICAgICRsb2cuZGVidWcoJ0xvZ2dpbmcgeW91IGluIGZyb20gdGhlIHVzZXIgc2VydmljZScpO1xuXG4gICAgICAgIHZhciBwYXlsb2FkID0ge1xuICAgICAgICAgIGVtYWlsOiBlbWFpbCxcbiAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmRcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gcmVzb3VyY2VTZXJ2aWNlLnVzZXJBdXRoLnNhdmUocGF5bG9hZCkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICRsb2cuZGVidWcoZGF0YSk7XG4gICAgICAgICAgJGxvY2FsU3RvcmFnZS51c2VyUHJvZmlsZSA9IHtcbiAgICAgICAgICAgIGlkOiBkYXRhWyd1c2VyX2lkJ10sXG4gICAgICAgICAgICBmdWxsTmFtZTogZGF0YVsnZnVsbF9uYW1lJ10sXG4gICAgICAgICAgICBlbWFpbDogZGF0YVsnZW1haWwnXSxcbiAgICAgICAgICAgIHRva2VuOiBkYXRhWyd0b2tlbiddXG4gICAgICAgICAgfTtcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICRsb2cuZXJyb3IoZXJyKTtcbiAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVyci5kYXRhKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGxvZ291dCAoKSB7XG4gICAgICAgIGRlbGV0ZSAkbG9jYWxTdG9yYWdlLnVzZXJQcm9maWxlO1xuICAgICAgfVxuXG5cbiAgICAgIGZ1bmN0aW9uIHJlZ2lzdGVyIChmdWxsTmFtZSwgZW1haWwsIHBhc3N3b3JkKSB7XG4gICAgICAgICRsb2cuZGVidWcoJ0xvZ2dpbmcgeW91IGluIGZyb20gdGhlIHVzZXIgc2VydmljZScpO1xuXG4gICAgICAgIHZhciBwYXlsb2FkID0ge1xuICAgICAgICAgIGZ1bGxfbmFtZTogZnVsbE5hbWUsXG4gICAgICAgICAgZW1haWw6IGVtYWlsLFxuICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZFxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiByZXNvdXJjZVNlcnZpY2UudXNlclJlZ2lzdGVyLnNhdmUocGF5bG9hZCkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICRsb2cuZGVidWcoZGF0YSk7XG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAkbG9nLmVycm9yKGVycik7XG4gICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIuZGF0YSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBsb2dpbjogbG9naW4sXG4gICAgICAgIGxvZ291dDogbG9nb3V0LFxuICAgICAgICByZWdpc3RlcjogcmVnaXN0ZXJcbiAgICAgIH07XG4gICAgfVxuICApO1xuXG4iLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdiaW9mdWVscy50ZW1wbGF0ZXMnLCBbXSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdiaW9mdWVscy5jb3JlLnNhbXBsZScsIFtcbiAgJ2Jpb2Z1ZWxzLmNvcmUuc2FtcGxlLnNlcnZpY2UnXG5dKTtcbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdiaW9mdWVscy50ZW1wbGF0ZXMnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jpb2Z1ZWxzLnRlbXBsYXRlcycsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnc2VjdGlvbnMvdmlhbHMvY3JlYXRlLXZpYWxzL2NyZWF0ZS12aWFscy50cGwuaHRtbCcsXG4gICAgJzxkaXYgbWVudT1cIlwiPjwvZGl2PjxkaXYgbGF5b3V0PVwicm93XCIgbGF5b3V0LWFsaWduPVwiY2VudGVyXCI+PGRpdiBmbGV4PVwiNTBcIj48bWQtY2FyZD48bWQtY2FyZC10aXRsZT48bWQtY2FyZC10aXRsZS10ZXh0PjxzcGFuIGNsYXNzPVwibWQtaGVhZGxpbmVcIj5DcmVhdGUgVmlhbDwvc3Bhbj48L21kLWNhcmQtdGl0bGUtdGV4dD48L21kLWNhcmQtdGl0bGU+PGRpdiBsYXlvdXQ9XCJjb2x1bW5cIiBuZy1jbG9hayBjbGFzcz1cIm1kLWlubGluZS1mb3JtXCI+PG1kLWNvbnRlbnQgbGF5b3V0LXBhZGRpbmc+PGRpdj48Zm9ybSBuYW1lPVwidmlhbEZvcm1cIj48ZGl2IGxheW91dC1ndC14cz1cInJvd1wiPjxtZC1pbnB1dC1jb250YWluZXI+PGxhYmVsPlZpYWwgVHlwZSo8L2xhYmVsPjxtZC1zZWxlY3QgbmctbW9kZWw9XCJjdHJsLnNlbGVjdGVkVmlhbFR5cGVcIiBuZy1kaXNhYmxlZD1cImN0cmwudmlhbHMubGVuZ3RoID4gMFwiPjxtZC1vcHRpb24gbmctcmVwZWF0PVwidmlhbFR5cGUgaW4gY3RybC52aWFsVHlwZXNcIiB2YWx1ZT1cInt7dmlhbFR5cGUuY29kZX19XCI+e3t2aWFsVHlwZS5kZXNjcmlwdGlvbn19PC9tZC1vcHRpb24+PC9tZC1zZWxlY3Q+PC9tZC1pbnB1dC1jb250YWluZXI+PC9kaXY+PGRpdiBsYXlvdXQtZ3QteHM9XCJyb3dcIj48bWQtaW5wdXQtY29udGFpbmVyIG5nLXNob3c9XCJjdHJsLnNlbGVjdGVkVmlhbFR5cGVcIj48bGFiZWw+VmlhbCBJRCo8L2xhYmVsPjxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmctbW9kZWw9XCJjdHJsLnZpYWxEYXRhLnZpYWxJZFwiPjwvbWQtaW5wdXQtY29udGFpbmVyPjxtZC1kYXRlcGlja2VyIG5nLW1vZGVsPVwiY3RybC52aWFsRGF0YS5wcmVwYXJhdGlvbkRhdGVcIiBtZC1wbGFjZWhvbGRlcj1cIkVudGVyIGRhdGUqXCIgbmctc2hvdz1cImN0cmwuc2VsZWN0ZWRWaWFsVHlwZVwiPjwvbWQtZGF0ZXBpY2tlcj48L2Rpdj48ZGl2IGxheW91dC1ndC14cz1cInJvd1wiIG5nLXNob3c9XCJjdHJsLnNlbGVjdGVkVmlhbFR5cGUgPT0gXFwnUlhOXFwnXCI+PG1kLWlucHV0LWNvbnRhaW5lcj48bGFiZWw+TWFzcyBvZiBGYXR0eSBBY2lkKjwvbGFiZWw+PGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cImN0cmwudmlhbERhdGEuZmF0dHlBY2lkbWFzc1wiPjwvbWQtaW5wdXQtY29udGFpbmVyPjxtZC1pbnB1dC1jb250YWluZXI+PGxhYmVsPkNvbmNlbnRyYXRpb24gb2YgQy0xNSBGQSBJU1REKjwvbGFiZWw+PGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cImN0cmwudmlhbERhdGEuYzE1SXN0ZGNvblwiPjwvbWQtaW5wdXQtY29udGFpbmVyPjwvZGl2PjxkaXYgbGF5b3V0LWd0LXhzPVwicm93XCIgbmctc2hvdz1cImN0cmwuc2VsZWN0ZWRWaWFsVHlwZSA9PSBcXCdHQ1xcJ1wiPjxtZC1pbnB1dC1jb250YWluZXI+PGxhYmVsPk1hc3Mgb2YgRkFNRSBJU1REKjwvbGFiZWw+PGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cImN0cmwudmlhbERhdGEuYzEzTWFzc1wiPjwvbWQtaW5wdXQtY29udGFpbmVyPjxtZC1pbnB1dC1jb250YWluZXI+PGxhYmVsPkNvbmNlbnRyYXRpb24gb2YgQy0xMyBJU1REKjwvbGFiZWw+PGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cImN0cmwudmlhbERhdGEuYzEzSXN0ZGNvblwiPjwvbWQtaW5wdXQtY29udGFpbmVyPjxtZC1pbnB1dC1jb250YWluZXI+PGxhYmVsPkNvbmNlbnRyYXRpb24gb2YgQy0xOSBJU1REKjwvbGFiZWw+PGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cImN0cmwudmlhbERhdGEuYzE5SXN0ZGNvblwiPjwvbWQtaW5wdXQtY29udGFpbmVyPjwvZGl2PjxkaXYgbGF5b3V0LWd0LXhzPVwicm93XCIgbmctc2hvdz1cImN0cmwuc2VsZWN0ZWRWaWFsVHlwZSA9PSBcXCdTUEtcXCdcIj48bWQtaW5wdXQtY29udGFpbmVyPjxsYWJlbD5NYXNzIG9mIEMtMTUgSVNURCo8L2xhYmVsPjxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmctbW9kZWw9XCJjdHJsLnZpYWxEYXRhLmMxNU1hc3NcIj48L21kLWlucHV0LWNvbnRhaW5lcj48bWQtaW5wdXQtY29udGFpbmVyPjxsYWJlbD5NYXNzIG9mIFNhbXBsZSBBZGRlZCo8L2xhYmVsPjxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmctbW9kZWw9XCJjdHJsLnZpYWxEYXRhLk1hc3M0NTBtbHNhbXBsZVwiPjwvbWQtaW5wdXQtY29udGFpbmVyPjxtZC1pbnB1dC1jb250YWluZXI+PGxhYmVsPkdDIFZpYWwgSUQqPC9sYWJlbD48aW5wdXQgdHlwZT1cIm51bWJlclwiIG5nLW1vZGVsPVwiY3RybC52aWFsRGF0YS5nY1ZpYWxJRFwiPjwvbWQtaW5wdXQtY29udGFpbmVyPjwvZGl2PjwvZm9ybT48L2Rpdj48L21kLWNvbnRlbnQ+PG1kLWNhcmQtYWN0aW9ucyBsYXlvdXQ9XCJjb2x1bW5cIiBsYXlvdXQtYWxpZ249XCJlbmQtZW5kXCI+PG1kLWJ1dHRvbiBjbGFzcz1cIm1kLXJhaXNlZCBtZC1wcmltYXJ5XCIgbmctY2xpY2s9XCJjdHJsLmFkZFRvUXVldWUoKVwiIG5nLWRpc2FibGVkPVwiY3RybC5kZXRlcm1pbmVBZGRCdXR0b25TdGF0dXMoKVwiPkFkZDwvbWQtYnV0dG9uPjwvbWQtY2FyZC1hY3Rpb25zPjwvZGl2PjwvbWQtY2FyZD48L2Rpdj48ZGl2IGZsZXg9XCIyNVwiIG5nLXNob3c9XCJjdHJsLnZpYWxzLmxlbmd0aCA+IDBcIj48bWQtY2FyZD48bWQtY2FyZC10aXRsZT48bWQtY2FyZC10aXRsZS10ZXh0PjxzcGFuIGNsYXNzPVwibWQtaGVhZGxpbmVcIj5WaWFsczwvc3Bhbj48L21kLWNhcmQtdGl0bGUtdGV4dD48L21kLWNhcmQtdGl0bGU+PGRpdiBsYXlvdXQ9XCJjb2x1bW5cIiBuZy1jbG9hayBjbGFzcz1cIm1kLWlubGluZS1mb3JtXCI+PG1kLWNvbnRlbnQgbGF5b3V0LXBhZGRpbmc+PGRpdj48bWQtbGlzdC1pdGVtIG5nLXJlcGVhdD1cInZpYWwgaW4gY3RybC52aWFscyB0cmFjayBieSAkaW5kZXhcIj48cD57eyBjdHJsLnNlbGVjdGVkVmlhbFR5cGV9fS17eyB2aWFsLnZpYWxJZH19PC9wPjxtZC1idXR0b24gY2xhc3M9XCJtZC1yYWlzZWRcIiBuZy1jbGljaz1cImN0cmwucmVtb3ZlRnJvbVF1ZXVlKHZpYWwpXCI+REVMRVRFPC9tZC1idXR0b24+PC9tZC1saXN0LWl0ZW0+PC9kaXY+PC9tZC1jb250ZW50PjxtZC1jYXJkLWFjdGlvbnMgbGF5b3V0PVwiY29sdW1uXCIgbGF5b3V0LWFsaWduPVwiY2VudGVyLWNlbnRlclwiPjxtZC1idXR0b24gY2xhc3M9XCJtZC1yYWlzZWQgbWQtcHJpbWFyeVwiIG5nLWNsaWNrPVwiY3RybC5zYXZlVmlhbHMoKVwiPlNhdmUgVmlhbHM8L21kLWJ1dHRvbj48L21kLWNhcmQtYWN0aW9ucz48L2Rpdj48L21kLWNhcmQ+PC9kaXY+PC9kaXY+Jyk7XG59XSk7XG59KSgpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnYmlvZnVlbHMuY29yZS5zYW1wbGUuc2VydmljZScsIFtcbiAgICAnYmlvZnVlbHMuY29yZS5yZXNvdXJjZSdcbiAgXSlcbiAgLmZhY3RvcnkoXG4gICAgJ3NhbXBsZVNlcnZpY2UnLFxuICAgIGZ1bmN0aW9uICgkbG9nLFxuICAgICAgICAgICAgICByZXNvdXJjZVNlcnZpY2UsXG4gICAgICAgICAgICAgICRxXG4gICAgKSB7XG4gICAgICBmdW5jdGlvbiBnZXRTYW1wbGVzICgpIHtcbiAgICAgICAgJGxvZy5kZWJ1ZygnR2V0dGluZyBjdXN0b21lcnMnKTtcblxuICAgICAgICB2YXIgcXVlcnkgPSB7fTtcblxuICAgICAgICByZXR1cm4gcmVzb3VyY2VTZXJ2aWNlLnNhbXBsZUxpc3QuZ2V0KHF1ZXJ5KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgJGxvZy5kZWJ1ZyhkYXRhKTtcbiAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICRsb2cuZXJyb3IoZXJyKTtcbiAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVyci5kYXRhKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNyZWF0ZUJhdGNoIChiYXRjaERhdGEpIHtcbiAgICAgICAgJGxvZy5kZWJ1ZygnQ3JlYXRpbmcgYmF0Y2gnKTtcbiAgICAgICAgJGxvZy5kZWJ1ZyhiYXRjaERhdGEpO1xuICAgICAgICByZXR1cm4gcmVzb3VyY2VTZXJ2aWNlLmJhdGNoQ3JlYXRlLnNhdmUoYmF0Y2hEYXRhKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgJGxvZy5kZWJ1ZyhkYXRhKTtcbiAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyLmRhdGEpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcnhuU2VsZWN0aW9uIChkYXRhQXJyYXkpIHtcbiAgICAgICAgdmFyIHBheWxvYWQgPSB7XG4gICAgICAgICAgXCJyeG5kYXRhXCI6IGRhdGFBcnJheVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiByZXNvdXJjZVNlcnZpY2UucnhuU2VsZWN0aW9uLnNhdmUocGF5bG9hZCkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICRsb2cuZGVidWcoZGF0YSk7XG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAkbG9nLmVycm9yKGVycik7XG4gICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIuZGF0YSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB0aGVybW9NaXhlciAoZGF0YUFycmF5KSB7XG4gICAgICAgIHZhciBwYXlsb2FkID0ge1xuICAgICAgICAgIFwidGhlcm1vZGF0YVwiOiBkYXRhQXJyYXlcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gcmVzb3VyY2VTZXJ2aWNlLnRoZXJtb01peGVyLnNhdmUocGF5bG9hZCkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICRsb2cuZGVidWcoZGF0YSk7XG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAkbG9nLmVycm9yKGVycik7XG4gICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIuZGF0YSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB2b3J0ZXhNaXhlciAoZGF0YUFycmF5KSB7XG4gICAgICAgIHZhciBwYXlsb2FkID0ge1xuICAgICAgICAgIFwidm9ydGV4ZGF0YVwiOiBkYXRhQXJyYXlcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gcmVzb3VyY2VTZXJ2aWNlLnZvcnRleE1peGVyLnNhdmUocGF5bG9hZCkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICRsb2cuZGVidWcoZGF0YSk7XG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAkbG9nLmVycm9yKGVycik7XG4gICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIuZGF0YSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjZW50cmlmdWdlIChkYXRhQXJyYXkpIHtcbiAgICAgICAgdmFyIHBheWxvYWQgPSB7XG4gICAgICAgICAgXCJjZW50cmlmdWdlZGF0YVwiOiBkYXRhQXJyYXlcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gcmVzb3VyY2VTZXJ2aWNlLmNlbnRyaWZ1Z2Uuc2F2ZShwYXlsb2FkKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgJGxvZy5kZWJ1ZyhkYXRhKTtcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICRsb2cuZXJyb3IoZXJyKTtcbiAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVyci5kYXRhKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGdldFNhbXBsZXM6IGdldFNhbXBsZXMsXG4gICAgICAgIGNyZWF0ZUJhdGNoOiBjcmVhdGVCYXRjaCxcbiAgICAgICAgcnhuU2VsZWN0aW9uOiByeG5TZWxlY3Rpb24sXG4gICAgICAgIHRoZXJtb01peGVyOiB0aGVybW9NaXhlcixcbiAgICAgICAgdm9ydGV4TWl4ZXI6IHZvcnRleE1peGVyLFxuICAgICAgICBjZW50cmlmdWdlOiBjZW50cmlmdWdlXG4gICAgICB9O1xuICAgIH1cbiAgKTtcblxuIiwiKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jpb2Z1ZWxzLnRlbXBsYXRlcycpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmlvZnVlbHMudGVtcGxhdGVzJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdzZWN0aW9ucy92aWFscy9lZGl0LXZpYWxzL2VkaXQtdmlhbHMudHBsLmh0bWwnLFxuICAgICc8ZGl2IG1lbnU9XCJcIj48L2Rpdj48ZGl2IGxheW91dD1cInJvd1wiIGxheW91dC1hbGlnbj1cImNlbnRlclwiPjxkaXYgZmxleD1cIjUwXCI+PG1kLWNhcmQ+PG1kLWNhcmQtdGl0bGU+PG1kLWNhcmQtdGl0bGUtdGV4dD48c3BhbiBjbGFzcz1cIm1kLWhlYWRsaW5lXCI+Q3JlYXRlIFZpYWw8L3NwYW4+PC9tZC1jYXJkLXRpdGxlLXRleHQ+PC9tZC1jYXJkLXRpdGxlPjxkaXYgbGF5b3V0PVwiY29sdW1uXCIgbmctY2xvYWsgY2xhc3M9XCJtZC1pbmxpbmUtZm9ybVwiPjxtZC1jb250ZW50IGxheW91dC1wYWRkaW5nPjxkaXY+PGZvcm0gbmFtZT1cInZpYWxGb3JtXCI+PGRpdiBsYXlvdXQtZ3QteHM9XCJyb3dcIj48bWQtaW5wdXQtY29udGFpbmVyPjxsYWJlbD5WaWFsIFR5cGUqPC9sYWJlbD48bWQtc2VsZWN0IG5nLW1vZGVsPVwiY3RybC5zZWxlY3RlZFZpYWxUeXBlXCIgbmctZGlzYWJsZWQ9XCJjdHJsLnZpYWxzLmxlbmd0aCA+IDBcIj48bWQtb3B0aW9uIG5nLXJlcGVhdD1cInZpYWxUeXBlIGluIGN0cmwudmlhbFR5cGVzXCIgdmFsdWU9XCJ7e3ZpYWxUeXBlLmNvZGV9fVwiPnt7dmlhbFR5cGUuZGVzY3JpcHRpb259fTwvbWQtb3B0aW9uPjwvbWQtc2VsZWN0PjwvbWQtaW5wdXQtY29udGFpbmVyPjwvZGl2PjxkaXYgbGF5b3V0LWd0LXhzPVwicm93XCI+PG1kLWlucHV0LWNvbnRhaW5lciBuZy1zaG93PVwiY3RybC5zZWxlY3RlZFZpYWxUeXBlXCI+PGxhYmVsPlZpYWwgSUQqPC9sYWJlbD48aW5wdXQgbmctbW9kZWw9XCJjdHJsLnZpYWxEYXRhLnZpYWxJZFwiPjwvbWQtaW5wdXQtY29udGFpbmVyPjxtZC1kYXRlcGlja2VyIG5nLW1vZGVsPVwiY3RybC52aWFsRGF0YS5wcmVwYXJhdGlvbkRhdGVcIiBtZC1wbGFjZWhvbGRlcj1cIkVudGVyIGRhdGUqXCIgbmctc2hvdz1cImN0cmwuc2VsZWN0ZWRWaWFsVHlwZVwiPjwvbWQtZGF0ZXBpY2tlcj48L2Rpdj48ZGl2IGxheW91dC1ndC14cz1cInJvd1wiIG5nLXNob3c9XCJjdHJsLnNlbGVjdGVkVmlhbFR5cGUgPT0gXFwnUlhOXFwnXCI+PG1kLWlucHV0LWNvbnRhaW5lcj48bGFiZWw+TWFzcyBvZiBGYXR0eSBBY2lkKjwvbGFiZWw+PGlucHV0IG5nLW1vZGVsPVwiY3RybC52aWFsRGF0YS5mYXR0eUFjaWRtYXNzXCI+PC9tZC1pbnB1dC1jb250YWluZXI+PG1kLWlucHV0LWNvbnRhaW5lcj48bGFiZWw+Q29uY2VudHJhdGlvbiBvZiBDLTE1IEZBIElTVEQqPC9sYWJlbD48aW5wdXQgbmctbW9kZWw9XCJjdHJsLnZpYWxEYXRhLmMxNUlzdGRjb25cIj48L21kLWlucHV0LWNvbnRhaW5lcj48L2Rpdj48ZGl2IGxheW91dC1ndC14cz1cInJvd1wiIG5nLXNob3c9XCJjdHJsLnNlbGVjdGVkVmlhbFR5cGUgPT0gXFwnR0NcXCdcIj48bWQtaW5wdXQtY29udGFpbmVyPjxsYWJlbD5NYXNzIG9mIEZBTUUgSVNURCo8L2xhYmVsPjxpbnB1dCBuZy1tb2RlbD1cImN0cmwudmlhbERhdGEuYzEzTWFzc1wiPjwvbWQtaW5wdXQtY29udGFpbmVyPjxtZC1pbnB1dC1jb250YWluZXI+PGxhYmVsPkNvbmNlbnRyYXRpb24gb2YgQy0xMyBJU1REKjwvbGFiZWw+PGlucHV0IG5nLW1vZGVsPVwiY3RybC52aWFsRGF0YS5jMTNJc3RkY29uXCI+PC9tZC1pbnB1dC1jb250YWluZXI+PG1kLWlucHV0LWNvbnRhaW5lcj48bGFiZWw+Q29uY2VudHJhdGlvbiBvZiBDLTE5IElTVEQqPC9sYWJlbD48aW5wdXQgbmctbW9kZWw9XCJjdHJsLnZpYWxEYXRhLmMxOUlzdGRjb25cIj48L21kLWlucHV0LWNvbnRhaW5lcj48L2Rpdj48ZGl2IGxheW91dC1ndC14cz1cInJvd1wiIG5nLXNob3c9XCJjdHJsLnNlbGVjdGVkVmlhbFR5cGUgPT0gXFwnU1BLXFwnXCI+PG1kLWlucHV0LWNvbnRhaW5lcj48bGFiZWw+TWFzcyBvZiBDLTE1IElTVEQqPC9sYWJlbD48aW5wdXQgbmctbW9kZWw9XCJjdHJsLnZpYWxEYXRhLmMxNU1hc3NcIj48L21kLWlucHV0LWNvbnRhaW5lcj48bWQtaW5wdXQtY29udGFpbmVyPjxsYWJlbD5NYXNzIG9mIFNhbXBsZSBBZGRlZCo8L2xhYmVsPjxpbnB1dCBuZy1tb2RlbD1cImN0cmwudmlhbERhdGEuTWFzczQ1MG1sc2FtcGxlXCI+PC9tZC1pbnB1dC1jb250YWluZXI+PG1kLWlucHV0LWNvbnRhaW5lcj48bGFiZWw+R0MgVmlhbCBJRCo8L2xhYmVsPjxpbnB1dCBuZy1tb2RlbD1cImN0cmwudmlhbERhdGEuZ2NWaWFsSURcIj48L21kLWlucHV0LWNvbnRhaW5lcj48L2Rpdj48L2Zvcm0+PC9kaXY+PC9tZC1jb250ZW50PjxtZC1jYXJkLWFjdGlvbnMgbGF5b3V0PVwiY29sdW1uXCIgbGF5b3V0LWFsaWduPVwiZW5kLWVuZFwiPjxtZC1idXR0b24gY2xhc3M9XCJtZC1yYWlzZWQgbWQtcHJpbWFyeVwiIG5nLWNsaWNrPVwiY3RybC5hZGRUb1F1ZXVlKClcIiBuZy1kaXNhYmxlZD1cImN0cmwuZGV0ZXJtaW5lQWRkQnV0dG9uU3RhdHVzKClcIj5BZGQ8L21kLWJ1dHRvbj48L21kLWNhcmQtYWN0aW9ucz48L2Rpdj48L21kLWNhcmQ+PC9kaXY+PGRpdiBmbGV4PVwiMjVcIiBuZy1zaG93PVwiY3RybC52aWFscy5sZW5ndGggPiAwXCI+PG1kLWNhcmQ+PG1kLWNhcmQtdGl0bGU+PG1kLWNhcmQtdGl0bGUtdGV4dD48c3BhbiBjbGFzcz1cIm1kLWhlYWRsaW5lXCI+VmlhbHM8L3NwYW4+PC9tZC1jYXJkLXRpdGxlLXRleHQ+PC9tZC1jYXJkLXRpdGxlPjxkaXYgbGF5b3V0PVwiY29sdW1uXCIgbmctY2xvYWsgY2xhc3M9XCJtZC1pbmxpbmUtZm9ybVwiPjxtZC1jb250ZW50IGxheW91dC1wYWRkaW5nPjxkaXY+PG1kLWxpc3QtaXRlbSBuZy1yZXBlYXQ9XCJ2aWFsIGluIGN0cmwudmlhbHMgdHJhY2sgYnkgJGluZGV4XCI+PHA+e3sgY3RybC5zZWxlY3RlZFZpYWxUeXBlfX0te3sgdmlhbC52aWFsSWR9fTwvcD48bWQtYnV0dG9uIGNsYXNzPVwibWQtcmFpc2VkXCIgbmctY2xpY2s9XCJjdHJsLnJlbW92ZUZyb21RdWV1ZSh2aWFsKVwiPkRFTEVURTwvbWQtYnV0dG9uPjwvbWQtbGlzdC1pdGVtPjwvZGl2PjwvbWQtY29udGVudD48bWQtY2FyZC1hY3Rpb25zIGxheW91dD1cImNvbHVtblwiIGxheW91dC1hbGlnbj1cImNlbnRlci1jZW50ZXJcIj48bWQtYnV0dG9uIGNsYXNzPVwibWQtcmFpc2VkIG1kLXByaW1hcnlcIiBuZy1jbGljaz1cImN0cmwuc2F2ZVZpYWxzKClcIj5TYXZlIFZpYWxzPC9tZC1idXR0b24+PC9tZC1jYXJkLWFjdGlvbnM+PC9kaXY+PC9tZC1jYXJkPjwvZGl2PjwvZGl2PicpO1xufV0pO1xufSkoKTtcbiIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ2Jpb2Z1ZWxzLmNvcmUucm91dGVyJywgW1xuICAnYmlvZnVlbHMuY29yZS5yb3V0ZXIuY29uZmlnJyxcbiAgJ2Jpb2Z1ZWxzLmNvcmUucm91dGVyLmNvbnN0YW50cydcbl0pO1xuIiwiKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jpb2Z1ZWxzLnRlbXBsYXRlcycpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmlvZnVlbHMudGVtcGxhdGVzJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdzZWN0aW9ucy9zYW1wbGVzL3ZvcnRleC92b3J0ZXgudHBsLmh0bWwnLFxuICAgICc8ZGl2IG1lbnU9XCJcIj48L2Rpdj48ZGl2IGZsZXggbGF5b3V0PVwicm93XCIgbGF5b3V0LWFsaWduPVwiY2VudGVyIHN0YXJ0XCI+PGRpdiBmbGV4PVwiNzVcIj48bWQtY2FyZD48bWQtY2FyZC1oZWFkZXI+PG1kLWNhcmQtaGVhZGVyLXRleHQ+PHNwYW4gY2xhc3M9XCJtZC10aXRsZVwiPlNhbXBsZXM8L3NwYW4+IDxzcGFuIGNsYXNzPVwibWQtc3ViaGVhZFwiPlZvcnRleCBNaXhlciBPYnNlcnZhdGlvbnM8L3NwYW4+PC9tZC1jYXJkLWhlYWRlci10ZXh0PjwvbWQtY2FyZC1oZWFkZXI+PG1kLWNhcmQtY29udGVudD48Zm9ybSBuYW1lPVwiY3RybC52b3J0ZXhGb3JtXCIgY2xhc3M9XCJtZC1pbmxpbmUtZm9ybVwiPjxkaXYgbGF5b3V0PVwicm93XCIgZmxleCBuZy1yZXBlYXQ9XCJzYW1wbGUgaW4gY3RybC5zZWxlY3RlZFNhbXBsZXNcIj48bWQtaW5wdXQtY29udGFpbmVyIGNsYXNzPVwibWQtYmxvY2tcIiBmbGV4PVwiMTBcIj48bGFiZWw+U2FtcGxlIElEKjwvbGFiZWw+PGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1pbml0PVwiY3RybC5zdWJtaXREYXRhWyRpbmRleF0uc2FtcGxlSWQgPSBzYW1wbGUuaWRcIiBuZy1tb2RlbD1cImN0cmwuc3VibWl0RGF0YVskaW5kZXhdLnNhbXBsZUlkXCIgZGlzYWJsZWQ9XCJkaXNhYmxlZFwiIHJlcXVpcmVkPjwvbWQtaW5wdXQtY29udGFpbmVyPjxtZC1pbnB1dC1jb250YWluZXIgY2xhc3M9XCJtZC1ibG9ja1wiIGZsZXg+PGxhYmVsPldhdGVyIEFkZGVkICgmbWljcm8pKjwvbGFiZWw+PGlucHV0IHR5cGU9XCJudW1iZXJcIiBzdGVwPVwiYW55XCIgbmctbW9kZWw9XCJjdHJsLnN1Ym1pdERhdGFbJGluZGV4XS53YXRlclZvbFwiIHJlcXVpcmVkPjwvbWQtaW5wdXQtY29udGFpbmVyPjxtZC1pbnB1dC1jb250YWluZXIgY2xhc3M9XCJtZC1ibG9ja1wiIGZsZXg+PGxhYmVsPlZvcnRleE1peGVySUQqPC9sYWJlbD48bWQtc2VsZWN0IG5nLW1vZGVsPVwiY3RybC5zdWJtaXREYXRhWyRpbmRleF0udm9ydGV4TXhJZFwiIHJlcXVpcmVkPjxtZC1vcHRpb24gbmctcmVwZWF0PVwidm9ydGV4TWl4ZXIgaW4gY3RybC52b3J0ZXhNaXhlcnNcIj57e3ZvcnRleE1peGVyLmlkfX08L21kLW9wdGlvbj48L21kLXNlbGVjdD48L21kLWlucHV0LWNvbnRhaW5lcj48bWQtaW5wdXQtY29udGFpbmVyIGNsYXNzPVwibWQtYmxvY2tcIiBmbGV4PjxsYWJlbD5Qb3N0IFZvcnRleCBDb2xvcio8L2xhYmVsPjxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwiY3RybC5zdWJtaXREYXRhWyRpbmRleF0ucG9zdFdhdGVyQ2xyXCIgcmVxdWlyZWQ+PC9tZC1pbnB1dC1jb250YWluZXI+PG1kLWlucHV0LWNvbnRhaW5lciBjbGFzcz1cIm1kLWJsb2NrXCIgZmxleD48bGFiZWw+SGV4YW5lIE1hc3MgQWRkZWQgKG1MKSo8L2xhYmVsPjxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmctbW9kZWw9XCJjdHJsLnN1Ym1pdERhdGFbJGluZGV4XS5oZXhNYXNzXCIgcmVxdWlyZWQ+PC9tZC1pbnB1dC1jb250YWluZXI+PG1kLXNsaWRlci1jb250YWluZXIgZmxleD1cIjI1XCI+PGxhYmVsPk1peGluZyBUaW1lIChtaW51dGVzKSo8L2xhYmVsPjxtZC1zbGlkZXIgc3RlcD1cIjAuMjVcIiBmbGV4IG1pbj1cIjBcIiBtYXg9XCIxMFwiIG5nLW1vZGVsPVwiY3RybC52b3J0ZXhNaXhlckRhdGFbJGluZGV4XS50aW1lTWl4ZWRcIiByZXF1aXJlZD48L21kLXNsaWRlcj48L21kLXNsaWRlci1jb250YWluZXI+PG1kLWlucHV0LWNvbnRhaW5lciBmbGV4PVwiNVwiPjxpbnB1dCBzdGVwPVwiMC4yNVwiIGZsZXggdHlwZT1cIm51bWJlclwiIG1pbj1cIjBcIiBtYXg9XCIxMFwiIG5nLW1vZGVsPVwiY3RybC52b3J0ZXhNaXhlckRhdGFbJGluZGV4XS50aW1lTWl4ZWRcIiByZXF1aXJlZD48L21kLWlucHV0LWNvbnRhaW5lcj48L2Rpdj48L2Zvcm0+PC9tZC1jYXJkLWNvbnRlbnQ+PG1kLWNhcmQtYWN0aW9ucyBsYXlvdXQ9XCJyb3dcIiBsYXlvdXQtYWxpZ249XCJlbmQgY2VudGVyXCI+PG1kLWJ1dHRvbiBjbGFzcz1cIm1kLXByaW1hcnlcIiBuZy1kaXNhYmxlZD1cImN0cmwudm9ydGV4Rm9ybS4kaW52YWxpZFwiIG5nLWNsaWNrPVwiY3RybC5zYXZlRGF0YSgpXCI+U2F2ZTwvbWQtYnV0dG9uPjwvbWQtY2FyZC1hY3Rpb25zPjwvbWQtY2FyZD48L2Rpdj48L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdiaW9mdWVscy5jb3JlLnJvdXRlci5jb25zdGFudHMnLCBbXSlcbiAgLmNvbnN0YW50KFxuICAnUk9VVEVTJywge1xuICAgICdDUkVBVEVfQ1VTVE9NRVInOidjcmVhdGVDdXN0b21lcicsXG4gICAgJ0NSRUFURV9WSUFMUyc6J2NyZWF0ZVZpYWxzJyxcbiAgICAnQ1VTVE9NRVJTJzonY3VzdG9tZXJzJyxcbiAgICAnQ0VOVFJJRlVHRSc6J2NlbnRyaWZ1Z2UnLFxuICAgICdIT01FJzogJ2hvbWUnLFxuICAgICdMT0dJTic6ICdsb2dpbicsXG4gICAgJ05FV19CQVRDSCc6ICduZXdCYXRjaCcsXG4gICAgJ1JYTl9TRUxFQ1RJT04nOiAncnhuU2VsZWN0aW9uJyxcbiAgICAnU0FNUExFUyc6J3NhbXBsZXMnLFxuICAgICdUSEVSTU9fTUlYRVInOid0aGVybW9NaXhlcicsXG4gICAgJ1ZJQUxTJzondmlhbHMnLFxuICAgICdWT1JURVgnOid2b3J0ZXgnXG4gIH0pXG4gIC5jb25zdGFudChcbiAgICAnQVVUSF9MRVZFTCcsIHtcbiAgICAgICdPUEVOJzonb3BlbicsXG4gICAgICAnQVVUSEVOVElDQVRFJzonYXV0aGVudGljYXRlJyxcbiAgICAgICdBRE1JTic6J2FkbWluJ1xuICAgIH0pO1xuIiwiKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jpb2Z1ZWxzLnRlbXBsYXRlcycpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmlvZnVlbHMudGVtcGxhdGVzJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdzZWN0aW9ucy9zYW1wbGVzL3RoZXJtby1taXhlci90aGVybW8tbWl4ZXIudHBsLmh0bWwnLFxuICAgICc8ZGl2IG1lbnU9XCJcIj48L2Rpdj48Zm9ybSBuYW1lPVwiY3RybC50aGVybW9Gb3JtXCIgY2xhc3M9XCJtZC1pbmxpbmUtZm9ybVwiPjxkaXYgbGF5b3V0LWd0LW1kPVwicm93XCIgbGF5b3V0LWFsaWduPVwiY2VudGVyXCI+PGRpdiBsYXlvdXQtZ3QtbWQ9XCJyb3dcIj48ZGl2IGZsZXggbGF5b3V0PVwicm93XCIgbGF5b3V0LWFsaWduPVwiY2VudGVyIHN0YXJ0XCI+PGRpdiBmbGV4LW1kPVwiOTBcIiBmbGV4LXNtPVwiOTBcIj48bWQtY2FyZD48bWQtY2FyZC1oZWFkZXI+PG1kLWNhcmQtaGVhZGVyLXRleHQ+PHNwYW4gY2xhc3M9XCJtZC10aXRsZVwiPlNhbXBsZXM8L3NwYW4+IDxzcGFuIGNsYXNzPVwibWQtc3ViaGVhZFwiPlByZSBUaGVybW8gTWl4ZXIgT2JzZXJ2YXRpb25zPC9zcGFuPjwvbWQtY2FyZC1oZWFkZXItdGV4dD48L21kLWNhcmQtaGVhZGVyPjxtZC1jYXJkLWNvbnRlbnQ+PGRpdiBsYXlvdXQ9XCJyb3dcIiBmbGV4IG5nLXJlcGVhdD1cInNhbXBsZSBpbiBjdHJsLnNlbGVjdGVkU2FtcGxlc1wiPjxtZC1pbnB1dC1jb250YWluZXIgY2xhc3M9XCJtZC1ibG9ja1wiIGZsZXg9XCIxMFwiPjxsYWJlbD5TYW1wbGUgSUQqPC9sYWJlbD48aW5wdXQgdHlwZT1cIm51bWJlclwiIG5nLWluaXQ9XCJjdHJsLnN1Ym1pdERhdGFbJGluZGV4XS5zYW1wbGVJZCA9IHNhbXBsZS5pZFwiIG5nLW1vZGVsPVwiY3RybC5zdWJtaXREYXRhWyRpbmRleF0uc2FtcGxlSWRcIiBkaXNhYmxlZD1cImRpc2FibGVkXCIgcmVxdWlyZWQ+PC9tZC1pbnB1dC1jb250YWluZXI+PG1kLWlucHV0LWNvbnRhaW5lciBjbGFzcz1cIm1kLWJsb2NrXCIgZmxleD48bGFiZWw+UmVhZ2VudCBRdWFudGl0eSo8L2xhYmVsPjxpbnB1dCB0eXBlPVwibnVtYmVyXCIgc3RlcD1cImFueVwiIG5nLW1vZGVsPVwiY3RybC5zdWJtaXREYXRhWyRpbmRleF0ucmVhZ2VudFF0eVwiIHJlcXVpcmVkPjwvbWQtaW5wdXQtY29udGFpbmVyPjxtZC1pbnB1dC1jb250YWluZXIgY2xhc3M9XCJtZC1ibG9ja1wiIGZsZXg+PGxhYmVsPkNvbG9yKjwvbGFiZWw+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJjdHJsLnN1Ym1pdERhdGFbJGluZGV4XS5wcmVTYW1wbGVDbHJcIiByZXF1aXJlZD48L21kLWlucHV0LWNvbnRhaW5lcj48bWQtaW5wdXQtY29udGFpbmVyIGNsYXNzPVwibWQtYmxvY2tcIj48bGFiZWw+VGhlcm1vIExvY2F0aW9uKjwvbGFiZWw+PG1kLXNlbGVjdCBuZy1tb2RlbD1cImN0cmwudGhteExvY3NbJGluZGV4XS50aG14TG9jXCI+PG1kLW9wdGlvbiBuZy1yZXBlYXQ9XCJsb2NhdGlvbiBpbiBjdHJsLnRoZXJtb01peGVyRGF0YS5sb2NhdGlvbnNcIiByZXF1aXJlZD57e2xvY2F0aW9ufX08L21kLW9wdGlvbj48L21kLXNlbGVjdD48L21kLWlucHV0LWNvbnRhaW5lcj48L2Rpdj48L21kLWNhcmQtY29udGVudD48L21kLWNhcmQ+PC9kaXY+PC9kaXY+PC9kaXY+PGRpdiBsYXlvdXQ9XCJyb3dcIj48ZGl2IGZsZXggbGF5b3V0PVwicm93XCIgbGF5b3V0LWFsaWduPVwiY2VudGVyIHN0YXJ0XCI+PGRpdiBmbGV4LW1kPVwiOTBcIiBmbGV4LXNtPVwiOTBcIj48bWQtY2FyZD48bWQtY2FyZC1oZWFkZXI+PG1kLWNhcmQtaGVhZGVyLXRleHQ+PHNwYW4gY2xhc3M9XCJtZC10aXRsZVwiPlRoZXJtbyBNaXhlcjwvc3Bhbj48L21kLWNhcmQtaGVhZGVyLXRleHQ+PC9tZC1jYXJkLWhlYWRlcj48bWQtY2FyZC1jb250ZW50Pjxmb3JtIG5hbWU9XCJjdHJsLnRoZXJtb0Zvcm1cIiBjbGFzcz1cIm1kLWlubGluZS1mb3JtXCI+PGRpdiBsYXlvdXQ9XCJyb3dcIiBmbGV4PjxtZC1pbnB1dC1jb250YWluZXIgY2xhc3M9XCJtZC1ibG9ja1wiPjxsYWJlbD5UaGVybW9NaXhlcklEKjwvbGFiZWw+PG1kLXNlbGVjdCBuZy1tb2RlbD1cImN0cmwudGhlcm1vTWl4ZXJEYXRhLnRoZXJtb01peGVySURcIiByZXF1aXJlZD48bWQtb3B0aW9uIG5nLXJlcGVhdD1cInRoZXJtb01peGVyIGluIGN0cmwudGhlcm1vTWl4ZXJzXCI+e3t0aGVybW9NaXhlci5pZH19PC9tZC1vcHRpb24+PC9tZC1zZWxlY3Q+PC9tZC1pbnB1dC1jb250YWluZXI+PG1kLWRhdGVwaWNrZXIgbmctbW9kZWw9XCJjdHJsLnRoZXJtb01peGVyRGF0YS5ydW5EYXRlXCIgbWQtcGxhY2Vob2xkZXI9XCJSdW4gZGF0ZSpcIiBmbGV4PVwiNTBcIiByZXF1aXJlZD48L21kLWRhdGVwaWNrZXI+PC9kaXY+PGRpdiBsYXlvdXQ9XCJyb3dcIiBmbGV4PjxtZC1pbnB1dC1jb250YWluZXIgY2xhc3M9XCJtZC1ibG9ja1wiIGZsZXg+PGxhYmVsPlN0YXJ0IFRpbWUqPC9sYWJlbD48aW5wdXQgdHlwZT1cInRpbWVcIiBuZy1tb2RlbD1cImN0cmwudGhlcm1vTWl4ZXJEYXRhLnN0YXJ0VGltZVwiIHJlcXVpcmVkPjwvbWQtaW5wdXQtY29udGFpbmVyPjxtZC1pbnB1dC1jb250YWluZXIgY2xhc3M9XCJtZC1ibG9ja1wiIGZsZXg+PGxhYmVsPkVuZCBUaW1lKjwvbGFiZWw+PGlucHV0IHR5cGU9XCJ0aW1lXCIgbmctbW9kZWw9XCJjdHJsLnRoZXJtb01peGVyRGF0YS5lbmRUaW1lXCIgcmVxdWlyZWQ+PC9tZC1pbnB1dC1jb250YWluZXI+PC9kaXY+PGRpdiBsYXlvdXQ9XCJyb3dcIiBmbGV4PjxtZC1pbnB1dC1jb250YWluZXIgY2xhc3M9XCJtZC1ibG9ja1wiIGZsZXg+PGxhYmVsPlN0YXJ0IFRlbXBlcmF0dXJlIMKwQyo8L2xhYmVsPjxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmctbW9kZWw9XCJjdHJsLnRoZXJtb01peGVyRGF0YS5zdGFydFRlbXBcIiByZXF1aXJlZD48L21kLWlucHV0LWNvbnRhaW5lcj48bWQtaW5wdXQtY29udGFpbmVyIGNsYXNzPVwibWQtYmxvY2tcIiBmbGV4PjxsYWJlbD5FbmQgVGVtcGVyYXR1cmUgwrBDKjwvbGFiZWw+PGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cImN0cmwudGhlcm1vTWl4ZXJEYXRhLmVuZFRlbXBcIiByZXF1aXJlZD48L21kLWlucHV0LWNvbnRhaW5lcj48bWQtaW5wdXQtY29udGFpbmVyIGNsYXNzPVwibWQtYmxvY2tcIiBmbGV4PVwiMjVcIj48bGFiZWw+UlBNKjwvbGFiZWw+PGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cImN0cmwudGhlcm1vTWl4ZXJEYXRhLnJwbVwiIHJlcXVpcmVkPjwvbWQtaW5wdXQtY29udGFpbmVyPjwvZGl2PjxkaXYgbGF5b3V0PVwicm93XCIgZmxleD48bWQtc2xpZGVyLWNvbnRhaW5lciBmbGV4PjxsYWJlbD5Db29sIFRpbWUgKG1pbnMpKjwvbGFiZWw+PG1kLXNsaWRlciBzdGVwPVwiMC4yNVwiIGZsZXggbWluPVwiMFwiIG1heD1cIjEwXCIgbmctbW9kZWw9XCJjdHJsLnRoZXJtb01peGVyRGF0YS5jb29sVGltZVwiIHJlcXVpcmVkPjwvbWQtc2xpZGVyPjwvbWQtc2xpZGVyLWNvbnRhaW5lcj48bWQtaW5wdXQtY29udGFpbmVyIGZsZXg9XCIxNVwiPjxpbnB1dCBzdGVwPVwiMC4yNVwiIGZsZXggdHlwZT1cIm51bWJlclwiIG1pbj1cIjBcIiBtYXg9XCIxMFwiIG5nLW1vZGVsPVwiY3RybC50aGVybW9NaXhlckRhdGEuY29vbFRpbWVcIiByZXF1aXJlZD48L21kLWlucHV0LWNvbnRhaW5lcj48L2Rpdj48L2Zvcm0+PC9tZC1jYXJkLWNvbnRlbnQ+PC9tZC1jYXJkPjwvZGl2PjwvZGl2PjwvZGl2PjxkaXYgbGF5b3V0PVwicm93XCI+PGRpdiBmbGV4IGxheW91dD1cInJvd1wiIGxheW91dC1hbGlnbj1cImNlbnRlciBzdGFydFwiPjxkaXYgZmxleC1tZD1cIjkwXCIgZmxleC1zbT1cIjkwXCI+PG1kLWNhcmQ+PG1kLWNhcmQtaGVhZGVyPjxtZC1jYXJkLWhlYWRlci10ZXh0PjxzcGFuIGNsYXNzPVwibWQtdGl0bGVcIj5TYW1wbGVzPC9zcGFuPiA8c3BhbiBjbGFzcz1cIm1kLXN1YmhlYWRcIj5Qb3N0IFRoZXJtbyBNaXhlciBPYnNlcnZhdGlvbnM8L3NwYW4+PC9tZC1jYXJkLWhlYWRlci10ZXh0PjwvbWQtY2FyZC1oZWFkZXI+PG1kLWNhcmQtY29udGVudD48ZGl2IGxheW91dD1cInJvd1wiIGZsZXggbmctcmVwZWF0PVwic2FtcGxlIGluIGN0cmwuc2VsZWN0ZWRTYW1wbGVzXCI+PG1kLWlucHV0LWNvbnRhaW5lciBjbGFzcz1cIm1kLWJsb2NrXCIgZmxleD1cIjEwXCI+PGxhYmVsPlNhbXBsZSBJRCo8L2xhYmVsPjxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLWluaXQ9XCJjdHJsLnN1Ym1pdERhdGFbJGluZGV4XS5zYW1wbGVJZCA9IHNhbXBsZS5pZFwiIG5nLW1vZGVsPVwiY3RybC5zdWJtaXREYXRhWyRpbmRleF0uc2FtcGxlSWRcIiBkaXNhYmxlZD1cImRpc2FibGVkXCIgcmVxdWlyZWQ+PC9tZC1pbnB1dC1jb250YWluZXI+PG1kLWlucHV0LWNvbnRhaW5lciBjbGFzcz1cIm1kLWJsb2NrXCIgZmxleD48bGFiZWw+Q29sb3IqPC9sYWJlbD48aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cImN0cmwuc3VibWl0RGF0YVskaW5kZXhdLnBvc3RTYW1wbGVDbHJcIiByZXF1aXJlZD48L21kLWlucHV0LWNvbnRhaW5lcj48bWQtaW5wdXQtY29udGFpbmVyIGNsYXNzPVwibWQtYmxvY2tcIiBmbGV4PjxsYWJlbD5QcmVjaXBpdGF0ZSo8L2xhYmVsPjxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwiY3RybC5zdWJtaXREYXRhWyRpbmRleF0ucHJlY2lwaXRhdGVcIiByZXF1aXJlZD48L21kLWlucHV0LWNvbnRhaW5lcj48bWQtaW5wdXQtY29udGFpbmVyIGNsYXNzPVwibWQtYmxvY2tcIiBmbGV4PjxsYWJlbD5NZXRoYW5vbCBMb3NzKjwvbGFiZWw+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJjdHJsLnN1Ym1pdERhdGFbJGluZGV4XS5tZXRoTG9zc1wiIHJlcXVpcmVkPjwvbWQtaW5wdXQtY29udGFpbmVyPjwvZGl2PjwvbWQtY2FyZC1jb250ZW50PjxtZC1jYXJkLWFjdGlvbnMgbGF5b3V0PVwicm93XCIgbGF5b3V0LWFsaWduPVwiZW5kIGNlbnRlclwiPjxtZC1idXR0b24gY2xhc3M9XCJtZC1wcmltYXJ5XCIgbmctZGlzYWJsZWQ9XCJjdHJsLnRoZXJtb0Zvcm0uJGludmFsaWRcIiBuZy1jbGljaz1cImN0cmwuc2F2ZURhdGEoKVwiPlNhdmU8L21kLWJ1dHRvbj48L21kLWNhcmQtYWN0aW9ucz48L21kLWNhcmQ+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PC9mb3JtPicpO1xufV0pO1xufSkoKTtcbiIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ2Jpb2Z1ZWxzLmNvcmUucm91dGVyLmNvbmZpZycsIFtcbiAgJ2Jpb2Z1ZWxzLmNvcmUucm91dGVyLmNvbnN0YW50cycsXG4gICd1aS5yb3V0ZXInLFxuICAnYmlvZnVlbHMudGVtcGxhdGVzJ1xuXSlcbiAgLmNvbmZpZyhcbiAgZnVuY3Rpb24gcm91dGVyQ29uZmlnKFJPVVRFUywgQVVUSF9MRVZFTCwgJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcikge1xuICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKHtcbiAgICAgIG5hbWU6IFJPVVRFUy5DUkVBVEVfQ1VTVE9NRVIsXG4gICAgICB1cmw6ICcvY3JlYXRlLWN1c3RvbWVyJyxcbiAgICAgIHRlbXBsYXRlVXJsOiAnc2VjdGlvbnMvY3VzdG9tZXJzL2NyZWF0ZS1jdXN0b21lci9jcmVhdGUtY3VzdG9tZXIudHBsLmh0bWwnLFxuICAgICAgY29udHJvbGxlcjogJ2NyZWF0ZUN1c3RvbWVyQ3RybCBhcyBjdHJsJyxcbiAgICAgIGF1dGg6IEFVVEhfTEVWRUwuQVVUSEVOVElDQVRFXG4gICAgfSk7XG5cbiAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSh7XG4gICAgICBuYW1lOiBST1VURVMuQ1VTVE9NRVJTLFxuICAgICAgdXJsOiAnL2N1c3RvbWVycycsXG4gICAgICB0ZW1wbGF0ZVVybDogJ3NlY3Rpb25zL2N1c3RvbWVycy9jdXN0b21lcnMudHBsLmh0bWwnLFxuICAgICAgY29udHJvbGxlcjogJ2N1c3RvbWVyc0N0cmwgYXMgY3RybCcsXG4gICAgICBhdXRoOiBBVVRIX0xFVkVMLkFVVEhFTlRJQ0FURVxuICAgIH0pO1xuXG4gICAgLyogSG9tZSBzY3JlZW4gKi9cbiAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSh7XG4gICAgICBuYW1lOiBST1VURVMuSE9NRSxcbiAgICAgIHVybDogJy9ob21lJyxcbiAgICAgIHRlbXBsYXRlVXJsOiAnc2VjdGlvbnMvaG9tZS9ob21lLnRwbC5odG1sJyxcbiAgICAgIGNvbnRyb2xsZXI6ICdob21lQ3RybCBhcyBjdHJsJyxcbiAgICAgIGF1dGg6IEFVVEhfTEVWRUwuQVVUSEVOVElDQVRFXG4gICAgfSk7XG5cbiAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSh7XG4gICAgICBuYW1lOiBST1VURVMuTE9HSU4sXG4gICAgICB1cmw6ICcvbG9naW4nLFxuICAgICAgdGVtcGxhdGVVcmw6ICdzZWN0aW9ucy9sb2dpbi9sb2dpbi50cGwuaHRtbCcsXG4gICAgICBjb250cm9sbGVyOiAnbG9naW5DdHJsIGFzIGN0cmwnLFxuICAgICAgYXV0aDogQVVUSF9MRVZFTC5PUEVOXG4gICAgfSk7XG5cbiAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSh7XG4gICAgICBuYW1lOiBST1VURVMuTkVXX0JBVENILFxuICAgICAgdXJsOiAnL25ldy1iYXRjaCcsXG4gICAgICB0ZW1wbGF0ZVVybDogJ3NlY3Rpb25zL3NhbXBsZXMvbmV3LWJhdGNoL25ldy1iYXRjaC50cGwuaHRtbCcsXG4gICAgICBjb250cm9sbGVyOiAnbmV3QmF0Y2hDdHJsIGFzIGN0cmwnLFxuICAgICAgYXV0aDogQVVUSF9MRVZFTC5BVVRIRU5USUNBVEVcbiAgICB9KTtcblxuICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKHtcbiAgICAgIG5hbWU6IFJPVVRFUy5TQU1QTEVTLFxuICAgICAgdXJsOiAnL3NhbXBsZXMnLFxuICAgICAgdGVtcGxhdGVVcmw6ICdzZWN0aW9ucy9zYW1wbGVzL3NhbXBsZXMudHBsLmh0bWwnLFxuICAgICAgY29udHJvbGxlcjogJ3NhbXBsZXNDdHJsIGFzIGN0cmwnLFxuICAgICAgYXV0aDogQVVUSF9MRVZFTC5BVVRIRU5USUNBVEVcbiAgICB9KTtcblxuICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKHtcbiAgICAgIG5hbWU6IFJPVVRFUy5USEVSTU9fTUlYRVIsXG4gICAgICB1cmw6ICcvdGhlcm1vLW1peGVyJyxcbiAgICAgIHRlbXBsYXRlVXJsOiAnc2VjdGlvbnMvc2FtcGxlcy90aGVybW8tbWl4ZXIvdGhlcm1vLW1peGVyLnRwbC5odG1sJyxcbiAgICAgIGNvbnRyb2xsZXI6ICd0aGVybW9NaXhlckN0cmwgYXMgY3RybCcsXG4gICAgICBhdXRoOiBBVVRIX0xFVkVMLkFVVEhFTlRJQ0FURSxcbiAgICAgIHBhcmFtczoge1xuICAgICAgICBzYW1wbGVzOiB7IGFycmF5OiB0cnVlIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKHtcbiAgICAgIG5hbWU6IFJPVVRFUy5DUkVBVEVfVklBTFMsXG4gICAgICB1cmw6ICcvY3JlYXRlLXZpYWxzJyxcbiAgICAgIHRlbXBsYXRlVXJsOiAnc2VjdGlvbnMvdmlhbHMvY3JlYXRlLXZpYWxzL2NyZWF0ZS12aWFscy50cGwuaHRtbCcsXG4gICAgICBjb250cm9sbGVyOiAnY3JlYXRlVmlhbHNDdHJsIGFzIGN0cmwnLFxuICAgICAgYXV0aDogQVVUSF9MRVZFTC5BVVRIRU5USUNBVEVcbiAgICB9KTtcblxuICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKHtcbiAgICAgIG5hbWU6IFJPVVRFUy5WSUFMUyxcbiAgICAgIHVybDogJy92aWFscycsXG4gICAgICB0ZW1wbGF0ZVVybDogJ3NlY3Rpb25zL3ZpYWxzL3ZpYWxzLnRwbC5odG1sJyxcbiAgICAgIGNvbnRyb2xsZXI6ICd2aWFsc0N0cmwgYXMgY3RybCcsXG4gICAgICBhdXRoOiBBVVRIX0xFVkVMLkFVVEhFTlRJQ0FURVxuICAgIH0pO1xuXG4gICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoe1xuICAgICAgbmFtZTogUk9VVEVTLlJYTl9TRUxFQ1RJT04sXG4gICAgICB1cmw6ICcvcnhuLXNlbGVjdGlvbicsXG4gICAgICB0ZW1wbGF0ZVVybDogJ3NlY3Rpb25zL3NhbXBsZXMvcnhuLXNlbGVjdGlvbi9yeG4tc2VsZWN0aW9uLnRwbC5odG1sJyxcbiAgICAgIGNvbnRyb2xsZXI6ICdyeG5TZWxlY3Rpb25DdHJsIGFzIGN0cmwnLFxuICAgICAgYXV0aDogQVVUSF9MRVZFTC5BVVRIRU5USUNBVEUsXG4gICAgICBwYXJhbXM6IHtcbiAgICAgICAgc2FtcGxlczogeyBhcnJheTogdHJ1ZSB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSh7XG4gICAgICBuYW1lOiBST1VURVMuVk9SVEVYLFxuICAgICAgdXJsOiAnL3ZvcnRleCcsXG4gICAgICB0ZW1wbGF0ZVVybDogJ3NlY3Rpb25zL3NhbXBsZXMvdm9ydGV4L3ZvcnRleC50cGwuaHRtbCcsXG4gICAgICBjb250cm9sbGVyOiAndm9ydGV4Q3RybCBhcyBjdHJsJyxcbiAgICAgIGF1dGg6IEFVVEhfTEVWRUwuQVVUSEVOVElDQVRFLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIHNhbXBsZXM6IHsgYXJyYXk6IHRydWUgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoe1xuICAgICAgbmFtZTogUk9VVEVTLkNFTlRSSUZVR0UsXG4gICAgICB1cmw6ICcvY2VudHJpZnVnZScsXG4gICAgICB0ZW1wbGF0ZVVybDogJ3NlY3Rpb25zL3NhbXBsZXMvY2VudHJpZnVnZS9jZW50cmlmdWdlLnRwbC5odG1sJyxcbiAgICAgIGNvbnRyb2xsZXI6ICdjZW50cmlmdWdlQ3RybCBhcyBjdHJsJyxcbiAgICAgIGF1dGg6IEFVVEhfTEVWRUwuQVVUSEVOVElDQVRFLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIHNhbXBsZXM6IHsgYXJyYXk6IHRydWUgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnL2xvZ2luJyk7XG5cbiAgfVxuKTtcbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdiaW9mdWVscy50ZW1wbGF0ZXMnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jpb2Z1ZWxzLnRlbXBsYXRlcycsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnc2VjdGlvbnMvc2FtcGxlcy9yeG4tc2VsZWN0aW9uL3J4bi1zZWxlY3Rpb24udHBsLmh0bWwnLFxuICAgICc8ZGl2IG1lbnU+PC9kaXY+PGRpdiBmbGV4IGxheW91dD1cInJvd1wiIGxheW91dC1hbGlnbj1cImNlbnRlciBzdGFydFwiPjxkaXYgZmxleD1cIjkwXCI+PG1kLWNhcmQ+PG1kLWNhcmQtaGVhZGVyPjxtZC1jYXJkLWhlYWRlci10ZXh0PjxzcGFuIGNsYXNzPVwibWQtdGl0bGVcIj5CYXRjaDwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJtZC1zdWJoZWFkXCI+SGVhZGVyPC9zcGFuPjwvbWQtY2FyZC1oZWFkZXItdGV4dD48L21kLWNhcmQtaGVhZGVyPjxtZC1jYXJkLWNvbnRlbnQ+PGZvcm0gbmFtZT1cImN0cmwuYmF0Y2hGb3JtXCIgY2xhc3M9XCJtZC1pbmxpbmUtZm9ybVwiPjxkaXYgbGF5b3V0PVwicm93XCIgZmxleCBuZy1yZXBlYXQ9XCJzYW1wbGUgaW4gY3RybC5zZWxlY3RlZFNhbXBsZXNcIj48bWQtaW5wdXQtY29udGFpbmVyIGNsYXNzPVwibWQtYmxvY2tcIiBmbGV4PVwiMTBcIj48bGFiZWw+U2FtcGxlIElEPC9sYWJlbD48aW5wdXQgdHlwZT1cInRleHRcIiBuZy1pbml0PVwiY3RybC5zdWJtaXREYXRhWyRpbmRleF0uc2FtcGxlSWQgPSBzYW1wbGUuaWRcIiBuZy1tb2RlbD1cImN0cmwuc3VibWl0RGF0YVskaW5kZXhdLnNhbXBsZUlkXCIgZGlzYWJsZWQ9XCJkaXNhYmxlZFwiPjwvbWQtaW5wdXQtY29udGFpbmVyPjxtZC1pbnB1dC1jb250YWluZXIgY2xhc3M9XCJtZC1ibG9ja1wiIGZsZXg+PGxhYmVsPlJYTiBWSUFMPC9sYWJlbD48bWQtc2VsZWN0IG5nLW1vZGVsPVwiY3RybC5zdWJtaXREYXRhWyRpbmRleF0ucnhuVmlhbElkXCIgbmctbW9kZWwtb3B0aW9ucz1cInsgZGVib3VuY2U6IDUwMCB9XCIgbmctY2hhbmdlPVwiY3RybC5zZWxlY3RlZFZpYWwoJGluZGV4KVwiIHJlcXVpcmVkPjxtZC1vcHRpb24gbmctcmVwZWF0PVwidmlhbCBpbiBjdHJsLnJ4blZpYWxzXCIgbmctdmFsdWU9XCJ2aWFsLmlkXCIgbmctZGlzYWJsZWQ9XCJjdHJsLnNlbGVjdGVkVmlhbHMuaW5kZXhPZih2aWFsLmlkKSA+PSAwXCI+e3t2aWFsLnZpYWxfaWR9fTwvbWQtb3B0aW9uPjwvbWQtc2VsZWN0PjwvbWQtaW5wdXQtY29udGFpbmVyPjxtZC1pbnB1dC1jb250YWluZXIgY2xhc3M9XCJtZC1ibG9ja1wiIGZsZXggbmctaWY9XCJzYW1wbGUudHlwZSA9PT0gXFwnUG93ZGVyXFwnXCI+PGxhYmVsPk1hc3MgQWRkZWQ8L2xhYmVsPjxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmctbW9kZWw9XCJjdHJsLnN1Ym1pdERhdGFbJGluZGV4XS5tYXNzQWRkVmlhbFwiIHJlcXVpcmVkPjwvbWQtaW5wdXQtY29udGFpbmVyPjwvZGl2PjwvZm9ybT48L21kLWNhcmQtY29udGVudD48bWQtY2FyZC1hY3Rpb25zIGxheW91dD1cInJvd1wiIGxheW91dC1hbGlnbj1cImVuZCBjZW50ZXJcIj48bWQtYnV0dG9uIGNsYXNzPVwibWQtcHJpbWFyeVwiIG5nLWRpc2FibGVkPVwiY3RybC5iYXRjaEZvcm0uJGludmFsaWRcIiBuZy1jbGljaz1cImN0cmwuc2F2ZVJ4blNlbGVjdGlvbigpXCI+U2F2ZTwvbWQtYnV0dG9uPjxtZC1idXR0b24gY2xhc3M9XCJtZC1wcmltYXJ5XCIgbmctZGlzYWJsZWQ9XCJjdHJsLmJhdGNoRm9ybS4kaW52YWxpZFwiIG5nLWNsaWNrPVwiY3RybC5nb1RvVGhlcm1vKClcIj5OZXh0ICZndDs8L21kLWJ1dHRvbj48L21kLWNhcmQtYWN0aW9ucz48L21kLWNhcmQ+PC9kaXY+PC9kaXY+Jyk7XG59XSk7XG59KSgpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnYmlvZnVlbHMuY29yZS5yZXNvdXJjZScsIFtcbiAgJ2Jpb2Z1ZWxzLmNvcmUucmVzb3VyY2Uuc2VydmljZSdcbl0pO1xuIiwiKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jpb2Z1ZWxzLnRlbXBsYXRlcycpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmlvZnVlbHMudGVtcGxhdGVzJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdzZWN0aW9ucy9zYW1wbGVzL25ldy1iYXRjaC9uZXctYmF0Y2gudHBsLmh0bWwnLFxuICAgICc8ZGl2IG1lbnU9XCJcIj48L2Rpdj48ZGl2IGZsZXggbGF5b3V0PVwicm93XCIgbGF5b3V0LWFsaWduPVwiY2VudGVyIHN0YXJ0XCI+PGRpdiBmbGV4PVwiMzBcIj48bWQtY2FyZD48bWQtY2FyZC1oZWFkZXI+PG1kLWNhcmQtaGVhZGVyLXRleHQ+PHNwYW4gY2xhc3M9XCJtZC10aXRsZVwiPkJhdGNoPC9zcGFuPiA8c3BhbiBjbGFzcz1cIm1kLXN1YmhlYWRcIj5IZWFkZXI8L3NwYW4+PC9tZC1jYXJkLWhlYWRlci10ZXh0PjwvbWQtY2FyZC1oZWFkZXI+PG1kLWNhcmQtY29udGVudD48Zm9ybSBuYW1lPVwiY3RybC5iYXRjaEZvcm1cIiBjbGFzcz1cIm1kLWlubGluZS1mb3JtXCI+PGRpdiBsYXlvdXQ9XCJyb3dcIiBmbGV4PjxtZC1pbnB1dC1jb250YWluZXIgY2xhc3M9XCJtZC1ibG9ja1wiIGZsZXg+PGxhYmVsPkN1c3RvbWVyKjwvbGFiZWw+PG1kLXNlbGVjdCBuZy1tb2RlbD1cImN0cmwuYmF0Y2hEYXRhLmN1c3RvbWVySWRcIiByZXF1aXJlZD48bWQtb3B0aW9uIG5nLXJlcGVhdD1cImN1c3RvbWVyIGluIGN0cmwuY3VzdG9tZXJzXCIgbmctdmFsdWU9XCJjdXN0b21lci5pZFwiPnt7Y3VzdG9tZXIuY3VzdG9tZXJfY29kZX19PC9tZC1vcHRpb24+PC9tZC1zZWxlY3Q+PC9tZC1pbnB1dC1jb250YWluZXI+PG1kLWRhdGVwaWNrZXIgY2xhc3M9XCJkYXRlLXBpY2tlclwiIG5nLW1vZGVsPVwiY3RybC5iYXRjaERhdGEuc2hpcHBlZERhdGVcIiBtZC1wbGFjZWhvbGRlcj1cIlNoaXBwZWQgRGF0ZSpcIiByZXF1aXJlZD48L21kLWRhdGVwaWNrZXI+PC9kaXY+PGRpdiBsYXlvdXQ9XCJyb3dcIiBmbGV4PjxtZC1pbnB1dC1jb250YWluZXIgY2xhc3M9XCJtZC1ibG9ja1wiIGZsZXg+PGxhYmVsPlNhbXBsZSBQdXJwb3NlKjwvbGFiZWw+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJjdHJsLmJhdGNoRGF0YS5wdXJwb3NlXCIgcmVxdWlyZWQ+PC9tZC1pbnB1dC1jb250YWluZXI+PG1kLWRhdGVwaWNrZXIgY2xhc3M9XCJkYXRlLXBpY2tlclwiIG5nLW1vZGVsPVwiY3RybC5iYXRjaERhdGEucmVjZWl2ZWREYXRlXCIgbWQtcGxhY2Vob2xkZXI9XCJSZWNlaXZlZCBEYXRlKlwiIHJlcXVpcmVkPjwvbWQtZGF0ZXBpY2tlcj48L2Rpdj48ZGl2IGxheW91dD1cInJvd1wiIGZsZXg+PG1kLWlucHV0LWNvbnRhaW5lciBjbGFzcz1cIm1kLWJsb2NrXCIgZmxleD48bGFiZWw+U3RvcmFnZSBMb2NhdGlvbio8L2xhYmVsPjxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwiY3RybC5iYXRjaERhdGEuc3RvcmFnZUxvY2F0aW9uXCIgcmVxdWlyZWQ+PC9tZC1pbnB1dC1jb250YWluZXI+PC9kaXY+PC9mb3JtPjwvbWQtY2FyZC1jb250ZW50PjwvbWQtY2FyZD48L2Rpdj48ZGl2IGZsZXg9XCI0MFwiPjxtZC1jYXJkPjxtZC1jYXJkLWhlYWRlcj48bWQtY2FyZC1oZWFkZXItdGV4dD48c3BhbiBjbGFzcz1cIm1kLXRpdGxlXCI+U2FtcGxlPC9zcGFuPiA8c3BhbiBjbGFzcz1cIm1kLXN1YmhlYWRcIj5OdW1iZXIgMTwvc3Bhbj48L21kLWNhcmQtaGVhZGVyLXRleHQ+PC9tZC1jYXJkLWhlYWRlcj48bWQtY2FyZC1jb250ZW50Pjxmb3JtIG5hbWU9XCJjdHJsLnNhbXBsZUZvcm1cIiBjbGFzcz1cIm1kLWlubGluZS1mb3JtXCI+PGRpdiBsYXlvdXQ9XCJyb3dcIiBmbGV4PjxtZC1pbnB1dC1jb250YWluZXIgY2xhc3M9XCJtZC1ibG9ja1wiIGZsZXg+PGxhYmVsPlR5cGUqPC9sYWJlbD48bWQtc2VsZWN0IG5nLW1vZGVsPVwiY3RybC53b3JraW5nU2FtcGxlLnR5cGVcIiByZXF1aXJlZD48bWQtb3B0aW9uPlBvd2RlcjwvbWQtb3B0aW9uPjxtZC1vcHRpb24+RmlsdGVyPC9tZC1vcHRpb24+PG1kLW9wdGlvbj5PdGhlcjwvbWQtb3B0aW9uPjwvbWQtc2VsZWN0PjwvbWQtaW5wdXQtY29udGFpbmVyPjxtZC1pbnB1dC1jb250YWluZXIgY2xhc3M9XCJtZC1ibG9ja1wiIGZsZXg+PGxhYmVsPk5hbWUqPC9sYWJlbD48aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cImN0cmwud29ya2luZ1NhbXBsZS5uYW1lXCIgbWQtYXV0b2ZvY3VzIHJlcXVpcmVkPjwvbWQtaW5wdXQtY29udGFpbmVyPjwvZGl2PjxkaXYgbGF5b3V0PVwicm93XCIgZmxleD48bWQtaW5wdXQtY29udGFpbmVyIGNsYXNzPVwibWQtYmxvY2tcIiBmbGV4PjxsYWJlbD5TcGVjaWVzIElEPC9sYWJlbD48aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cImN0cmwud29ya2luZ1NhbXBsZS5zcGVjaWVzSWRcIj48L21kLWlucHV0LWNvbnRhaW5lcj48bWQtZGF0ZXBpY2tlciBjbGFzcz1cImRhdGUtcGlja2VyXCIgbmctbW9kZWw9XCJjdHJsLndvcmtpbmdTYW1wbGUuY29sbGVjdGlvbkRhdGVcIiBsYXlvdXQtYWxpZ249XCJlbmQgZW5kXCIgbWQtcGxhY2Vob2xkZXI9XCJDb2xsZWN0aW9uIERhdGVcIj48L21kLWRhdGVwaWNrZXI+PC9kaXY+PGRpdiBsYXlvdXQ9XCJyb3dcIiBmbGV4PjxtZC1pbnB1dC1jb250YWluZXIgY2xhc3M9XCJtZC1ibG9ja1wiIGZsZXg+PGxhYmVsPkNvbnRhaW5lciBUeXBlKjwvbGFiZWw+PG1kLXNlbGVjdCBuZy1tb2RlbD1cImN0cmwud29ya2luZ1NhbXBsZS5jb250YWluZXJUeXBlXCIgcmVxdWlyZWQ+PG1kLW9wdGlvbj5HbGFzczwvbWQtb3B0aW9uPjxtZC1vcHRpb24+RmFsY29uIFR1YmU8L21kLW9wdGlvbj48bWQtb3B0aW9uIHZhbHVlPVwib3RoZXJcIj5PdGhlcjwvbWQtb3B0aW9uPjwvbWQtc2VsZWN0PjwvbWQtaW5wdXQtY29udGFpbmVyPjxtZC1pbnB1dC1jb250YWluZXIgY2xhc3M9XCJtZC1ibG9ja1wiIGZsZXggbmctaWY9XCJjdHJsLndvcmtpbmdTYW1wbGUuY29udGFpbmVyVHlwZSA9PT0gXFwnb3RoZXJcXCdcIj48bGFiZWw+Q29udGFpbmVyIFR5cGUqPC9sYWJlbD48aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cImN0cmwud29ya2luZ1NhbXBsZS5lbnRlcmVkQ29udGFpbmVyXCIgcmVxdWlyZWQ+PC9tZC1pbnB1dC1jb250YWluZXI+PG1kLWlucHV0LWNvbnRhaW5lciBjbGFzcz1cIm1kLWJsb2NrXCIgbmctaWY9XCJjdHJsLndvcmtpbmdTYW1wbGUudHlwZSA9PT0gXFwnUG93ZGVyXFwnXCI+PGxhYmVsPlJlcGxpY2F0ZXM8L2xhYmVsPjxtZC1zZWxlY3QgbmctbW9kZWw9XCJjdHJsLndvcmtpbmdTYW1wbGUucmVwbGljYXRlc1wiPjxtZC1vcHRpb24+MTwvbWQtb3B0aW9uPjxtZC1vcHRpb24+MjwvbWQtb3B0aW9uPjxtZC1vcHRpb24+MzwvbWQtb3B0aW9uPjxtZC1vcHRpb24+NDwvbWQtb3B0aW9uPjxtZC1vcHRpb24+NTwvbWQtb3B0aW9uPjxtZC1vcHRpb24+NjwvbWQtb3B0aW9uPjxtZC1vcHRpb24+NzwvbWQtb3B0aW9uPjxtZC1vcHRpb24+ODwvbWQtb3B0aW9uPjxtZC1vcHRpb24+OTwvbWQtb3B0aW9uPjxtZC1vcHRpb24+MTA8L21kLW9wdGlvbj48L21kLXNlbGVjdD48L21kLWlucHV0LWNvbnRhaW5lcj48L2Rpdj48ZGl2IGxheW91dD1cInJvd1wiIGZsZXg+PG1kLWlucHV0LWNvbnRhaW5lciBjbGFzcz1cIm1kLWJsb2NrXCIgZmxleD48bGFiZWw+RGVzY3JpcHRpb248L2xhYmVsPjx0ZXh0YXJlYSBuZy1tb2RlbD1cImN0cmwud29ya2luZ1NhbXBsZS5kZXNjcmlwdGlvblwiIG1kLW1heGxlbmd0aD1cIjE1MFwiIHJvd3M9XCI1XCIgbWQtc2VsZWN0LW9uLWZvY3VzIGZsZXg+PC90ZXh0YXJlYT48L21kLWlucHV0LWNvbnRhaW5lcj48L2Rpdj48L2Zvcm0+PC9tZC1jYXJkLWNvbnRlbnQ+PG1kLWNhcmQtYWN0aW9ucyBsYXlvdXQ9XCJyb3dcIiBsYXlvdXQtYWxpZ249XCJlbmQgY2VudGVyXCI+PG1kLWJ1dHRvbiBjbGFzcz1cIm1kLXByaW1hcnlcIiBuZy1pZj1cIiFjdHJsLmlzRWRpdGluZygpXCIgbmctZGlzYWJsZWQ9XCJjdHJsLnNhbXBsZUZvcm0uJGludmFsaWRcIiBuZy1jbGljaz1cImN0cmwuYWRkTmV3U2FtcGxlKClcIj5BZGQgU2FtcGxlPC9tZC1idXR0b24+PG1kLWJ1dHRvbiBjbGFzcz1cIm1kLXByaW1hcnlcIiBuZy1pZj1cImN0cmwuaXNFZGl0aW5nKClcIiBuZy1jbGljaz1cImN0cmwuY2FuY2VsRWRpdCgpXCI+Q2FuY2VsPC9tZC1idXR0b24+PG1kLWJ1dHRvbiBjbGFzcz1cIm1kLXByaW1hcnlcIiBuZy1pZj1cImN0cmwuaXNFZGl0aW5nKClcIiBuZy1kaXNhYmxlZD1cImN0cmwuc2FtcGxlRm9ybS4kaW52YWxpZFwiIG5nLWNsaWNrPVwiY3RybC5zYXZlRWRpdGVkU2FtcGxlKClcIj5TYXZlIFNhbXBsZTwvbWQtYnV0dG9uPjwvbWQtY2FyZC1hY3Rpb25zPjwvbWQtY2FyZD48L2Rpdj48ZGl2IGZsZXg9XCIzMFwiPjxtZC1jYXJkPjxtZC1jYXJkLWhlYWRlcj48bWQtY2FyZC1oZWFkZXItdGV4dD48c3BhbiBjbGFzcz1cIm1kLXRpdGxlXCI+U2FtcGxlczwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJtZC1zdWJoZWFkXCI+QWRkZWQ8L3NwYW4+PC9tZC1jYXJkLWhlYWRlci10ZXh0PjwvbWQtY2FyZC1oZWFkZXI+PG1kLWNhcmQtY29udGVudD48cCBuZy1pZj1cIiFjdHJsLnNhbXBsZXMubGVuZ3RoIHx8IGN0cmwuc2FtcGxlcy5sZW5ndGggPT09IDBcIj5BZGQgc2FtcGxlcyB0byBzZWUgdGhlbSBvdmVyIGhlcmUuPC9wPjxtZC1saXN0IG5nLWlmPVwiY3RybC5zYW1wbGVzLmxlbmd0aCAmJiBjdHJsLnNhbXBsZXMubGVuZ3RoID4gMFwiIG5nLWNsb2FrPjxtZC1saXN0LWl0ZW0gY2xhc3M9XCJzZWNvbmRhcnktYnV0dG9uLXBhZGRpbmdcIiBuZy1jbGljaz1cImN0cmwuZWRpdFNhbXBsZSgkaW5kZXgpXCIgbmctcmVwZWF0PVwic2FtcGxlIGluIGN0cmwuc2FtcGxlc1wiPjxwPnt7c2FtcGxlLm5hbWV9fTwvcD48bWQtYnV0dG9uIGNsYXNzPVwibWQtc2Vjb25kYXJ5XCIgbmctY2xpY2s9XCJjdHJsLmRlbGV0ZVNhbXBsZSgkaW5kZXgpXCI+RGVsZXRlPC9tZC1idXR0b24+PC9tZC1saXN0LWl0ZW0+PC9tZC1saXN0PjwvbWQtY2FyZC1jb250ZW50PjxtZC1jYXJkLWFjdGlvbnMgbGF5b3V0PVwicm93XCIgbGF5b3V0LWFsaWduPVwiZW5kIGNlbnRlclwiPjxtZC1idXR0b24gY2xhc3M9XCJtZC1wcmltYXJ5XCIgbmctZGlzYWJsZWQ9XCJjdHJsLmJhdGNoRm9ybS4kaW52YWxpZCB8fCBjdHJsLnNhbXBsZXMubGVuZ3RoID09PSAwXCIgbmctY2xpY2s9XCJjdHJsLnNhdmVCYXRjaCgkZXZlbnQpXCI+Q3JlYXRlIEJhdGNoICsgU2FtcGxlczwvbWQtYnV0dG9uPjwvbWQtY2FyZC1hY3Rpb25zPjwvbWQtY2FyZD48L2Rpdj48L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdiaW9mdWVscy5jb3JlLnJlc291cmNlLnNlcnZpY2UnLCBbXG4gICduZ1Jlc291cmNlJ1xuXSlcbiAgLmZhY3RvcnkoXG4gICAgJ3Jlc291cmNlU2VydmljZScsXG4gICAgZnVuY3Rpb24gKCRyZXNvdXJjZSwgJGxvY2FsU3RvcmFnZSkge1xuICAgICAgdmFyIHRva2VuID0gJyc7XG4gICAgICBpZiAoJGxvY2FsU3RvcmFnZVxuICAgICAgICAmJiAkbG9jYWxTdG9yYWdlLnVzZXJQcm9maWxlXG4gICAgICAgICYmICRsb2NhbFN0b3JhZ2UudXNlclByb2ZpbGUudG9rZW4pIHtcbiAgICAgICAgICB0b2tlbiA9ICRsb2NhbFN0b3JhZ2UudXNlclByb2ZpbGUudG9rZW47XG4gICAgICB9XG4gICAgICB2YXIgdXJsID0gJ2h0dHBzOi8vYmlvZnVlbHMtY3NpczQ3MS5yaGNsb3VkLmNvbSc7XG5cbiAgICAgIHZhciB1c2VyQXV0aCA9ICRyZXNvdXJjZSh1cmwgKyAnL2FwaS92MS91c2VyL2F1dGgnLCB7fSwge1xuICAgICAgICAnc2F2ZSc6IHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdmFyIHVzZXJSZWdpc3RlciA9ICRyZXNvdXJjZSh1cmwgKyAnL2FwaS92MS91c2VyL2NyZWF0ZScsIHt9LCB7XG4gICAgICAgICdzYXZlJzoge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB2YXIgY3VzdG9tZXJMaXN0ID0gJHJlc291cmNlKHVybCArICcvYXBpL3YxL2N1c3RvbWVyL2xpc3QnLCB7fSwge1xuICAgICAgICAnZ2V0Jzoge1xuICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAnQmVhcmVyICcgKyB0b2tlbixcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB2YXIgY3VzdG9tZXJDcmVhdGUgPSAkcmVzb3VyY2UodXJsICsgJy9hcGkvdjEvY3VzdG9tZXIvY3JlYXRlJywge30sIHtcbiAgICAgICAgJ3NhdmUnOiB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAnQmVhcmVyICcgKyB0b2tlbixcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB2YXIgdmlhbExpc3QgPSAkcmVzb3VyY2UodXJsICsgJy9hcGkvdjEvdmlhbC9saXN0Jywge30sIHtcbiAgICAgICAgJ2dldCc6IHtcbiAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogJ0JlYXJlciAnICsgdG9rZW4sXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdmFyIHZpYWxDcmVhdGUgPSAkcmVzb3VyY2UodXJsICsgJy9hcGkvdjEvdmlhbC9jcmVhdGUnLCB7fSwge1xuICAgICAgICAnc2F2ZSc6IHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICdCZWFyZXIgJyArIHRva2VuLFxuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHZhciBzYW1wbGVMaXN0ID0gJHJlc291cmNlKHVybCArICcvYXBpL3YxL3NhbXBsZS9saXN0Jywge30sIHtcbiAgICAgICAgJ3NhdmUnOiB7XG4gICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICdCZWFyZXIgJyArIHRva2VuLFxuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHZhciBiYXRjaENyZWF0ZSA9ICRyZXNvdXJjZSh1cmwgKyAnL2FwaS92MS9iYXRjaC9jcmVhdGUnLCB7fSwge1xuICAgICAgICAnc2F2ZSc6IHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICdCZWFyZXIgJyArIHRva2VuLFxuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHZhciByeG5TZWxlY3Rpb24gPSAkcmVzb3VyY2UodXJsICsgJy9hcGkvdjEvdGVzdC1wcm9jZXNzL3J4bnNlbGVjdGlvbicsIHt9LCB7XG4gICAgICAgICdzYXZlJzoge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogJ0JlYXJlciAnICsgdG9rZW4sXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdmFyIHRoZXJtb01peGVyID0gJHJlc291cmNlKHVybCArICcvYXBpL3YxL3Rlc3QtcHJvY2Vzcy90aGVybW9taXhlcicsIHt9LCB7XG4gICAgICAgICdzYXZlJzoge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogJ0JlYXJlciAnICsgdG9rZW4sXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdmFyIHZvcnRleE1peGVyID0gJHJlc291cmNlKHVybCArICcvYXBpL3YxL3Rlc3QtcHJvY2Vzcy92b3J0ZXgnLCB7fSwge1xuICAgICAgICAnc2F2ZSc6IHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICdCZWFyZXIgJyArIHRva2VuLFxuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHZhciBjZW50cmlmdWdlID0gJHJlc291cmNlKHVybCArICcvYXBpL3YxL3Rlc3QtcHJvY2Vzcy9jZW50cmlmdWdlJywge30sIHtcbiAgICAgICAgJ3NhdmUnOiB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAnQmVhcmVyICcgKyB0b2tlbixcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVzZXJBdXRoOiB1c2VyQXV0aCxcbiAgICAgICAgdXNlclJlZ2lzdGVyOiB1c2VyUmVnaXN0ZXIsXG4gICAgICAgIGN1c3RvbWVyTGlzdDogY3VzdG9tZXJMaXN0LFxuICAgICAgICBjdXN0b21lckNyZWF0ZTogY3VzdG9tZXJDcmVhdGUsXG4gICAgICAgIHZpYWxMaXN0OiB2aWFsTGlzdCxcbiAgICAgICAgdmlhbENyZWF0ZTogdmlhbENyZWF0ZSxcbiAgICAgICAgc2FtcGxlTGlzdDogc2FtcGxlTGlzdCxcbiAgICAgICAgYmF0Y2hDcmVhdGU6IGJhdGNoQ3JlYXRlLFxuICAgICAgICByeG5TZWxlY3Rpb246IHJ4blNlbGVjdGlvbixcbiAgICAgICAgdGhlcm1vTWl4ZXI6IHRoZXJtb01peGVyLFxuICAgICAgICB2b3J0ZXhNaXhlcjogdm9ydGV4TWl4ZXIsXG4gICAgICAgIGNlbnRyaWZ1Z2U6IGNlbnRyaWZ1Z2VcbiAgICAgIH07XG4gICAgfVxuICApO1xuXG4iLCIoZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmlvZnVlbHMudGVtcGxhdGVzJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdiaW9mdWVscy50ZW1wbGF0ZXMnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ3NlY3Rpb25zL3NhbXBsZXMvY2VudHJpZnVnZS9jZW50cmlmdWdlLnRwbC5odG1sJyxcbiAgICAnPGRpdiBtZW51PVwiXCI+PC9kaXY+PGZvcm0gbmFtZT1cImN0cmwuY2VudEZvcm1cIiBjbGFzcz1cIm1kLWlubGluZS1mb3JtXCI+PGRpdiBmbGV4IGxheW91dD1cInJvd1wiIGxheW91dC1hbGlnbj1cImNlbnRlciBzdGFydFwiPjxkaXYgZmxleD1cIjMwXCI+PG1kLWNhcmQ+PG1kLWNhcmQtaGVhZGVyPjxtZC1jYXJkLWhlYWRlci10ZXh0PjxzcGFuIGNsYXNzPVwibWQtdGl0bGVcIj5TYW1wbGVzPC9zcGFuPiA8c3BhbiBjbGFzcz1cIm1kLXN1YmhlYWRcIj5QcmUgVGhlcm1vIE1peGVyIE9ic2VydmF0aW9uczwvc3Bhbj48L21kLWNhcmQtaGVhZGVyLXRleHQ+PC9tZC1jYXJkLWhlYWRlcj48bWQtY2FyZC1jb250ZW50PjxkaXYgbGF5b3V0PVwicm93XCIgZmxleCBuZy1yZXBlYXQ9XCJzYW1wbGUgaW4gY3RybC5zZWxlY3RlZFNhbXBsZXNcIj48bWQtaW5wdXQtY29udGFpbmVyIGNsYXNzPVwibWQtYmxvY2tcIiBmbGV4PVwiMjBcIj48bGFiZWw+U2FtcGxlIElEPC9sYWJlbD48aW5wdXQgdHlwZT1cIm51bWJlclwiIG5nLWluaXQ9XCJjdHJsLnN1Ym1pdERhdGFbJGluZGV4XS5zYW1wbGVJZCA9IHNhbXBsZS5pZFwiIG5nLW1vZGVsPVwiY3RybC5zdWJtaXREYXRhWyRpbmRleF0uc2FtcGxlSWRcIiBkaXNhYmxlZD1cImRpc2FibGVkXCI+PC9tZC1pbnB1dC1jb250YWluZXI+PG1kLWlucHV0LWNvbnRhaW5lciBjbGFzcz1cIm1kLWJsb2NrXCIgZmxleD48bGFiZWw+Q29sb3IqPC9sYWJlbD48aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cImN0cmwuc3VibWl0RGF0YVskaW5kZXhdLnBvc3RIZXhDbHJcIiByZXF1aXJlZD48L21kLWlucHV0LWNvbnRhaW5lcj48bWQtaW5wdXQtY29udGFpbmVyIGNsYXNzPVwibWQtYmxvY2tcIiBmbGV4PjxsYWJlbD5DZW50cmlmdWdlIExvY2F0aW9uPC9sYWJlbD48bWQtc2VsZWN0IG5nLW1vZGVsPVwiY3RybC5jZW50TG9jc1skaW5kZXhdLmNlbnRMb2NcIj48bWQtb3B0aW9uIG5nLXJlcGVhdD1cImxvY2F0aW9uIGluIGN0cmwuY2VudHJpZnVnZURhdGEubG9jYXRpb25zXCIgbmctdmFsdWU9XCJsb2NhdGlvblwiPnt7bG9jYXRpb259fTwvbWQtb3B0aW9uPjwvbWQtc2VsZWN0PjwvbWQtaW5wdXQtY29udGFpbmVyPjwvZGl2PjwvbWQtY2FyZC1jb250ZW50PjwvbWQtY2FyZD48L2Rpdj48ZGl2IGZsZXg9XCIzNVwiPjxtZC1jYXJkPjxtZC1jYXJkLWhlYWRlcj48bWQtY2FyZC1oZWFkZXItdGV4dD48c3BhbiBjbGFzcz1cIm1kLXRpdGxlXCI+VGhlcm1vIE1peGVyPC9zcGFuPjwvbWQtY2FyZC1oZWFkZXItdGV4dD48L21kLWNhcmQtaGVhZGVyPjxtZC1jYXJkLWNvbnRlbnQ+PGRpdiBsYXlvdXQ9XCJyb3dcIiBmbGV4PjxtZC1pbnB1dC1jb250YWluZXIgY2xhc3M9XCJtZC1ibG9ja1wiPjxsYWJlbD5DZW50cmlmdWdlSUQqPC9sYWJlbD48bWQtc2VsZWN0IG5nLW1vZGVsPVwiY3RybC5jZW50cmlmdWdlRGF0YS5pZFwiIHJlcXVpcmVkPjxtZC1vcHRpb24gbmctcmVwZWF0PVwiY2VudHJpZnVnZSBpbiBjdHJsLmNlbnRyaWZ1Z2VzXCI+e3tjZW50cmlmdWdlLmlkfX08L21kLW9wdGlvbj48L21kLXNlbGVjdD48L21kLWlucHV0LWNvbnRhaW5lcj48bWQtZGF0ZXBpY2tlciBuZy1tb2RlbD1cImN0cmwuY2VudHJpZnVnZURhdGEucnVuRGF0ZVwiIG1kLXBsYWNlaG9sZGVyPVwiUnVuIGRhdGUqXCIgZmxleD1cIjUwXCIgcmVxdWlyZWQ+PC9tZC1kYXRlcGlja2VyPjwvZGl2PjxkaXYgbGF5b3V0PVwicm93XCIgZmxleD48bWQtaW5wdXQtY29udGFpbmVyIGNsYXNzPVwibWQtYmxvY2tcIiBmbGV4PjxsYWJlbD5TdGFydCBUaW1lKjwvbGFiZWw+PGlucHV0IHR5cGU9XCJ0aW1lXCIgbmctbW9kZWw9XCJjdHJsLmNlbnRyaWZ1Z2VEYXRhLnN0YXJ0VGltZVwiIHJlcXVpcmVkPjwvbWQtaW5wdXQtY29udGFpbmVyPjxtZC1pbnB1dC1jb250YWluZXIgY2xhc3M9XCJtZC1ibG9ja1wiIGZsZXg+PGxhYmVsPlRlbXBlcmF0dXJlIMKwQyo8L2xhYmVsPjxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmctbW9kZWw9XCJjdHJsLmNlbnRyaWZ1Z2VEYXRhLnRlbXBcIiByZXF1aXJlZD48L21kLWlucHV0LWNvbnRhaW5lcj48bWQtaW5wdXQtY29udGFpbmVyIGNsYXNzPVwibWQtYmxvY2tcIiBmbGV4PjxsYWJlbD5SUE0qPC9sYWJlbD48aW5wdXQgdHlwZT1cIm51bWJlclwiIG5nLW1vZGVsPVwiY3RybC5jZW50cmlmdWdlRGF0YS5ycG1cIiByZXF1aXJlZD48L21kLWlucHV0LWNvbnRhaW5lcj48L2Rpdj48ZGl2IGxheW91dD1cInJvd1wiIGZsZXg+PG1kLXNsaWRlci1jb250YWluZXIgZmxleD48bGFiZWw+VG90YWwgVGltZSAobWlucykqPC9sYWJlbD48bWQtc2xpZGVyIHN0ZXA9XCIwLjI1XCIgZmxleCBtaW49XCIwXCIgbWF4PVwiMjBcIiBuZy1tb2RlbD1cImN0cmwuY2VudHJpZnVnZURhdGEudG90YWxUaW1lXCIgcmVxdWlyZWQ+PC9tZC1zbGlkZXI+PC9tZC1zbGlkZXItY29udGFpbmVyPjxtZC1pbnB1dC1jb250YWluZXIgZmxleD1cIjE1XCI+PGlucHV0IHN0ZXA9XCIwLjI1XCIgZmxleCB0eXBlPVwibnVtYmVyXCIgbWluPVwiMFwiIG1heD1cIjIwXCIgbmctbW9kZWw9XCJjdHJsLmNlbnRyaWZ1Z2VEYXRhLnRvdGFsVGltZVwiIHJlcXVpcmVkPjwvbWQtaW5wdXQtY29udGFpbmVyPjwvZGl2PjwvbWQtY2FyZC1jb250ZW50PjxtZC1jYXJkLWFjdGlvbnMgbGF5b3V0PVwicm93XCIgbGF5b3V0LWFsaWduPVwiZW5kIGNlbnRlclwiPjxtZC1idXR0b24gY2xhc3M9XCJtZC1wcmltYXJ5XCIgbmctZGlzYWJsZWQ9XCJjdHJsLmNlbnRGb3JtLiRpbnZhbGlkXCIgbmctY2xpY2s9XCJjdHJsLnNhdmVEYXRhKClcIj5TYXZlPC9tZC1idXR0b24+PC9tZC1jYXJkLWFjdGlvbnM+PC9tZC1jYXJkPjwvZGl2PjwvZGl2PjwvZm9ybT4nKTtcbn1dKTtcbn0pKCk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdiaW9mdWVscy5jb3JlLmN1c3RvbWVyJywgW1xuICAnYmlvZnVlbHMuY29yZS5jdXN0b21lci5zZXJ2aWNlJ1xuXSk7XG4iLCIoZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmlvZnVlbHMudGVtcGxhdGVzJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdiaW9mdWVscy50ZW1wbGF0ZXMnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ3NlY3Rpb25zL2N1c3RvbWVycy9jcmVhdGUtY3VzdG9tZXIvY3JlYXRlLWN1c3RvbWVyLnRwbC5odG1sJyxcbiAgICAnPGRpdiBtZW51PVwiXCI+PC9kaXY+PGRpdiBsYXlvdXQ9XCJyb3dcIiBsYXlvdXQtYWxpZ249XCJjZW50ZXIgY2VudGVyXCI+PGRpdiBmbGV4LXhzPVwiOTBcIiBmbGV4LXNtPVwiNzVcIiBmbGV4LW1kPVwiNzVcIiBmbGV4LWd0LW1kPVwiNTBcIj48bWQtY2FyZD48bWQtY2FyZC10aXRsZT48bWQtY2FyZC10aXRsZS10ZXh0PjxzcGFuIGNsYXNzPVwibWQtaGVhZGxpbmVcIj5DcmVhdGUgQ3VzdG9tZXI8L3NwYW4+PC9tZC1jYXJkLXRpdGxlLXRleHQ+PC9tZC1jYXJkLXRpdGxlPjxkaXYgbGF5b3V0PVwiY29sdW1uXCIgbmctY2xvYWsgY2xhc3M9XCJtZC1pbmxpbmUtZm9ybVwiPjxtZC1jb250ZW50IGxheW91dC1wYWRkaW5nPjxkaXY+PGZvcm0gbmFtZT1cImN0cmwuY3VzdG9tZXJGb3JtXCI+PGRpdiBsYXlvdXQtZ3QteHM9XCJyb3dcIj48bWQtaW5wdXQtY29udGFpbmVyIGNsYXNzPVwibWQtYmxvY2tcIiBmbGV4LWd0LXhzPjxsYWJlbD5DdXN0b21lciBOYW1lKjwvbGFiZWw+PGlucHV0IG5nLW1vZGVsPVwiY3RybC5jdXN0b21lckRhdGEubmFtZVwiIHJlcXVpcmVkPjwvbWQtaW5wdXQtY29udGFpbmVyPjxtZC1pbnB1dC1jb250YWluZXIgY2xhc3M9XCJtZC1ibG9ja1wiPjxsYWJlbD5Db2RlKjwvbGFiZWw+PGlucHV0IG5nLW1vZGVsPVwiY3RybC5jdXN0b21lckRhdGEuY29kZVwiIHJlcXVpcmVkIG1kLW1heGxlbmd0aD1cIjRcIj48L21kLWlucHV0LWNvbnRhaW5lcj48L2Rpdj48ZGl2IGxheW91dC1ndC14cz1cInJvd1wiPjxtZC1pbnB1dC1jb250YWluZXIgY2xhc3M9XCJtZC1ibG9ja1wiIGZsZXgtZ3QteHM+PGxhYmVsPkNvbnRhY3QgTmFtZSAjMSo8L2xhYmVsPjxpbnB1dCBuZy1tb2RlbD1cImN0cmwuY3VzdG9tZXJEYXRhLmNvbnRhY3ROYW1lMVwiIHJlcXVpcmVkPjwvbWQtaW5wdXQtY29udGFpbmVyPjxtZC1pbnB1dC1jb250YWluZXIgY2xhc3M9XCJtZC1ibG9ja1wiIGZsZXgtZ3QteHM+PGxhYmVsPkNvbnRhY3QgTmFtZSAjMjwvbGFiZWw+PGlucHV0IG5nLW1vZGVsPVwiY3RybC5jdXN0b21lckRhdGEuY29udGFjdE5hbWUyXCIgcmVxdWlyZWQ+PC9tZC1pbnB1dC1jb250YWluZXI+PG1kLWlucHV0LWNvbnRhaW5lciBjbGFzcz1cIm1kLWJsb2NrXCIgZmxleC1ndC14cz48bGFiZWw+TmFtZSBmb3IgQmlsbGluZyo8L2xhYmVsPjxpbnB1dCBuZy1tb2RlbD1cImN0cmwuY3VzdG9tZXJEYXRhLmJpbGxpbmdOYW1lXCIgcmVxdWlyZWQ+PC9tZC1pbnB1dC1jb250YWluZXI+PC9kaXY+PGRpdiBsYXlvdXQtZ3QteHM9XCJyb3dcIj48bWQtaW5wdXQtY29udGFpbmVyIGNsYXNzPVwibWQtYmxvY2tcIiBmbGV4LWd0LXhzPjxsYWJlbD5TaGlwIHRvIEFkZHJlc3MqPC9sYWJlbD48aW5wdXQgbmctbW9kZWw9XCJjdHJsLmN1c3RvbWVyRGF0YS5hZGRyZXNzXCIgcmVxdWlyZWQ+PC9tZC1pbnB1dC1jb250YWluZXI+PG1kLWlucHV0LWNvbnRhaW5lciBjbGFzcz1cIm1kLWJsb2NrXCIgZmxleC1ndC14cz48aW5wdXQgbmctbW9kZWw9XCJjdHJsLmN1c3RvbWVyRGF0YS5hZGRyZXNzMlwiIHBsYWNlaG9sZGVyPVwiQWRkcmVzcyAyXCI+PC9tZC1pbnB1dC1jb250YWluZXI+PC9kaXY+PGRpdiBsYXlvdXQtZ3QteHM9XCJyb3dcIj48bWQtaW5wdXQtY29udGFpbmVyIGNsYXNzPVwibWQtYmxvY2tcIiBmbGV4LWd0LXhzPjxsYWJlbD5DaXR5KjwvbGFiZWw+PGlucHV0IG5nLW1vZGVsPVwiY3RybC5jdXN0b21lckRhdGEuY2l0eVwiIHJlcXVpcmVkPjwvbWQtaW5wdXQtY29udGFpbmVyPjxtZC1pbnB1dC1jb250YWluZXIgY2xhc3M9XCJtZC1ibG9ja1wiIGZsZXgtZ3QteHM+PGxhYmVsPlN0YXRlKjwvbGFiZWw+PG1kLXNlbGVjdCBuZy1tb2RlbD1cImN0cmwuY3VzdG9tZXJEYXRhLnN0YXRlXCIgcmVxdWlyZWQ+PG1kLW9wdGlvbiBuZy1yZXBlYXQ9XCJzdGF0ZSBpbiBjdHJsLnN0YXRlc1wiIHZhbHVlPVwie3tzdGF0ZS5hYmJyZXZ9fVwiPnt7c3RhdGUuYWJicmV2fX08L21kLW9wdGlvbj48L21kLXNlbGVjdD48L21kLWlucHV0LWNvbnRhaW5lcj48bWQtaW5wdXQtY29udGFpbmVyIGNsYXNzPVwibWQtYmxvY2tcIiBmbGV4LWd0LXhzPjxsYWJlbD5Qb3N0YWwgQ29kZSo8L2xhYmVsPjxpbnB1dCBuYW1lPVwicG9zdGFsQ29kZVwiIG5nLW1vZGVsPVwiY3RybC5jdXN0b21lckRhdGEucG9zdGFsQ29kZVwiIHJlcXVpcmVkIG5nLXBhdHRlcm49XCIvXlswLTldezV9JC9cIiBtZC1tYXhsZW5ndGg9XCI1XCI+PGRpdiBuZy1tZXNzYWdlcz1cInVzZXJGb3JtLnBvc3RhbENvZGUuJGVycm9yXCIgcm9sZT1cImFsZXJ0XCIgbXVsdGlwbGU9XCJtdWx0aXBsZVwiPjxkaXYgbmctbWVzc2FnZT1cInJlcXVpcmVkXCIgY2xhc3M9XCJteS1tZXNzYWdlXCI+WW91IG11c3Qgc3VwcGx5IGEgcG9zdGFsIGNvZGUuPC9kaXY+PGRpdiBuZy1tZXNzYWdlPVwicGF0dGVyblwiIGNsYXNzPVwibXktbWVzc2FnZVwiPlRoYXQgZG9lc25cXCd0IGxvb2sgbGlrZSBhIHZhbGlkIHBvc3RhbCBjb2RlLjwvZGl2PjxkaXYgbmctbWVzc2FnZT1cIm1kLW1heGxlbmd0aFwiIGNsYXNzPVwibXktbWVzc2FnZVwiPkRvblxcJ3QgdXNlIHRoZSBsb25nIHZlcnNpb24gc2lsbHkuLi53ZSBkb25cXCd0IG5lZWQgdG8gYmUgdGhhdCBzcGVjaWZpYy48L2Rpdj48L2Rpdj48L21kLWlucHV0LWNvbnRhaW5lcj48L2Rpdj48ZGl2IGxheW91dC1ndC14cz1cInJvd1wiPjxtZC1pbnB1dC1jb250YWluZXIgY2xhc3M9XCJtZC1ibG9ja1wiIGZsZXgtZ3QteHM+PGxhYmVsPkVtYWlsKjwvbGFiZWw+PGlucHV0IG5nLW1vZGVsPVwiY3RybC5jdXN0b21lckRhdGEuZW1haWxcIiByZXF1aXJlZD48L21kLWlucHV0LWNvbnRhaW5lcj48bWQtaW5wdXQtY29udGFpbmVyIGNsYXNzPVwibWQtYmxvY2tcIiBmbGV4LWd0LXhzPjxsYWJlbD5QaG9uZSBOdW1iZXIqPC9sYWJlbD48aW5wdXQgbmctbW9kZWw9XCJjdHJsLmN1c3RvbWVyRGF0YS5waG9uZU51bWJlclwiIHJlcXVpcmVkPjwvbWQtaW5wdXQtY29udGFpbmVyPjwvZGl2PjwvZm9ybT48L2Rpdj48L21kLWNvbnRlbnQ+PG1kLWNhcmQtYWN0aW9ucyBsYXlvdXQ9XCJyb3dcIiBsYXlvdXQtYWxpZ249XCJlbmQtY2VudGVyXCI+PG1kLWJ1dHRvbiBjbGFzcz1cIm1kLXJhaXNlZCBtZC1wcmltYXJ5XCIgbmctY2xpY2s9XCJjdHJsLmNyZWF0ZUN1c3RvbWVyKClcIiBuZy1kaXNhYmxlZD1cImN0cmwuY3VzdG9tZXJGb3JtLiRpbnZhbGlkXCI+Q3JlYXRlIEN1c3RvbWVyPC9tZC1idXR0b24+PC9tZC1jYXJkLWFjdGlvbnM+PC9kaXY+PC9tZC1jYXJkPjwvZGl2PjwvZGl2PicpO1xufV0pO1xufSkoKTtcbiIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ2Jpb2Z1ZWxzLmNvcmUuY3VzdG9tZXIuc2VydmljZScsIFtcbiAgICAnYmlvZnVlbHMuY29yZS5yZXNvdXJjZSdcbiAgXSlcbiAgLmZhY3RvcnkoXG4gICAgJ2N1c3RvbWVyU2VydmljZScsXG4gICAgZnVuY3Rpb24gKCRsb2csXG4gICAgICAgICAgICAgIHJlc291cmNlU2VydmljZSxcbiAgICAgICAgICAgICAgJHFcbiAgICApIHtcbiAgICAgIGZ1bmN0aW9uIGNyZWF0ZUN1c3RvbWVyIChjdXN0TmFtZSwgY3VzdENvZGUsIGNvbnRhY3ROYW1lMSwgY29udGFjdE5hbWUyLCBiaWxsaW5nTmFtZSwgYWRkcmVzczEsIGFkZHJlc3MyLCBjaXR5LCBzdGF0ZSwgcG9zdGFsQ29kZSwgcGhvbmVOdW1iZXIsIGVtYWlsKSB7XG4gICAgICAgICRsb2cuZGVidWcoJ0NyZWF0aW5nIGN1c3RvbWVyJyk7XG5cbiAgICAgICAgdmFyIHBheWxvYWQgPSB7XG4gICAgICAgICAgY3VzdG9tZXJfbmFtZTogY3VzdE5hbWUsXG4gICAgICAgICAgY3VzdG9tZXJfY29kZTogY3VzdENvZGUsXG4gICAgICAgICAgY29udGFjdF9uYW1lMTogY29udGFjdE5hbWUxLFxuICAgICAgICAgIGNvbnRhY3RfbmFtZTI6IGNvbnRhY3ROYW1lMixcbiAgICAgICAgICBiaWxsaW5nX25hbWU6IGJpbGxpbmdOYW1lLFxuICAgICAgICAgIGFkZHJlc3NfMTogYWRkcmVzczEsXG4gICAgICAgICAgYWRkcmVzc18yOiBhZGRyZXNzMixcbiAgICAgICAgICBjaXR5OiBjaXR5LFxuICAgICAgICAgIHN0YXRlOiBzdGF0ZSxcbiAgICAgICAgICBwb3N0YWxfY29kZTogcG9zdGFsQ29kZSxcbiAgICAgICAgICBwaG9uZV9udW1iZXI6IHBob25lTnVtYmVyLFxuICAgICAgICAgIGVtYWlsOiBlbWFpbFxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiByZXNvdXJjZVNlcnZpY2UuY3VzdG9tZXJDcmVhdGUuc2F2ZShwYXlsb2FkKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgJGxvZy5kZWJ1ZyhkYXRhKTtcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICRsb2cuZXJyb3IoZXJyKTtcbiAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVyci5kYXRhKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cblxuICAgICAgZnVuY3Rpb24gZ2V0Q3VzdG9tZXJzICgpIHtcbiAgICAgICAgJGxvZy5kZWJ1ZygnR2V0dGluZyBjdXN0b21lcnMnKTtcblxuICAgICAgICB2YXIgcXVlcnkgPSB7fTtcblxuICAgICAgICByZXR1cm4gcmVzb3VyY2VTZXJ2aWNlLmN1c3RvbWVyTGlzdC5nZXQocXVlcnkpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAkbG9nLmRlYnVnKGRhdGEpO1xuICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgJGxvZy5lcnJvcihlcnIpO1xuICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyLmRhdGEpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY3JlYXRlQ3VzdG9tZXI6IGNyZWF0ZUN1c3RvbWVyLFxuICAgICAgICBnZXRDdXN0b21lcnM6IGdldEN1c3RvbWVyc1xuICAgICAgfTtcbiAgICB9XG4gICk7XG5cbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdiaW9mdWVscy50ZW1wbGF0ZXMnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jpb2Z1ZWxzLnRlbXBsYXRlcycsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnc2VjdGlvbnMvdmlhbHMvdmlhbHMudHBsLmh0bWwnLFxuICAgICc8ZGl2IG1lbnU9XCJcIj48L2Rpdj48bWQtdG9vbGJhciBjbGFzcz1cIm1kLWFjY2VudFwiPjxkaXYgY2xhc3M9XCJtZC10b29sYmFyLXRvb2xzXCI+PG1kLXNlbGVjdCBuZy1tb2RlbD1cImN0cmwuc2VsZWN0ZWRWaWFsVHlwZVwiIGFyaWEtbGFiZWw9XCJWaWFsIFNlbGVjdGlvblwiIG5nLWNoYW5nZT1cImN0cmwuY2hhbmdlVmlhbFR5cGUoKVwiPjxtZC1vcHRpb24gbmctcmVwZWF0PVwidmlhbFR5cGUgaW4gY3RybC52aWFsVHlwZXNcIiB2YWx1ZT1cInt7dmlhbFR5cGUuY29kZX19XCI+e3t2aWFsVHlwZS5kZXNjcmlwdGlvbn19PC9tZC1vcHRpb24+PC9tZC1zZWxlY3Q+PG1kLWJ1dHRvbiBjbGFzcz1cIlwiIGFyaWEtbGFiZWw9XCJDcmVhdGUgVmlhbHNcIiB1aS1zcmVmPVwiY3JlYXRlVmlhbHNcIj5DcmVhdGUgVmlhbHM8L21kLWJ1dHRvbj48L2Rpdj48L21kLXRvb2xiYXI+PG1kLWNvbnRlbnQ+PG1kLWNhcmQ+PG1kLXRvb2xiYXIgY2xhc3M9XCJtZC10YWJsZS10b29sYmFyIG1kLWRlZmF1bHRcIiBuZy1oaWRlPVwiY3RybC5vcHRpb25zLnJvd1NlbGVjdGlvbiAmJiBjdHJsLnNlbGVjdGVkLmxlbmd0aFwiPjxkaXYgY2xhc3M9XCJtZC10b29sYmFyLXRvb2xzXCI+PHNwYW4+VmlhbHM8L3NwYW4+PGRpdiBmbGV4PjwvZGl2PjxtZC1idXR0b24gY2xhc3M9XCJtZC1pY29uLWJ1dHRvblwiIG5nLWNsaWNrPVwiY3RybC5nZXRWaWFscygpXCI+PG1kLXRvb2x0aXAgbWQtZGlyZWN0aW9uPVwidG9wXCI+UmVmcmVzaDwvbWQtdG9vbHRpcD48bWQtaWNvbj5yZWZyZXNoPC9tZC1pY29uPjwvbWQtYnV0dG9uPjwvZGl2PjwvbWQtdG9vbGJhcj48bWQtdG9vbGJhciBjbGFzcz1cIm1kLXRhYmxlLXRvb2xiYXIgbWQtZGVmYXVsdFwiIG5nLXNob3c9XCJjdHJsLm9wdGlvbnMucm93U2VsZWN0aW9uICYmIGN0cmwuc2VsZWN0ZWQubGVuZ3RoXCI+PGRpdiBjbGFzcz1cIm1kLXRvb2xiYXItdG9vbHNcIj48c3Bhbj5WaWFsICN7e2N0cmwuc2VsZWN0ZWRbMF0udmlhbF9pZH19IHNlbGVjdGVkPC9zcGFuPjwvZGl2PjwvbWQtdG9vbGJhcj48bWQtdGFibGUtY29udGFpbmVyPjx0YWJsZSBtZC10YWJsZSBtZC1yb3ctc2VsZWN0PVwiY3RybC5vcHRpb25zLnJvd1NlbGVjdGlvblwiIG11bHRpcGxlPVwie3tjdHJsLm9wdGlvbnMubXVsdGlTZWxlY3R9fVwiIG5nLW1vZGVsPVwiY3RybC5zZWxlY3RlZFwiIG1kLXByb2dyZXNzPVwiY3RybC5wcm9taXNlXCI+PHRoZWFkIG1kLWhlYWQgbWQtb3JkZXI9XCJjdHJsLnF1ZXJ5Lm9yZGVyXCIgbWQtb24tcmVvcmRlcj1cImN0cmwub25SZW9yZGVyXCI+PHRyIG1kLXJvdz48dGggbWQtY29sdW1uIG1kLW9yZGVyLWJ5PVwidmlhbF9pZFwiPjxzcGFuPlZpYWwgSUQ8L3NwYW4+PC90aD48dGggbWQtY29sdW1uPjxzcGFuPkRheSBQcmVwYXJlZDwvc3Bhbj48L3RoPjx0aCBtZC1jb2x1bW4gbWQtb3JkZXItYnk9XCJhc3NpZ25lZF9zYW1wbGVfaWRcIj48c3Bhbj5Bc3NpZ25lZCBTYW1wbGU8L3NwYW4+PC90aD48dGggbWQtY29sdW1uIG5nLXNob3c9XCJjdHJsLnNlbGVjdGVkVmlhbFR5cGUgPT0gXFwnUlhOXFwnXCI+PHNwYW4+RkEgTWFzczwvc3Bhbj48L3RoPjx0aCBtZC1jb2x1bW4gbmctc2hvdz1cImN0cmwuc2VsZWN0ZWRWaWFsVHlwZSA9PSBcXCdSWE5cXCdcIj48c3Bhbj5DMTUgSVNURCBDb25jZW50cmF0aW9uPC9zcGFuPjwvdGg+PHRoIG1kLWNvbHVtbiBuZy1zaG93PVwiY3RybC5zZWxlY3RlZFZpYWxUeXBlID09IFxcJ0dDXFwnXCI+PHNwYW4+QzEzIE1hc3M8L3NwYW4+PC90aD48dGggbWQtY29sdW1uIG5nLXNob3c9XCJjdHJsLnNlbGVjdGVkVmlhbFR5cGUgPT0gXFwnR0NcXCdcIj48c3Bhbj5DMTMgSVNURCBDb25jZW50cmF0aW9uPC9zcGFuPjwvdGg+PHRoIG1kLWNvbHVtbiBuZy1zaG93PVwiY3RybC5zZWxlY3RlZFZpYWxUeXBlID09IFxcJ0dDXFwnXCI+PHNwYW4+QzE5IElTVEQgQ29uY2VudHJhdGlvbjwvc3Bhbj48L3RoPjx0aCBtZC1jb2x1bW4gbmctc2hvdz1cImN0cmwuc2VsZWN0ZWRWaWFsVHlwZSA9PSBcXCdTUEtcXCdcIj48c3Bhbj5HQyBWaWFsIElEPC9zcGFuPjwvdGg+PHRoIG1kLWNvbHVtbiBuZy1zaG93PVwiY3RybC5zZWxlY3RlZFZpYWxUeXBlID09IFxcJ1NQS1xcJ1wiPjxzcGFuPkMxNSBJU1REIENvbmNlbnRyYXRpb248L3NwYW4+PC90aD48dGggbWQtY29sdW1uIG5nLXNob3c9XCJjdHJsLnNlbGVjdGVkVmlhbFR5cGUgPT0gXFwnU1BLXFwnXCI+PHNwYW4+U2FtcGxlIE1hc3M8L3NwYW4+PC90aD48L3RyPjwvdGhlYWQ+PHRib2R5IG1kLWJvZHk+PHRyIG1kLXJvdyBtZC1zZWxlY3Q9XCJ2aWFsXCIgbWQtYXV0by1zZWxlY3Q9XCJjdHJsLm9wdGlvbnMuYXV0b1NlbGVjdFwiIG5nLWRpc2FibGVkPVwiZGVzc2VydC5jYWxvcmllcy52YWx1ZSA+IDQwMFwiIG5nLXJlcGVhdD1cInZpYWwgaW4gY3RybC52aWFscyB8IGZpbHRlcjogZmlsdGVyLnNlYXJjaCB8IG9yZGVyQnk6IGN0cmwucXVlcnkub3JkZXIgfCBsaW1pdFRvOiBjdHJsLnF1ZXJ5LmxpbWl0IDogKGN0cmwucXVlcnkucGFnZSAtMSkgKiBjdHJsLnF1ZXJ5LmxpbWl0XCI+PHRkIG1kLWNlbGw+e3t2aWFsLnZpYWxfaWR9fTwvdGQ+PHRkIG1kLWNlbGw+e3tjdHJsLmNvbnZlcnREYXRlU3RyaW5nKHZpYWwuZGF0ZV9wcmVwYXJlZCl9fTwvdGQ+PHRkIG1kLWNlbGwgbmctc2hvdz1cImN0cmwuc2VsZWN0ZWRWaWFsVHlwZSA9PSBcXCdSWE5cXCdcIj57e3ZpYWwuYXNzaWduZWRfc2FtcGxlX2lkfX08L3RkPjx0ZCBtZC1jZWxsIG5nLXNob3c9XCJjdHJsLnNlbGVjdGVkVmlhbFR5cGUgIT0gXFwnUlhOXFwnXCI+e3t2aWFsLnN0YXR1c319PC90ZD48dGQgbWQtY2VsbCBuZy1zaG93PVwiY3RybC5zZWxlY3RlZFZpYWxUeXBlID09IFxcJ1JYTlxcJ1wiPnt7dmlhbC5mYXR0eV9hY2lkX21hc3N9fTwvdGQ+PHRkIG1kLWNlbGwgbmctc2hvdz1cImN0cmwuc2VsZWN0ZWRWaWFsVHlwZSA9PSBcXCdSWE5cXCdcIj57e3ZpYWwuYzE1X2lzdGRfY29uY2VudHJhdGlvbn19PC90ZD48dGQgbWQtY2VsbCBuZy1zaG93PVwiY3RybC5zZWxlY3RlZFZpYWxUeXBlID09IFxcJ0dDXFwnXCI+e3t2aWFsLmMxM19tYXNzfX08L3RkPjx0ZCBtZC1jZWxsIG5nLXNob3c9XCJjdHJsLnNlbGVjdGVkVmlhbFR5cGUgPT0gXFwnR0NcXCdcIj57e3ZpYWwuYzEzX2lzdGRfY29uY2VudHJhdGlvbn19PC90ZD48dGQgbWQtY2VsbCBuZy1zaG93PVwiY3RybC5zZWxlY3RlZFZpYWxUeXBlID09IFxcJ0dDXFwnXCI+e3t2aWFsLmMxOV9pc3RkX2NvbmNlbnRyYXRpb259fTwvdGQ+PHRkIG1kLWNlbGwgbmctc2hvdz1cImN0cmwuc2VsZWN0ZWRWaWFsVHlwZSA9PSBcXCdTUEtcXCdcIj57e3ZpYWwuZ2NfdmlhbF9pZH19PC90ZD48dGQgbWQtY2VsbCBuZy1zaG93PVwiY3RybC5zZWxlY3RlZFZpYWxUeXBlID09IFxcJ1NQS1xcJ1wiPnt7dmlhbC5jMTVfbWFzc319PC90ZD48dGQgbWQtY2VsbCBuZy1zaG93PVwiY3RybC5zZWxlY3RlZFZpYWxUeXBlID09IFxcJ1NQS1xcJ1wiPnt7dmlhbC5NYXNzXzQ1MG1sX3NhbXBsZX19PC90ZD48L3RyPjwvdGJvZHk+PC90YWJsZT48L21kLXRhYmxlLWNvbnRhaW5lcj48bWQtdGFibGUtcGFnaW5hdGlvbiBtZC1saW1pdD1cImN0cmwucXVlcnkubGltaXRcIiBtZC1saW1pdC1vcHRpb25zPVwiY3RybC5saW1pdE9wdGlvbnNcIiBtZC1wYWdlPVwiY3RybC5xdWVyeS5wYWdlXCIgbWQtdG90YWw9XCJ7e2N0cmwudmlhbHMubGVuZ3RofX1cIiBtZC1wYWdlLXNlbGVjdD1cImN0cmwub3B0aW9ucy5wYWdlU2VsZWN0XCIgbWQtYm91bmRhcnktbGlua3M9XCJjdHJsLm9wdGlvbnMuYm91bmRhcnlMaW5rc1wiPjwvbWQtdGFibGUtcGFnaW5hdGlvbj48L21kLWNhcmQ+PC9tZC1jb250ZW50PicpO1xufV0pO1xufSkoKTtcbiIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ2Jpb2Z1ZWxzLmNvcmUuYXV0aCcsIFtcbiAgJ2Jpb2Z1ZWxzLmNvcmUuYXV0aC5zZXJ2aWNlJ1xuXSk7XG4iLCIoZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmlvZnVlbHMudGVtcGxhdGVzJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdiaW9mdWVscy50ZW1wbGF0ZXMnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ3NlY3Rpb25zL3NhbXBsZXMvc2FtcGxlcy50cGwuaHRtbCcsXG4gICAgJzxkaXYgbWVudT1cIlwiPjwvZGl2PjxtZC10b29sYmFyIGNsYXNzPVwibWQtYWNjZW50XCI+PGRpdiBjbGFzcz1cIm1kLXRvb2xiYXItdG9vbHNcIj48bGFiZWwgbGF5b3V0LXBhZGRpbmc+Q3VzdG9tZXI8L2xhYmVsPjxtZC1zZWxlY3QgbmctbW9kZWw9XCJjdHJsLmxvY2FsU3RvcmFnZS5zZWxlY3RlZEN1c3RvbWVyXCIgcGxhY2Vob2xkZXI9XCJTZWxlY3QgYSBjdXN0b21lclwiIG5nLWNoYW5nZT1cImN0cmwuY2hhbmdlZEN1c3RvbWVyQ29kZSgpXCI+PG1kLW9wdGlvbiBuZy12YWx1ZT1cImN1c3RvbWVyXCIgbmctcmVwZWF0PVwiY3VzdG9tZXIgaW4gY3RybC5jdXN0b21lcnNcIj57eyBjdXN0b21lciB9fTwvbWQtb3B0aW9uPjwvbWQtc2VsZWN0PjxzcGFuPjwvc3Bhbj48bGFiZWwgbGF5b3V0LXBhZGRpbmcgbmctc2hvdz1cImN0cmwubG9jYWxTdG9yYWdlLnNlbGVjdGVkQ3VzdG9tZXIubGVuZ3RoID4gMVwiPkJhdGNoPC9sYWJlbD48bWQtc2VsZWN0IG5nLW1vZGVsPVwiY3RybC5sb2NhbFN0b3JhZ2Uuc2VsZWN0ZWRCYXRjaFwiIG5nLXNob3c9XCJjdHJsLmxvY2FsU3RvcmFnZS5zZWxlY3RlZEN1c3RvbWVyLmxlbmd0aCA+IDFcIiBwbGFjZWhvbGRlcj1cIlNlbGVjdCBhIGJhdGNoXCIgbmctY2hhbmdlPVwiY3RybC5jaGFuZ2VkQmF0Y2hJZCgpXCI+PG1kLW9wdGlvbiBuZy12YWx1ZT1cIitiYXRjaFwiIG5nLXJlcGVhdD1cImJhdGNoIGluIGN0cmwuYmF0Y2hlc1wiPnt7IGJhdGNoIH19PC9tZC1vcHRpb24+PC9tZC1zZWxlY3Q+PG1kLWJ1dHRvbiBjbGFzcz1cIlwiIGFyaWEtbGFiZWw9XCJIb21lIFBhZ2VcIiB1aS1zcmVmPVwibmV3QmF0Y2hcIj5OZXcgQmF0Y2g8L21kLWJ1dHRvbj48ZGl2IG5nLWlmPVwiY3RybC5zZWxlY3RlZC5sZW5ndGggXCI+PG1kLWJ1dHRvbiBjbGFzcz1cIlwiIGFyaWEtbGFiZWw9XCJTYW1wbGVzIFBhZ2VcIiBuZy1jbGljaz1cImN0cmwuZ29Ub1J4bigpXCI+UnhuIFNlbGVjdGlvbjwvbWQtYnV0dG9uPjxtZC1idXR0b24gY2xhc3M9XCJcIiBuZy1jbGljaz1cImN0cmwuZ29Ub1RoZXJtbygpXCIgYXJpYS1sYWJlbD1cIlRoZXJtbyBQYWdlXCIgbmctc2hvdz1cImN0cmwuYWxsUnhuVHJ1ZSgpXCI+VGhlcm1vTWl4ZXI8L21kLWJ1dHRvbj48bWQtYnV0dG9uIGNsYXNzPVwiXCIgbmctY2xpY2s9XCJjdHJsLmdvVG9Wb3J0ZXgoKVwiIGFyaWEtbGFiZWw9XCJWb3J0ZXggUGFnZVwiIG5nLXNob3c9XCJjdHJsLmFsbFRoZXJtb1RydWUoKVwiPlZvcnRleCBNaXhlcjwvbWQtYnV0dG9uPjxtZC1idXR0b24gY2xhc3M9XCJcIiBuZy1jbGljaz1cImN0cmwuZ29Ub0NlbnRyaWZ1Z2UoKVwiIGFyaWEtbGFiZWw9XCJDZW50cmlmdWdlIFBhZ2VcIiBuZy1zaG93PVwiY3RybC5hbGxWb3J0ZXhUcnVlKClcIj5DRU5UUklGVUdFPC9tZC1idXR0b24+PC9kaXY+PC9kaXY+PC9tZC10b29sYmFyPjxtZC1jb250ZW50IGxheW91dC1wYWRkaW5nIG5nLWhpZGU9XCJjdHJsLmxvY2FsU3RvcmFnZS5zZWxlY3RlZEJhdGNoXCI+PGRpdiBsYXlvdXQ9XCJyb3dcIiBsYXlvdXQtYWxpZ249XCJjZW50ZXIgY2VudGVyXCI+U2VsZWN0IGEgY3VzdG9tZXIgYW5kIGJhdGNoIHRvIHZpZXcgc2FtcGxlczwvZGl2PjwvbWQtY29udGVudD48bWQtY2FyZCBuZy1zaG93PVwiY3RybC5sb2NhbFN0b3JhZ2Uuc2VsZWN0ZWRCYXRjaFwiPjxtZC10b29sYmFyIGNsYXNzPVwibWQtdGFibGUtdG9vbGJhciBtZC1kZWZhdWx0XCIgbmctaGlkZT1cIihjdHJsLm9wdGlvbnMucm93U2VsZWN0aW9uICYmIGN0cmwuc2VsZWN0ZWQubGVuZ3RoKSB8fCBjdHJsLnNlYXJjaFwiPjxkaXYgY2xhc3M9XCJtZC10b29sYmFyLXRvb2xzXCI+PHNwYW4+U2FtcGxlczwvc3Bhbj48ZGl2IGZsZXg+PC9kaXY+PG1kLWJ1dHRvbiBjbGFzcz1cIm1kLWljb24tYnV0dG9uXCIgbmctY2xpY2s9XCJjdHJsLmluaXQoKVwiPjxtZC1pY29uPnJlZnJlc2g8L21kLWljb24+PC9tZC1idXR0b24+PC9kaXY+PC9tZC10b29sYmFyPjxtZC10b29sYmFyIGNsYXNzPVwibWQtdGFibGUtdG9vbGJhciBtZC1kZWZhdWx0XCIgbmctc2hvdz1cImN0cmwub3B0aW9ucy5yb3dTZWxlY3Rpb24gJiYgY3RybC5zZWxlY3RlZC5sZW5ndGhcIj48ZGl2IGNsYXNzPVwibWQtdG9vbGJhci10b29sc1wiPjxzcGFuPnt7Y3RybC5zZWxlY3RlZC5sZW5ndGh9fSBpdGVtcyBzZWxlY3RlZDwvc3Bhbj48L2Rpdj48L21kLXRvb2xiYXI+PG1kLXRvb2xiYXIgY2xhc3M9XCJtZC10YWJsZS10b29sYmFyIG1kLWRlZmF1bHRcIiBuZy1zaG93PVwiY3RybC5zZWFyY2ggJiYgIWN0cmwuc2VsZWN0ZWQubGVuZ3RoXCI+PGRpdiBjbGFzcz1cIm1kLXRvb2xiYXItdG9vbHNcIj48bWQtYnV0dG9uIGNsYXNzPVwibWQtaWNvbi1idXR0b25cIj48bWQtaWNvbj5zZWFyY2g8L21kLWljb24+PC9tZC1idXR0b24+PGZvcm0gZmxleCBuYW1lPVwiY3RybC5maWx0ZXIuZm9ybVwiPjxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwiY3RybC5xdWVyeS5maWx0ZXJcIiBwbGFjZWhvbGRlcj1cInNlYXJjaFwiPjwvZm9ybT48bWQtYnV0dG9uIGNsYXNzPVwibWQtaWNvbi1idXR0b25cIiBuZy1jbGljaz1cImN0cmwuc2VhcmNoID0gZmFsc2VcIj48bWQtaWNvbj5jYW5jZWw8L21kLWljb24+PC9tZC1idXR0b24+PC9kaXY+PC9tZC10b29sYmFyPjxtZC10YWJsZS1jb250YWluZXI+PHRhYmxlIG1kLXRhYmxlIG1kLXJvdy1zZWxlY3Q9XCJjdHJsLm9wdGlvbnMucm93U2VsZWN0aW9uXCIgbXVsdGlwbGU9XCJ7e2N0cmwub3B0aW9ucy5tdWx0aVNlbGVjdH19XCIgbmctbW9kZWw9XCJjdHJsLnNlbGVjdGVkXCIgbWQtcHJvZ3Jlc3M9XCJjdHJsLnByb21pc2VcIj48dGhlYWQgbWQtaGVhZCBtZC1vcmRlcj1cInF1ZXJ5Lm9yZGVyXCIgbWQtb24tcmVvcmRlcj1cImN0cmwub25SZW9yZGVyXCI+PHRyIG1kLXJvdz48dGggbWQtY29sdW1uPjxzcGFuPlNBTVBMRSBJRDwvc3Bhbj48L3RoPjx0aCBtZC1jb2x1bW4+PHNwYW4+TkFNRTwvc3Bhbj48L3RoPjx0aCBtZC1jb2x1bW4gbWQtbnVtZXJpYz48c3Bhbj5UWVBFPC9zcGFuPjwvdGg+PHRoIG1kLWNvbHVtbiBtZC1udW1lcmljPlNQRUNJRVMgSUQ8L3RoPjx0aCBtZC1jb2x1bW4gbWQtbnVtZXJpYz5SWE4gVklBTCAjPC90aD48dGggbWQtY29sdW1uIG1kLW51bWVyaWM+VEhFUk1PIE1JWEVSPC90aD48dGggbWQtY29sdW1uIG1kLW51bWVyaWM+Vk9SVEVYPC90aD48dGggbWQtY29sdW1uIG1kLW51bWVyaWM+Q0VOVFJJRlVHRTwvdGg+PC90cj48L3RoZWFkPjx0Ym9keSBtZC1ib2R5Pjx0ciBtZC1yb3cgbWQtc2VsZWN0PVwic2FtcGxlXCIgbWQtYXV0by1zZWxlY3Q9XCJjdHJsLm9wdGlvbnMuYXV0b1NlbGVjdFwiIG5nLWRpc2FibGVkPVwiY3RybC5zYW1wbGVzLmxlbmd0aCA+IDQwMFwiIG5nLXJlcGVhdD1cInNhbXBsZSBpbiBjdHJsLnNhbXBsZXMgfCBmaWx0ZXI6IGZpbHRlci5zZWFyY2ggfCBvcmRlckJ5OiBjdHJsLnF1ZXJ5Lm9yZGVyIHwgbGltaXRUbzogY3RybC5xdWVyeS5saW1pdCA6IChjdHJsLnF1ZXJ5LnBhZ2UgLTEpICogY3RybC5xdWVyeS5saW1pdFwiPjx0ZCBtZC1jZWxsPnt7c2FtcGxlLmlkfX08L3RkPjx0ZCBtZC1jZWxsPnt7c2FtcGxlLm5hbWV9fTwvdGQ+PHRkIG1kLWNlbGw+e3tzYW1wbGUudHlwZX19PC90ZD48dGQgbWQtY2VsbD57e3NhbXBsZS5zcGVjaWVzX2lkfX08L3RkPjx0ZCBtZC1jZWxsPnt7c2FtcGxlLnJ4bl92aWFsX2lkID8gc2FtcGxlLnJ4bl92aWFsX2lkIDogXFwnbm9uZVxcJ319PC90ZD48dGQgbWQtY2VsbD57e3NhbXBsZS50aGVybW9taXhlcl9jb21wbGV0ZSA9PT0gMX19PC90ZD48dGQgbWQtY2VsbD57e3NhbXBsZS52b3J0ZXhfY29tcGxldGUgPT09IDF9fTwvdGQ+PHRkIG1kLWNlbGw+e3tzYW1wbGUuY2VudHJpZnVnZV9jb21wbGV0ZSA9PT0gMX19PC90ZD48L3RyPjwvdGJvZHk+PC90YWJsZT48L21kLXRhYmxlLWNvbnRhaW5lcj48bWQtdGFibGUtcGFnaW5hdGlvbiBtZC1saW1pdD1cImN0cmwucXVlcnkubGltaXRcIiBtZC1saW1pdC1vcHRpb25zPVwiY3RybC5saW1pdE9wdGlvbnNcIiBtZC1wYWdlPVwiY3RybC5xdWVyeS5wYWdlXCIgbWQtdG90YWw9XCJ7e2N0cmwuc2FtcGxlcy5sZW5ndGh9fVwiIG1kLXBhZ2Utc2VsZWN0PVwiY3RybC5vcHRpb25zLnBhZ2VTZWxlY3RcIiBtZC1ib3VuZGFyeS1saW5rcz1cImN0cmwub3B0aW9ucy5ib3VuZGFyeUxpbmtzXCI+PC9tZC10YWJsZS1wYWdpbmF0aW9uPjwvbWQtY2FyZD4nKTtcbn1dKTtcbn0pKCk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdiaW9mdWVscy5jb3JlLmF1dGguc2VydmljZScsIFtcbiAgXSlcbiAgLmZhY3RvcnkoXG4gICAgJ2F1dGhTZXJ2aWNlJyxcbiAgICBmdW5jdGlvbiAoXG4gICAgICAkcm9vdFNjb3BlLFxuICAgICAgQVVUSF9MRVZFTCxcbiAgICAgICRsb2csXG4gICAgICAkbG9jYWxTdG9yYWdlLFxuICAgICAgJHN0YXRlLFxuICAgICAgUk9VVEVTXG4gICAgKSB7XG4gICAgICBmdW5jdGlvbiBpbml0ICgpIHtcbiAgICAgICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN0YXJ0JyxcbiAgICAgICAgICBmdW5jdGlvbihldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMpe1xuXG4gICAgICAgICAgICAkbG9nLmRlYnVnKGV2ZW50KTtcbiAgICAgICAgICAgICRsb2cuZGVidWcodG9TdGF0ZSk7XG4gICAgICAgICAgICAkbG9nLmRlYnVnKHRvUGFyYW1zKTtcbiAgICAgICAgICAgIGlmICh0b1N0YXRlLmF1dGggPT09IEFVVEhfTEVWRUwuQVVUSEVOVElDQVRFICYmXG4gICAgICAgICAgICAgICghJGxvY2FsU3RvcmFnZSB8fCAhJGxvY2FsU3RvcmFnZS51c2VyUHJvZmlsZSB8fCAhJGxvY2FsU3RvcmFnZS51c2VyUHJvZmlsZS50b2tlbikpIHtcbiAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgJHN0YXRlLmdvKFJPVVRFUy5MT0dJTik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaW5pdDogaW5pdFxuICAgICAgfTtcbiAgICB9XG4gICk7XG5cbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdiaW9mdWVscy50ZW1wbGF0ZXMnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jpb2Z1ZWxzLnRlbXBsYXRlcycsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnc2VjdGlvbnMvbG9naW4vbG9naW4udHBsLmh0bWwnLFxuICAgICc8ZGl2IGxheW91dD1cInJvd1wiIGNsYXNzPVwibG9naW5fX2NvbnRhaW5lclwiIGxheW91dC1hbGlnbj1cImNlbnRlciBjZW50ZXJcIj48ZGl2IGZsZXgtZ3QteHM9XCI1MFwiIGZsZXgtZ3Qtc209XCI0MFwiIGZsZXgtZ3QtbWQ9XCIzMFwiPjxtZC1jYXJkPjxpbWcgbmctc3JjPVwiaW1hZ2VzL2xvZ2luLWhlYWRlci0zLmpwZ1wiIGNsYXNzPVwibWQtY2FyZC1pbWFnZVwiIGFsdD1cImltYWdlIGNhcHRpb25cIj48bWQtdGFicyBtZC1zZWxlY3RlZD1cImN0cmwuc2VsZWN0ZWRUYWJcIiBtZC1jZW50ZXItdGFicyBtZC1keW5hbWljLWhlaWdodCBtZC1zdHJldGNoLXRhYnM9XCJhbHdheXNcIj48bWQtdGFiIGlkPVwidGFiMVwiPjxtZC10YWItbGFiZWw+TG9naW48L21kLXRhYi1sYWJlbD48bWQtdGFiLWJvZHk+PG1kLWNvbnRlbnQgbGF5b3V0LXBhZGRpbmc+PGRpdj48Zm9ybSBuYW1lPVwidXNlckZvcm1cIiBuZy1zdWJtaXQ9XCJjdHJsLmxvZ2luVXNlcigpXCI+PG1kLWlucHV0LWNvbnRhaW5lciBjbGFzcz1cIm1kLWJsb2NrXCI+PGxhYmVsPkVtYWlsPC9sYWJlbD48aW5wdXQgbmctbW9kZWw9XCJjdHJsLnVzZXJMb2dpbi5lbWFpbFwiIHJlcXVpcmVkPjwvbWQtaW5wdXQtY29udGFpbmVyPjxtZC1pbnB1dC1jb250YWluZXIgY2xhc3M9XCJtZC1ibG9ja1wiPjxsYWJlbD5QYXNzd29yZDwvbGFiZWw+PGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIG5nLW1vZGVsPVwiY3RybC51c2VyTG9naW4ucGFzc3dvcmRcIiBuZy1rZXlwcmVzcz1cImN0cmwub25FbnRlcigkZXZlbnQpXCIgcmVxdWlyZWQ+PC9tZC1pbnB1dC1jb250YWluZXI+PC9mb3JtPjwvZGl2PjxwIG5nLWNsYXNzPVwieyBcXCdmb3JtLXN1Y2Nlc3NcXCcgOiBjdHJsLmZvcm1SZXNwb25zZSxcXG4nICtcbiAgICAnXFxuJyArXG4gICAgJyAgICAgICAgXFwnZm9ybS1lcnJvclxcJyA6IGN0cmwuZm9ybUVycm9yIH1cIj57eyBjdHJsLmZvcm1SZXNwb25zZSB8fCBjdHJsLmZvcm1FcnJvciB9fTwvcD48L21kLWNvbnRlbnQ+PC9tZC10YWItYm9keT48L21kLXRhYj48bWQtdGFiIGlkPVwidGFiMlwiPjxtZC10YWItbGFiZWw+UmVnaXN0ZXI8L21kLXRhYi1sYWJlbD48bWQtdGFiLWJvZHk+PG1kLWNvbnRlbnQgbGF5b3V0LXBhZGRpbmc+PGRpdj48Zm9ybSBuYW1lPVwicmVnaXN0ZXJGb3JtXCI+PG1kLWlucHV0LWNvbnRhaW5lciBjbGFzcz1cIm1kLWJsb2NrXCI+PGxhYmVsPkZ1bGwgTmFtZTwvbGFiZWw+PGlucHV0IG5nLW1vZGVsPVwiY3RybC51c2VyUmVnaXN0ZXIuZnVsbE5hbWVcIiBuYW1lPVwiZnVsbE5hbWVcIiByZXF1aXJlZCBtZC1tYXhsZW5ndGg9XCI0MFwiPjxkaXYgbmctbWVzc2FnZXM9XCJyZWdpc3RlckZvcm0uZnVsbE5hbWUuJGVycm9yXCI+PG5nLW1lc3NhZ2Ugd2hlbj1cIltcXCdyZXF1aXJlZFxcJywgXFwnbWF4bGVuZ3RoXFwnXVwiPlRoaXMgaXMgcmVxdWlyZWQhPC9uZy1tZXNzYWdlPjwvZGl2PjwvbWQtaW5wdXQtY29udGFpbmVyPjxtZC1pbnB1dC1jb250YWluZXIgY2xhc3M9XCJtZC1ibG9ja1wiPjxsYWJlbD5MaWJlcnR5IEVtYWlsPC9sYWJlbD48aW5wdXQgdHlwZT1cImVtYWlsXCIgbmctbW9kZWw9XCJjdHJsLnVzZXJSZWdpc3Rlci5lbWFpbFwiIG5hbWU9XCJ1c2VyRW1haWxcIiBuZy1wYXR0ZXJuPVwiL15bXFxcXHcuXStAbGliZXJ0eS5lZHUkL1wiIHJlcXVpcmVkPjxkaXYgbmctbWVzc2FnZXM9XCJyZWdpc3RlckZvcm0udXNlckVtYWlsLiRlcnJvclwiIG5nLW1lc3NhZ2VzLW11bHRpcGxlPjxkaXYgbmctbWVzc2FnZT1cInJlcXVpcmVkXCI+VGhpcyBpcyByZXF1aXJlZCE8L2Rpdj48ZGl2IG5nLW1lc3NhZ2U9XCJwYXR0ZXJuXCI+WW91IG11c3QgaGF2ZSBhIGxpYmVydHkgZW1haWw8L2Rpdj48L2Rpdj48L21kLWlucHV0LWNvbnRhaW5lcj48bWQtaW5wdXQtY29udGFpbmVyIGNsYXNzPVwibWQtYmxvY2tcIj48bGFiZWw+UGFzc3dvcmQ8L2xhYmVsPjxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBuYW1lPVwicGFzc3dvcmRcIiBuZy1tb2RlbD1cImN0cmwudXNlclJlZ2lzdGVyLnBhc3N3b3JkXCIgbmctcGF0dGVybj1cIi9eW2EtekEtWl1cXFxcd3s1LDIwfSQvXCI+PGRpdiBuZy1tZXNzYWdlcz1cInJlZ2lzdGVyRm9ybS5wYXNzd29yZC4kZXJyb3JcIiBuZy1tZXNzYWdlcy1tdWx0aXBsZT48ZGl2IG5nLW1lc3NhZ2U9XCJyZXF1aXJlZFwiPlRoaXMgaXMgcmVxdWlyZWQhPC9kaXY+PGRpdiBuZy1tZXNzYWdlPVwicGF0dGVyblwiPllvdSBuZWVkIGEgbW9yZSBjb21wbGV4IHBhc3N3b3JkPC9kaXY+PC9kaXY+PC9tZC1pbnB1dC1jb250YWluZXI+PC9mb3JtPjwvZGl2PjxwIG5nLWNsYXNzPVwieyBcXCdmb3JtLXN1Y2Nlc3NcXCcgOiBjdHJsLnJlZ2lzdGVyRm9ybVJlc3BvbnNlLFxcbicgK1xuICAgICdcXG4nICtcbiAgICAnICAgICAgICBcXCdmb3JtLWVycm9yXFwnIDogY3RybC5yZWdpc3RlckZvcm1FcnJvciB9XCI+e3sgY3RybC5yZWdpc3RlckZvcm1SZXNwb25zZSB8fCBjdHJsLnJlZ2lzdGVyRm9ybUVycm9yIH19PC9wPjwvbWQtY29udGVudD48L21kLXRhYi1ib2R5PjwvbWQtdGFiPjwvbWQtdGFicz48bWQtY2FyZC1hY3Rpb25zIGxheW91dD1cInJvd1wiIGxheW91dC1hbGlnbj1cImVuZCBjZW50ZXJcIj48bWQtYnV0dG9uIGNsYXNzPVwibWQtcmFpc2VkIG1kLXByaW1hcnlcIiBuZy1zaG93PVwiY3RybC5zZWxlY3RlZFRhYiA9PT0gMFwiIGFyaWEtbGFiZWw9XCJQcm9jZWVkXCIgbmctY2xpY2s9XCJjdHJsLmxvZ2luVXNlcigpXCIgbmctZGlzYWJsZWQ9XCIhdXNlckZvcm0uJHZhbGlkXCI+TG9naW48L21kLWJ1dHRvbj48bWQtYnV0dG9uIGNsYXNzPVwibWQtcmFpc2VkIG1kLXByaW1hcnlcIiBuZy1zaG93PVwiY3RybC5zZWxlY3RlZFRhYiA9PT0gMVwiIGFyaWEtbGFiZWw9XCJQcm9jZWVkXCIgbmctY2xpY2s9XCJjdHJsLnJlZ2lzdGVyVXNlcigpXCIgbmctZGlzYWJsZWQ9XCIhcmVnaXN0ZXJGb3JtLiR2YWxpZFwiPlJlZ2lzdGVyPC9tZC1idXR0b24+PC9tZC1jYXJkLWFjdGlvbnM+PC9tZC1jYXJkPjwvZGl2PjwvZGl2PicpO1xufV0pO1xufSkoKTtcbiIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ2Jpb2Z1ZWxzLmNvbXBvbmVudC5tZW51JywgW1xuICAnYmlvZnVlbHMuY29tcG9uZW50Lm1lbnUuY29udHJvbGxlcicsXG4gICdiaW9mdWVscy5jb21wb25lbnQubWVudS5kaXJlY3RpdmUnXG5dKTtcbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdiaW9mdWVscy50ZW1wbGF0ZXMnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jpb2Z1ZWxzLnRlbXBsYXRlcycsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnc2VjdGlvbnMvY3VzdG9tZXJzL2N1c3RvbWVycy50cGwuaHRtbCcsXG4gICAgJzxkaXYgbWVudT1cIlwiPjwvZGl2PjxtZC10b29sYmFyIGNsYXNzPVwibWQtYWNjZW50XCI+PGRpdiBjbGFzcz1cIm1kLXRvb2xiYXItdG9vbHNcIj48bWQtYnV0dG9uIGNsYXNzPVwiXCIgYXJpYS1sYWJlbD1cIkhvbWUgUGFnZVwiIHVpLXNyZWY9XCJjcmVhdGVDdXN0b21lclwiPk5ldyBDdXN0b21lcjwvbWQtYnV0dG9uPjwvZGl2PjwvbWQtdG9vbGJhcj48bWQtY29udGVudCBsYXlvdXQtcGFkZGluZz48bWQtdGFibGUtY29udGFpbmVyPjx0YWJsZSBtZC10YWJsZSBtZC1yb3ctc2VsZWN0IG5nLW1vZGVsPVwiY3RybC5zZWxlY3RlZFwiPjx0aGVhZCBtZC1oZWFkIG1kLW9yZGVyPVwicXVlcnkub3JkZXJcIiBtZC1vbi1yZW9yZGVyPVwiY3RybC5vblJlb3JkZXJcIj48dHIgbWQtcm93Pjx0aCBtZC1jb2x1bW4+PHNwYW4+SUQ8L3NwYW4+PC90aD48dGggbWQtY29sdW1uPjxzcGFuPkN1c3RvbWVyIE5hbWU8L3NwYW4+PC90aD48dGggbWQtY29sdW1uPjxzcGFuPkN1c3RvbWVyIENvZGU8L3NwYW4+PC90aD48dGggbWQtY29sdW1uPjxzcGFuPkNvbnRhY3QgTmFtZSAjMTwvc3Bhbj48L3RoPjx0aCBtZC1jb2x1bW4+PHNwYW4+Q29udGFjdCBOYW1lICMyPC9zcGFuPjwvdGg+PHRoIG1kLWNvbHVtbj48c3Bhbj5CaWxsaW5nIE5hbWU8L3NwYW4+PC90aD48dGggbWQtY29sdW1uPjxzcGFuPkFkZHJlc3M8L3NwYW4+PC90aD48dGggbWQtY29sdW1uPjxzcGFuPkFkZHJlc3MgMjwvc3Bhbj48L3RoPjx0aCBtZC1jb2x1bW4+PHNwYW4+Q2l0eTwvc3Bhbj48L3RoPjx0aCBtZC1jb2x1bW4+PHNwYW4+U3RhdGU8L3NwYW4+PC90aD48dGggbWQtY29sdW1uPjxzcGFuPlBvc3RhbCBDb2RlPC9zcGFuPjwvdGg+PHRoIG1kLWNvbHVtbj48c3Bhbj5QaG9uZSBOdW1iZXI8L3NwYW4+PC90aD48dGggbWQtY29sdW1uPjxzcGFuPmVtYWlsPC9zcGFuPjwvdGg+PC90cj48L3RoZWFkPjx0Ym9keSBtZC1ib2R5Pjx0ciBtZC1yb3cgbmctcmVwZWF0PVwiY3VzdG9tZXIgaW4gY3RybC5jdXN0b21lcnNcIiBtZC1zZWxlY3Q9XCJjdXN0b21lclwiIG1kLXNlbGVjdC1pZD1cInt7Y3VzdG9tZXJ9fVwiIG1kLWF1dG8tc2VsZWN0Pjx0ZCBtZC1jZWxsPnt7Y3VzdG9tZXIuaWR9fTwvdGQ+PHRkIG1kLWNlbGw+e3tjdXN0b21lci5jdXN0b21lcl9uYW1lfX08L3RkPjx0ZCBtZC1jZWxsPnt7Y3VzdG9tZXIuY3VzdG9tZXJfY29kZX19PC90ZD48dGQgbWQtY2VsbD57e2N1c3RvbWVyLmNvbnRhY3RfbmFtZTF9fTwvdGQ+PHRkIG1kLWNlbGw+e3tjdXN0b21lci5jb250YWN0X25hbWUyfX08L3RkPjx0ZCBtZC1jZWxsPnt7Y3VzdG9tZXIuYmlsbGluZ19uYW1lfX08L3RkPjx0ZCBtZC1jZWxsPnt7Y3VzdG9tZXIuYWRkcmVzc18xfX08L3RkPjx0ZCBtZC1jZWxsPnt7Y3VzdG9tZXIuYWRkcmVzc18yfX08L3RkPjx0ZCBtZC1jZWxsPnt7Y3VzdG9tZXIuY2l0eX19PC90ZD48dGQgbWQtY2VsbD57e2N1c3RvbWVyLnN0YXRlfX08L3RkPjx0ZCBtZC1jZWxsPnt7Y3VzdG9tZXIucG9zdGFsX2NvZGV9fTwvdGQ+PHRkIG1kLWNlbGw+e3tjdXN0b21lci5waG9uZV9udW1iZXJ9fTwvdGQ+PHRkIG1kLWNlbGw+e3tjdXN0b21lci5lbWFpbH19PC90ZD48L3RyPjwvdGJvZHk+PC90YWJsZT48L21kLXRhYmxlLWNvbnRhaW5lcj48bWQtdGFibGUtcGFnaW5hdGlvbiBtZC1saW1pdD1cImN0cmwucXVlcnkubGltaXRcIiBtZC1wYWdlPVwiY3RybC5xdWVyeS5wYWdlXCIgbWQtdG90YWw9XCJ7e2N0cmwuZGVzc2VydHMuY291bnR9fVwiIG1kLW9uLXBhZ2luYXRlPVwib25QYWdpbmF0ZVwiIG1kLXBhZ2Utc2VsZWN0PjwvbWQtdGFibGUtcGFnaW5hdGlvbj48L21kLWNvbnRlbnQ+Jyk7XG59XSk7XG59KSgpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnYmlvZnVlbHMuY29tcG9uZW50Lm1lbnUuZGlyZWN0aXZlJywgW1xuICAgICdiaW9mdWVscy5jb21wb25lbnQubWVudS5jb250cm9sbGVyJ1xuICBdKVxuICAuZGlyZWN0aXZlKFxuICAgICdtZW51JyxcbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvbWVudS9tZW51LnRwbC5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ01lbnVDdHJsIGFzIG1lbnVDdHJsJ1xuICAgICAgfTtcbiAgICB9XG4gICk7XG5cbiIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ2Jpb2Z1ZWxzLmNvbXBvbmVudC5tZW51LmNvbnRyb2xsZXInLCBbXG4gICAgJ25nU3RvcmFnZScsXG4gICAgJ2Jpb2Z1ZWxzLmNvcmUudXNlci5zZXJ2aWNlJyxcbiAgICAnYmlvZnVlbHMuY29yZS5yb3V0ZXIuY29uc3RhbnRzJ1xuICBdKVxuICAuY29udHJvbGxlcihcbiAgICAnTWVudUN0cmwnLFxuICAgIGZ1bmN0aW9uIChcbiAgICAgICRsb2NhbFN0b3JhZ2UsXG4gICAgICB1c2VyU2VydmljZSxcbiAgICAgICRzdGF0ZSxcbiAgICAgIFJPVVRFU1xuICAgICkge1xuICAgICAgKGZ1bmN0aW9uICh2bSkge1xuICAgICAgICB2bS51c2VyUHJvZmlsZSA9ICRsb2NhbFN0b3JhZ2UudXNlclByb2ZpbGU7XG5cbiAgICAgICAgdm0ubG9nb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHVzZXJTZXJ2aWNlLmxvZ291dCgpO1xuICAgICAgICAgICRzdGF0ZS5nbyhST1VURVMuTE9HSU4pO1xuICAgICAgICB9XG4gICAgICB9KSh0aGlzKTtcbiAgICB9XG4gICk7XG5cbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdiaW9mdWVscy50ZW1wbGF0ZXMnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jpb2Z1ZWxzLnRlbXBsYXRlcycsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnc2VjdGlvbnMvaG9tZS9ob21lLnRwbC5odG1sJyxcbiAgICAnPGRpdiBtZW51PVwiXCI+PC9kaXY+PG1kLWNvbnRlbnQgbGF5b3V0LXBhZGRpbmc+PGRpdiBsYXlvdXQ9XCJyb3dcIiBsYXlvdXQtc209XCJjb2x1bW5cIj48ZGl2IGZsZXgtZ3Qtc209XCI0NVwiPjxjYW52YXMgaWQ9XCJwaWVcIiBjbGFzcz1cImNoYXJ0IGNoYXJ0LXBpZVwiIGNoYXJ0LWRhdGE9XCJjdHJsLmRhdGFcIiBjaGFydC1sYWJlbHM9XCJjdHJsLmxhYmVsc1wiPjwvY2FudmFzPjwvZGl2PjxkaXYgZmxleC1ndC1zbT1cIjU1XCI+PGNhbnZhcyBpZD1cImxpbmUxXCIgY2xhc3M9XCJjaGFydCBjaGFydC1saW5lXCIgY2hhcnQtZGF0YT1cImN0cmwubGluZURhdGFcIiBjaGFydC1sYWJlbHM9XCJjdHJsLmxpbmVMYWJlbHNcIiBjaGFydC1sZWdlbmQ9XCJ0cnVlXCIgY2hhcnQtc2VyaWVzPVwiY3RybC5saW5lU2VyaWVzXCIgY2hhcnQtY2xpY2s9XCJvbkNsaWNrXCI+PC9jYW52YXM+PC9kaXY+PGRpdiBmbGV4LWd0LXNtPVwiNDVcIj48Y2FudmFzIGlkPVwicGllMlwiIGNsYXNzPVwiY2hhcnQgY2hhcnQtcGllXCIgY2hhcnQtZGF0YT1cImN0cmwuZGF0YVwiIGNoYXJ0LWxhYmVscz1cImN0cmwubGFiZWxzXCI+PC9jYW52YXM+PC9kaXY+PC9kaXY+PGRpdiBsYXlvdXQ9XCJyb3dcIj48ZGl2IGZsZXg9XCIzNVwiPjxjYW52YXMgaWQ9XCJsaW5lXCIgY2xhc3M9XCJjaGFydCBjaGFydC1saW5lXCIgY2hhcnQtZGF0YT1cImN0cmwubGluZURhdGFcIiBjaGFydC1sYWJlbHM9XCJjdHJsLmxpbmVMYWJlbHNcIiBjaGFydC1sZWdlbmQ9XCJ0cnVlXCIgY2hhcnQtc2VyaWVzPVwiY3RybC5saW5lU2VyaWVzXCIgY2hhcnQtY2xpY2s9XCJvbkNsaWNrXCI+PC9jYW52YXM+PC9kaXY+PGRpdiBmbGV4PjxjYW52YXMgaWQ9XCJyYWRhclwiIGNsYXNzPVwiY2hhcnQgY2hhcnQtcmFkYXJcIiBjaGFydC1kYXRhPVwiY3RybC5yYWRhckRhdGFcIiBjaGFydC1sYWJlbHM9XCJjdHJsLnJhZGFyTGFiZWxzXCI+PC9jYW52YXM+PC9kaXY+PGRpdiBmbGV4PjxjYW52YXMgaWQ9XCJiYXJcIiBjbGFzcz1cImNoYXJ0IGNoYXJ0LWJhclwiIGNoYXJ0LWRhdGE9XCJjdHJsLmJhckRhdGFcIiBjaGFydC1sYWJlbHM9XCJjdHJsLmJhckxhYmVsc1wiIGNoYXJ0LXNlcmllcz1cImN0cmwuYmFyU2VyaWVzXCI+PC9jYW52YXM+PC9kaXY+PC9kaXY+PC9tZC1jb250ZW50PicpO1xufV0pO1xufSkoKTtcbiIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ2Jpb2Z1ZWxzJywgW1xuICAgICduZ01hdGVyaWFsJyxcbiAgICAndWkucm91dGVyJyxcbiAgICAnY2hhcnQuanMnLFxuICAgICdtZC5kYXRhLnRhYmxlJyxcbiAgICAnYmlvZnVlbHMuY29tcG9uZW50Lm1lbnUnLFxuICAgICdiaW9mdWVscy5jb3JlLmF1dGgnLFxuICAgICdiaW9mdWVscy5jb3JlLmN1c3RvbWVyJyxcbiAgICAnYmlvZnVlbHMuY29yZS5yZXNvdXJjZScsXG4gICAgJ2Jpb2Z1ZWxzLmNvcmUucm91dGVyJyxcbiAgICAnYmlvZnVlbHMuY29yZS5zYW1wbGUnLFxuICAgICdiaW9mdWVscy5jb3JlLnVzZXInLFxuICAgICdiaW9mdWVscy5jb3JlLnZpYWwnLFxuICAgICdiaW9mdWVscy5jb3JlLndyYXBwZXJzJyxcbiAgICAnYmlvZnVlbHMuc2VjdGlvbnMuY3JlYXRlQ3VzdG9tZXInLFxuICAgICdiaW9mdWVscy5zZWN0aW9ucy5jdXN0b21lcnMnLFxuICAgICdiaW9mdWVscy5zZWN0aW9ucy5jcmVhdGVWaWFscycsXG4gICAgJ2Jpb2Z1ZWxzLnNlY3Rpb25zLmNlbnRyaWZ1Z2UnLFxuICAgICdiaW9mdWVscy5zZWN0aW9ucy5ob21lJyxcbiAgICAnYmlvZnVlbHMuc2VjdGlvbnMubG9naW4nLFxuICAgICdiaW9mdWVscy5zZWN0aW9ucy5uZXdCYXRjaCcsXG4gICAgJ2Jpb2Z1ZWxzLnNlY3Rpb25zLnJ4blNlbGVjdGlvbicsXG4gICAgJ2Jpb2Z1ZWxzLnNlY3Rpb25zLnNhbXBsZXMnLFxuICAgICdiaW9mdWVscy5zZWN0aW9ucy50aGVybW9NaXhlcicsXG4gICAgJ2Jpb2Z1ZWxzLnNlY3Rpb25zLnZvcnRleCcsXG4gICAgJ2Jpb2Z1ZWxzLnNlY3Rpb25zLnZpYWxzJ1xuICBdKVxuICAuY29uZmlnKGZ1bmN0aW9uKCRtZFRoZW1pbmdQcm92aWRlcikge1xuICAgIHZhciBncmVlbkRhcmtDb250cmFzdCA9ICRtZFRoZW1pbmdQcm92aWRlci5leHRlbmRQYWxldHRlKCdncmVlbicsIHtcbiAgICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdkYXJrJyxcbiAgICAgICdjb250cmFzdExpZ2h0Q29sb3JzJzogJ2xpZ2h0J1xuICAgIH0pO1xuICAgIC8vIFJlZ2lzdGVyIHRoZSBuZXcgY29sb3IgcGFsZXR0ZSBtYXAgd2l0aCB0aGUgbmFtZSA8Y29kZT5uZW9uUmVkPC9jb2RlPlxuICAgICRtZFRoZW1pbmdQcm92aWRlci5kZWZpbmVQYWxldHRlKCdncmVlbkRhcmsnLCBncmVlbkRhcmtDb250cmFzdCk7XG5cbiAgICAkbWRUaGVtaW5nUHJvdmlkZXIuZGVmaW5lUGFsZXR0ZSgnYW1hemluZ1BhbGV0dGVOYW1lJywge1xuICAgICAgJzUwJzogJ2ZmZWJlZScsXG4gICAgICAnMTAwJzogJ2ZmY2RkMicsXG4gICAgICAnMjAwJzogJ2VmOWE5YScsXG4gICAgICAnMzAwJzogJ2U1NzM3MycsXG4gICAgICAnNDAwJzogJ2VmNTM1MCcsXG4gICAgICAnNTAwJzogJ2Y0NDMzNicsXG4gICAgICAnNjAwJzogJ2U1MzkzNScsXG4gICAgICAnNzAwJzogJ2QzMmYyZicsXG4gICAgICAnODAwJzogJ2M2MjgyOCcsXG4gICAgICAnOTAwJzogJ2I3MWMxYycsXG4gICAgICAnQTEwMCc6ICdmZjhhODAnLFxuICAgICAgJ0EyMDAnOiAnZmY1MjUyJyxcbiAgICAgICdBNDAwJzogJ2ZmMTc0NCcsXG4gICAgICAnQTcwMCc6ICdkNTAwMDAnLFxuICAgICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2xpZ2h0JywgICAgLy8gd2hldGhlciwgYnkgZGVmYXVsdCwgdGV4dCAoY29udHJhc3QpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvbiB0aGlzIHBhbGV0dGUgc2hvdWxkIGJlIGRhcmsgb3IgbGlnaHRcbiAgICAgICdjb250cmFzdERhcmtDb2xvcnMnOiBbJzUwJywgJzEwMCcsIC8vaHVlcyB3aGljaCBjb250cmFzdCBzaG91bGQgYmUgJ2RhcmsnIGJ5IGRlZmF1bHRcbiAgICAgICAgJzIwMCcsICczMDAnLCAnNDAwJywgJ0ExMDAnXSxcbiAgICAgICdjb250cmFzdExpZ2h0Q29sb3JzJzogdW5kZWZpbmVkICAgIC8vIGNvdWxkIGFsc28gc3BlY2lmeSB0aGlzIGlmIGRlZmF1bHQgd2FzICdkYXJrJ1xuICAgIH0pO1xuXG4gICAgJG1kVGhlbWluZ1Byb3ZpZGVyLnRoZW1lKCdkZWZhdWx0JylcbiAgICAgIC5wcmltYXJ5UGFsZXR0ZSgnYmx1ZS1ncmV5JylcbiAgICAgIC5hY2NlbnRQYWxldHRlKCdncmVlbkRhcmsnKVxuICAgICAgLmJhY2tncm91bmRQYWxldHRlKCdncmV5Jyk7XG4gIH0pXG4gIC5ydW4oZnVuY3Rpb24gKCRsb2csIGF1dGhTZXJ2aWNlKSB7XG4gICAgJGxvZy5kZWJ1ZygnV2VsY29tZSB0byBBbmd1bGFyIScpO1xuXG4gICAgLy9Jbml0aWFsaXplXG4gICAgYXV0aFNlcnZpY2UuaW5pdCgpO1xuXG4gIH0pO1xuIiwiKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jpb2Z1ZWxzLnRlbXBsYXRlcycpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmlvZnVlbHMudGVtcGxhdGVzJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdjb21wb25lbnRzL21lbnUvbWVudS50cGwuaHRtbCcsXG4gICAgJzxtZC10b29sYmFyPjxkaXYgY2xhc3M9XCJtZC10b29sYmFyLXRvb2xzXCI+PGE+PGltZyBjbGFzcz1cIm1lbnVfX2xvZ29cIiBzcmM9XCJpbWFnZXMvYmlvLWxvZ28tMi5zdmdcIj48L2E+PG1kLWJ1dHRvbiBjbGFzcz1cIm1kLXByaW1hcnlcIiBhcmlhLWxhYmVsPVwiSG9tZSBQYWdlXCIgdWktc3JlZj1cImhvbWVcIj5Ib21lPC9tZC1idXR0b24+PG1kLWJ1dHRvbiBhcmlhLWxhYmVsPVwiU2FtcGxlcyBQYWdlXCIgdWktc3JlZj1cInNhbXBsZXNcIj5TYW1wbGVzPC9tZC1idXR0b24+PG1kLWJ1dHRvbiBhcmlhLWxhYmVsPVwiVmlhbHMgUGFnZVwiIHVpLXNyZWY9XCJ2aWFsc1wiPlZpYWxzPC9tZC1idXR0b24+PG1kLWJ1dHRvbiBhcmlhLWxhYmVsPVwiQ3VzdG9tZXJzIFBhZ2VcIiB1aS1zcmVmPVwiY3VzdG9tZXJzXCI+Q3VzdG9tZXJzPC9tZC1idXR0b24+PHNwYW4gZmxleD48L3NwYW4+PG1kLWJ1dHRvbj5IZXksIHt7bWVudUN0cmwudXNlclByb2ZpbGUuZnVsbE5hbWV9fTwvbWQtYnV0dG9uPjxtZC1idXR0b24gY2xhc3M9XCJtZC1yYWlzZWRcIiBhcmlhLWxhYmVsPVwiTGVhcm4gTW9yZVwiIG5nLWNsaWNrPVwibWVudUN0cmwubG9nb3V0KClcIj5Mb2dvdXQ8L21kLWJ1dHRvbj48L2Rpdj48L21kLXRvb2xiYXI+Jyk7XG59XSk7XG59KSgpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
